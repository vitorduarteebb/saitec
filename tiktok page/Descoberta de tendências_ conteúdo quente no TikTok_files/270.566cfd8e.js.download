/*! For license information please see 270.566cfd8e.js.LICENSE.txt */
(self.webpackChunk_ad_creative_center_copilot=self.webpackChunk_ad_creative_center_copilot||[]).push([[270],{31565:function(e,t,n){"use strict";n.d(t,{P:function(){return Be}});var i=function(){return(i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function r(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function o(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e}var a,s,c,u=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(r){t(r),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&o(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),l=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},p=function(e){return Array.isArray(e)},f=(a=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return a+=1}),d=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[];n=n<=25?n:n%25;var o=String.fromCharCode(n+97);i=e.split(o);for(var a=0;a<i.length;a++){var s=parseInt(i[a],n);s=1*s^64;var c=String.fromCharCode(s);r.push(c)}return r.join("")}}(e,0,25)},h=function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)},g=function(e,t,n){var i=document.createElement("script");i.src=e,i.onerror=function(){n(e)},i.onload=function(){t()},document.getElementsByTagName("head")[0].appendChild(i)},_=function(){var e=0;return["hidden","msHidden","webkitHidden"].forEach((function(t){void 0!==document[t]&&(e=1)})),e},m=function(e){var t=document.createElement("a");return t.href=e,t},v=function(e){var t={};try{var n=m(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},y=function(e,t){return function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=n()}(t={exports:{}}),t.exports}(),b=function(e,t){try{return y.get(e)}catch(e){return""}},w=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);y.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},E=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return b(e)},e.prototype.setCookie=function(e,t,n,i){w(e,t,n,i)},e}(),S={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return b(e)},setCookie:function(e,t,n,i){w(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(i){return!1}}()},k={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return b(e)},setCookie:function(e,t,n,i){w(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(i){return!1}}()},T=function(){function e(e,t){this._storage=t&&"session"===t?k:!e&&S.isSupportLS?S:new E}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),x=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?m(n).hostname:"",r=v(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new T(!1,"session"),o=e?"_$utm_from_url_"+e:"_$utm_from_url",a={},s=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var u=!1;for(var l in c)c[l]&&(-1!==s.indexOf(l)?(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data[l]=c[l]):a[l]=c[l],u=!0);u&&r.setItem(o,"1"),r.getItem(o)&&(a.hasOwnProperty("tracer_data")||(a.tracer_data={}),a.tracer_data.$utm_from_url=1)}catch(e){return c}return a}(this.appid,r,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,i=t,a=!0;var s=v(e);s.keyword&&(r=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:a}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return-1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(n="Lark",i=r.substring(e+5,e+11)):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))&&(n="Firefox",i=r.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<n.length;i++){var r=n[i];if(r.r.test(this.userAgent)){"Mac OS X"===(e=r.s)&&this.isNewIpad()&&(e="iOS");break}}var o,a,s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=s(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,o=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,o)),t=a,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var u=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(u+7,u+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),A={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},O={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},R={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},I={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},C="https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-ab-core.js";!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.DestoryInstance="destory-instance",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(s||(s={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(c||(c={}));var D=s,P=void 0,N=(new Date).getTimezoneOffset(),L=parseInt(""+-N/60,10),M=60*N,G=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new x(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new T(!1,"session"),this.localStorage=new T(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:P,user_type:P,user_id:P,user_is_auth:P,user_is_login:P,device_id:P,web_id:P,ip_addr_id:P,user_unique_id_type:P},header:{app_id:P,app_name:P,app_install_id:P,install_id:P,app_package:P,app_channel:P,app_version:P,ab_version:P,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:P,traffic_type:P,client_ip:P,device_brand:P,os_api:P,access:P,language:n.language,region:P,app_language:P,app_region:P,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:P,rnd:P,platform:n.platform,sdk_version:"5.2.3_oversea",sdk_lib:"js",province:P,city:P,timezone:L,tz_offset:M,tz_name:P,sim_region:P,carrier:P,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?R[n]:I[n]:A[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=A.sg),this.domain=d(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.2.3_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=i(i({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=i(i({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var r="",o="";if(n.indexOf(".")>-1){var a=n.split(".");r=a[0],o=a[1]}r?"user"===r||"header"===r?t.envInfo[r][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),z=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),j=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),U=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57cb\u70b9\u4e0a\u62a5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),B=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new T(!0),this.localStorage=new T(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(D.Ready,(function(){n.reportAll(!1)})),this.collect.on(D.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(D.Event,(function(e){n.event(e)})),this.collect.on(D.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(D.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),h((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=o(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=o(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroy||this.collect.sdkStop||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,r=this.configManager.get(),o=r.header,a=r.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var s=this.configManager.get("evtParams"),u=this.configManager.get("user_unique_id_type"),l=e.map((function(e){try{Object.keys(s).length&&!t&&(e.params=i(i({},s),e.params)),u&&(e.params.$user_unique_id_type=u);var r=n.configManager.getAbCache(),o=a[n.config.ab_user_mode]||a.user_unique_id,l=n.configManager.getAbUuidCache(o);if(r&&r.uuid&&r.uuid===o){var p=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(l&&l.length){var f=l.join(",");p&&p.includes(f)&&(e.ab_sdk_version=p)}}else p&&(e.ab_sdk_version=p)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(i){return n.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:i.message}),e}})),p=JSON.parse(JSON.stringify({events:l,user:a,header:o}));p.local_time=Math.floor(Date.now()/1e3),p.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,p.verbose=1;var f=[];return f.push(p),f},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(!r.length)return;var a=!0;if(r.forEach((function(e){e.events.length||(a=!1)})),!a)return;n.collect.emit(D.SubmitBefore,r),n.collect.emit(D.SubmitVerify,r),n.collect.requestManager.useRequest({url:n.reportUrl,data:r,success:function(e,t){e&&0!==e.e?(n.collect.emit(D.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u5931\u8d25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636e\u5f02\u5e38\u5931\u8d25",status:"fail"})):(n.collect.emit(D.SubmitScuess,{eventData:t,res:e}),n.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:o,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(D.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u7f51\u7edc\u5f02\u5e38",time:Date.now(),data:o,code:t,failType:"\u7f51\u7edc\u5f02\u5e38\u5931\u8d25",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(D.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}})))},e}(),V=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},q=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new T(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(D.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(D.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(D.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(D.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:V(),user_unique_id:this.configManager.get("user_unique_id")||V()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=v(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77WEBID\u8bf7\u6c42",logType:"fetch",level:"info",time:Date.now(),data:n});var i=V();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u6210\u529f",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(D.TokenError),e.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u8fd4\u56de\u503c\u5f02\u5e38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(D.TokenError),e.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(D.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(D.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(D.TokenChange,"uuid"),this.collect.emit(D.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(D.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(D.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(D.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){"tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type?e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid}):t("")}))},e}(),F=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},K=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new T(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(D.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(D.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:F(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:F(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||F(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:F(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),H=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,r=e.success,o=e.fail,a={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var s in this.customHeader)a[s]=this.customHeader[s];window.fetch?fetch(t,{method:i||"POST",headers:a,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){r&&r(e)})).catch((function(e){o&&o(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:r,fail:o}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,r=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():r&&r(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,i=e.data,r=e.method,o=e.success,a=e.fail,s=e.timeout,c=e.useBeacon,u=e.withCredentials,l=e.app_key,p=e.forceXhr;if(c&&this.supportBeacon)this.useBeacon({url:n,data:i,method:r,success:o,fail:a});else if("fetch"!==this.requestType||p)try{var f=new XMLHttpRequest,d=r||"POST";if(f.open(d,""+n,!0),f.setRequestHeader("Content-Type","application/json; charset=utf-8"),l&&f.setRequestHeader("X-MCS-AppKey",""+l),Object.keys(this.customHeader).length)for(var h in this.customHeader)f.setRequestHeader(h,this.customHeader[h]);u&&(f.withCredentials=!0),s&&(f.timeout=s,f.ontimeout=function(){a&&a(i,t.errorCode.TIMEOUT)}),f.onload=function(){if(o){var e=null;if(f.responseText){try{e=JSON.parse(f.responseText)}catch(t){e={}}o(e,i)}}},f.onerror=function(){f.abort(),a&&a(i,t.errorCode.XHR_ON)},f.send(JSON.stringify(i))}catch(e){}else this.useFetch({url:n,data:i,method:r,success:o,fail:a})},e}(),W=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1,"session"),this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57fa\u672c\u4fe1\u606f",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,"\u4e0a\u62a5\u57df\u540d":this.collect.configManager.getDomain(),"SDK\u7248\u672c":"5.2.3_oversea","SDK\u5f15\u5165\u65b9\u5f0f":"npm"}},{title:"\u7528\u6237\u4fe1\u606f",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70b9\u51fb\u83b7\u53d6SSID"}},{title:"\u516c\u5171\u53c2\u6570\u4fe1\u606f",type:2,infoName:{"\u6d4f\u89c8\u5668":this.collect.configManager.get("browser"),"\u6d4f\u89c8\u5668\u7248\u672c":this.collect.configManager.get("browser_version"),"\u5e73\u53f0":this.collect.configManager.get("platform"),"\u8bbe\u5907\u578b\u53f7":this.collect.configManager.get("device_model"),"\u64cd\u4f5c\u7cfb\u7edf":this.collect.configManager.get("os_name"),"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c":this.collect.configManager.get("os_version"),"\u5c4f\u5e55\u5206\u8fa8\u7387":this.collect.configManager.get("os_version"),"\u6765\u6e90":this.collect.configManager.get("referrer"),"\u81ea\u5b9a\u4e49\u4fe1\u606f":""}},{title:"\u914d\u7f6e\u4fe1\u606f",type:3,infoName:{"\u5168\u57cb\u70b9":!!this.config.autotrack,"\u505c\u7559\u65f6\u957f":!!this.config.enable_stay_duration}},{title:"A/B\u914d\u7f6e\u4fe1\u606f",type:4,infoName:{"A/B\u5b9e\u9a8c":!!this.config.enable_ab_test}},{title:"\u5ba2\u6237\u7aef\u4fe1\u606f",type:3,infoName:{"\u6253\u901a\u5f00\u5173":!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(D.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81ea\u5b9a\u4e49\u4fe1\u606f"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57df\u540d"]=e.config.ab_channel_domain||d(O[e.config.channel]),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662f\u5426\u6253\u901a"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(c.DEBUGGER_MESSAGE,(function(t){switch(t.type){case c.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case c.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uff0c msg: "+t.failType})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8c03\u8bd5</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),J={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},X=["ab","autotrack","Stay","store","et","profile","cep","heartbeat","monitor","route","tracer"],Z=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new u,this.remotePlugin=new Map,this.Types=D,this.adapters.storage=T,this.loadType="full"}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&X.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,r=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new z(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&l(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var o=["sg","va","in","ie","ie2"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+o.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new j,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new U(this,n.enable_native),this.requestManager=new H(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new G(this,n),this.debugger=new W(this,n),this.initConfig=n,this.emit(D.Init),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new B,this.tokenManager=new q,this.sessionManager=new K,Promise.all([new Promise((function(e){r.once(D.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){r.once(D.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,o=Object.assign(r.initConfig,i),a=new n;return a.apply(r,o),e.push(a),e}),r.pluginInstances)}catch(t){console.warn("load plugin error, "+t.message),r.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.sdkReady=!0,r.emit(D.Ready),r.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u521d\u59cb\u5316\u5b8c\u6210",time:Date.now(),level:"info",data:r.configManager.get("user")}),r.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.2.3_oversea, you can report now !!!"),n.disable_auto_pv&&(r.disableAutoPageView=!0);try{("full"===r.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){r.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.pageView(),r.on(D.TokenChange,(function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u8bbe\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(D.TokenReset,(function(){r.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u91cd\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(D.RouteChange,(function(e){e.init||n.disable_route_report||r.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&l(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(i){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=i({},t);if(this.initConfig&&this.initConfig.configPersist){var r=this.configManager.getStore();r&&(n=Object.assign(r,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(D.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(D.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cCONFIG",level:"info",time:Date.now(),data:n})}}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(D.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(D.Start),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(D.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(D.Event,i),this.emit(D.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(D.BeconEvent,n),this.emit(D.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null\uff0c please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=f();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=i(i({},t),e);this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(D.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return F()},e.prototype.setSessionId=function(e){this.emit(D.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(D.ResetStay,{url_path:e,title:t,url:n},D.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(D.SetStay,{url_path:e,title:t,url:n},D.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var r=!1,o=function(t){if(!r){r=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(i({},o))}},a=function(){n.tokenManager.getTobId().then((function(e){o(e)}))};this.sdkReady?a():(t&&setTimeout((function(){o()}),t),this.on(D.Ready,(function(){a()})))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(D.ProfileSet,e,D.Profile),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(D.ProfileSetOnce,e,D.Profile),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(D.ProfileIncrement,e,D.Profile),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(D.ProfileUnset,e,D.Profile),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(D.ProfileAppend,e,D.Profile),this.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(D.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,D.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(D.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},D.Ab)},e.prototype.getABconfig=function(e,t){this.emit(D.AbConfig,{params:e,callback:t},D.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(D.AbVersionChangeOn,e,D.Ab),function(){t.emit(D.AbVersionChangeOff,e,D.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(D.AbVersionChangeOff,e,D.Ab)},e.prototype.openOverlayer=function(){this.emit(D.AbOpenLayer,"",D.Ab)},e.prototype.closeOverlayer=function(){this.emit(D.AbCloseLayer,"",D.Ab)},e.prototype.getAllVars=function(e){this.emit(D.AbAllVars,e,D.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(D.TokenComplete),this.emit(D.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(D.TokenComplete),this.emit(D.DestoryInstance))},e.plugins=[],e}(),Y="__rangers_ab_style__",$={},Q=[],ee=function(e){e.length&&e.forEach((function(e){Q.push(e)}))};function te(e,t,n,i){var r=e&&e.source||window.opener||window.parent,o=e&&e.origin||i||"*",a={type:t,payload:n};r.postMessage(JSON.stringify(a),o)}function ne(e,t){$[e]=$[e]||[],$[e].push(t)}function ie(e){if(Q.some((function(e){return"*"===e}))||Q.some((function(t){return e.origin.indexOf(t)>-1}))){var t=e.data;if("string"==typeof e.data)try{t=JSON.parse(e.data)}catch(e){t=void 0}if(!t)return;var n=t.type,i=t.payload;$[n]&&$[n].forEach((function(t){"function"==typeof t&&t(e,i)}))}}function re(e,t){var n=i({},e);delete n.filter,(window.opener||window.parent).postMessage({type:"tea:sdk:info",config:n,version:t},"*"),window.addEventListener("message",ie,!1)}var oe,ae="",se=!1;function ce(e){var t=e.event,n=e.editorUrl;e.collectInstance,e.fromSession,se||(se=!0,g(n,(function(){te(t,"abEditorScriptloadSuccess")}),(function(){t&&te(t,"abEditorScriptloadError"),se=!1})))}!function(e){e[e.Var=0]="Var",e[e.All=1]="All"}(oe||(oe={}));var ue=function(){function e(){this.fetchStatus="no",this.refreshFetchStatus="no",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data={},this.changeListener=new Map,this.readyStatus=!1,this.exposureCache=[]}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_ab_test){var i=t.enable_multilink,r=t.ab_channel_domain,o=t.enable_ab_visual,a=t.ab_cross,s=t.ab_cookie_domain,c=t.ab_timeout,u=O[t.channel||"sg"]||O.sg,l=r||d(u),p=e.adapters.storage;this.cacheStorgae=new p(!1),this.timeout=c||3e3,this.enable_multilink=i,this.enable_ab_visual=o,this.abKey="__tea_sdk_ab_version_"+t.app_id,this.ab_cross=a,this.ab_cookie_domain=s||"",this.fetchUrl=l+"/service/2/abtest_config/",this.reportUrl=this.collect.configManager.getUrl("event"),this.exposureLimit=t.exposure_limit||20,this.ab_batch_time=t.ab_batch_time||500,this.ab_user_mode=t.ab_user_mode||"user_unique_id";var f=this.collect.Types;this.types=f,this.collect.on(f.TokenChange,(function(e){"uuid"===e&&n.readyStatus&&(n.clearCache(),n.fetchAB())})),this.collect.on(f.AbVar,(function(e){var t=e.name,i=e.defaultValue,r=e.callback;n.getVar(t,i,r)})),this.collect.on(f.AbAllVars,(function(e){n.getAllVars(e)})),this.collect.on(f.AbConfig,(function(e){var t=e.params,i=e.callback;n.getABconfig(t,i)})),this.collect.on(f.AbExternalVersion,(function(e){n.setExternalAbVersion(e)})),this.collect.on(f.AbOpenLayer,(function(){n.openOverlayer()})),this.collect.on(f.AbCloseLayer,(function(){n.closeOverlayer()})),this.collect.on(f.AbVersionChangeOn,(function(e){n.changeListener.set(e,e)})),this.collect.on(f.AbVersionChangeOff,(function(e){n.changeListener.get(e)&&n.changeListener.delete(e)})),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(f.AbReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.loadMode=function(){var e,t,n=function(){try{return JSON.parse(atob(window.name))||void 0}catch(e){return}}(),i="";if(n){var r=n.scenario,o=n.href;r?(this.editMode=!0,i=r):!o||-1===o.indexOf("datatester")&&-1===o.indexOf("visual-editor")||(this.editMode=!0,i="visual-editor")}this.enable_ab_visual&&(function(e,t){window.TEAVisualEditor=window.TEAVisualEditor||{},ee(["*"]);var n,i="";re(t,"5.2.3_oversea");var r="";try{var o=window.performance.getEntriesByType("resource");if(o&&o.length&&(o.forEach((function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(r=e.name)})),r||document.currentScript&&(r=document.currentScript.src),r&&(n=r.split("/"))&&n.length)){i="https:/";for(var a=2;a<n.length&&a!==n.length-1;a++)i=i+"/"+n[a];i+="/visual-ab-core"}}catch(e){}ne("tea:openVisualABEditor",(function(n){var r=n.data;if("string"==typeof n.data)try{r=JSON.parse(n.data)}catch(e){r=void 0}if(r){var o=r.lang;if(r.appId!==t.app_id)return te(n,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var a=r.version;ae=a&&i?i+(a?"."+a:".1.0.1")+".js?query="+Date.now():C+"?query="+Date.now(),window.TEAVisualEditor.lang=o,window.TEAVisualEditor.__ab_domin=t.channel_domain||"",ce({event:n,editorUrl:ae,collectInstance:e})}}))}(this.collect,this.config),"visual-editor"===i)?this.collect.destoryInstace():this.enable_multilink&&(e=this.collect,t=this.config,window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.appId=t.app_id,ne("tea:openTesterEventInspector",(function(t){var n=t.data;if("string"==typeof t.data)try{n=JSON.parse(t.data)}catch(e){n=void 0}if(n){var i=n.referrer,r=n.lang,o=n.appId;window.TEAVisualEditor.__editor_ajax_domain=i||"",window.TEAVisualEditor.__ab_appId=o||"",window.TEAVisualEditor.lang=r||"",ce({event:t,editorUrl:"https://lf16-data.bytepluscdn.com/obj/data-static-sg/log-sdk/collect/tester-event-inspector.js?query="+Date.now(),collectInstance:e})}})))},e.prototype.checkLocal=function(){var e=this.getABCache(),t=e.ab_version,n=e.ab_ext_version,i=e.ab_version_multilink,r=(e.data,this.checkFromUrl());r?this.mulilinkVersions.push(r):this.mulilinkVersions=i||[],this.extVersions=n||[],this.versions=t||[];var o=this.versions.concat(this.extVersions);this.enable_multilink&&(o=o.concat(this.mulilinkVersions))},e.prototype.checkFromUrl=function(){var e=v(window.location.href);return e&&e.vid?e.vid:""},e.prototype.updateVersions=function(){var e=this.extVersions.length?this.versions.concat(this.extVersions):this.versions;this.enable_multilink&&(e=e.concat(this.mulilinkVersions)),this.configVersions(e.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach((function(t){"function"==typeof t&&t(e)}))},e.prototype.configVersions=function(e){this.collect.configManager.setAbVersion(e)},e.prototype.getVar=function(e,t,n,i){if(!e)throw new Error("variable must not be empty");if(void 0===t)throw new Error("variable no default value");if("function"!=typeof n)throw new Error("callback must be a function");var r={name:e,defaultValue:t,callback:n,type:oe.Var};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealVar(r,e,i):this.callbacks.push(r)},e.prototype.setAbUuid=function(e,t){this.collect.configManager.setAbUuidCache(e,t)},e.prototype.getRealVar=function(e,t,n){var i=e.name,r=e.defaultValue,o=e.callback,a=this.data;if(a){if(l(a[i])){var s=a[i].vid;return"$ab_url"===t?this.mulilinkVersions.includes(s)||this.mulilinkVersions.push(s):this.versions.includes(s)||this.versions.push(s),this.setAbUuid(s,n),this.updateVersions(),this.fechEvent(s,t,r),o(a[i].val),void this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u66dd\u5149\u4e86\u5b9e\u9a8c"+i,level:"info",time:Date.now(),data:a[i]})}this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8c03\u7528getVar",level:"info",time:Date.now(),data:r}),o(r)}else o(r)},e.prototype.getAllVars=function(e){if("function"!=typeof e)throw new Error("callback must be a function");var t={callback:e,type:oe.All};"complete"===this.fetchStatus&&"complete"===this.refreshFetchStatus?this.getRealAllVars(t):this.callbacks.push(t)},e.prototype.getRealAllVars=function(e){(0,e.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{}),this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"SDK \u8c03\u7528getAllVars",level:"info",time:Date.now(),data:this.data})},e.prototype.fechEvent=function(e,t,n){try{if(this.config.disable_track_event)return;if(!e)return;var i=this.collect.configManager.get(),r=i.header,o=i.user,a=this.getABCache(),s=o[this.ab_user_mode]||o.user_unique_id;if(a&&a.uuid&&a.uuid!==s)return;var u={event:"abtest_exposure",ab_sdk_version:""+e,params:JSON.stringify({app_id:this.config.appId,ab_url:"$ab_url"===t?n:window.location.href,data:this.data}),local_time_ms:Date.now()};r.custom=JSON.stringify(r.custom);var l={events:[u],user:o,header:r};this.reportExposure(l,t)}catch(e){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.reportExposure=function(e,t){var n=this;this.exposureCache.push(e),this.reportTimeout&&clearTimeout(this.reportTimeout),this.exposureCache.length>=this.exposureLimit?this.report(t):this.reportTimeout=setTimeout((function(){n.report(t),clearTimeout(n.reportTimeout)}),this.ab_batch_time)},e.prototype.report=function(e){var t=this;this.collect.requestManager.useRequest({url:this.reportUrl,data:this.exposureCache,timeout:2e4,useBeacon:"$ab_url"===e}),this.exposureCache.forEach((function(e){t.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:[e],code:200,status:"success"})})),this.exposureCache=[]},e.prototype.setExternalAbVersion=function(e){this.extVersions=[e],this.updateVersions()},e.prototype.getABconfig=function(e,t){var n=Object.keys(e);n&&n.length&&this.collect.configManager.set(e),this.fetchAB(t)},e.prototype.get=function(e){return this.cacheStorgae.getItem(e)},e.prototype.set=function(e,t){this.cacheStorgae.setItem(e,t),this.collect.configManager.setAbCache(t),this.collect.event("abtest_cache",{env_uuid:this.collect.configManager.get("user").user_unique_id||"",cache:JSON.stringify(t)})},e.prototype.getABCache=function(e){var t={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return t=this.get(this.abKey)||t,e?t[e]:t},e.prototype.updateABCache=function(){var e=this.getABCache();e.ab_version_multilink=this.mulilinkVersions,e.ab_ext_version=this.extVersions,e.ab_version=this.versions,e.timestamp=Date.now(),this.set(this.abKey,e)},e.prototype.setAbCache=function(e){var t=this.getABCache();t.data=this.data,t.uuid=e,t.timestamp=Date.now(),this.set(this.abKey,t)},e.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[],this.collect.configManager.clearAbCache()},e.prototype.openOverlayer=function(e){var t=this;if(function(){if(!document.getElementById(Y)){var e="body { opacity: 0 !important; }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id=Y,n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),t.appendChild(n)}}(),e)var n=setTimeout((function(){t.closeOverlayer(),clearTimeout(n)}),e)},e.prototype.closeOverlayer=function(){var e;(e=document.getElementById(Y))&&e.parentElement.removeChild(e)},e.prototype.fetchComplete=function(e,t){var n=this;try{if(e&&"[object Object]"==Object.prototype.toString.call(e)){this.data=e,this.setAbCache(t);var i=[];Object.keys(e).forEach((function(t){var n=e[t].vid;n&&i.push(n)})),this.versions=this.versions.filter((function(e){return i.includes(e)}));var r=e.$ab_url,o=e.$ab_modification;if(o&&o.val&&this.enable_ab_visual){if(this.collect.destroy)return;this.getVar("$ab_modification",window.location.href,(function(){var e;e=o.val,window.TEAVisualEditor=window.TEAVisualEditor||{},window.TEAVisualEditor.__ab_config=e,g("https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-ab-loader.js?query="+Date.now(),(function(){console.log("load visual render success")}),(function(){console.log("load visual render fail")})),n.closeOverlayer()}))}else if(r&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter((function(e){return i.includes(e)}));var a=r.val,s=r.vid;a&&s&&this.getVar("$ab_url",a,(function(){n.editMode||(a!==window.location.href?setTimeout((function(){if(!n.collect.destroy){var e=""+a;e=-1===e.indexOf("http")?"https://"+e:e,m(e).host!==location.host?e=e+"&vid="+s:window.history.replaceState("","",e),window.location.href=e}}),100):n.closeOverlayer())}))}this.updateVersions()}else this.closeOverlayer();this.callbacks.forEach((function(e){return n[e.type===oe.Var?"getRealVar":"getRealAllVars"](e,"")})),this.callbacks=[]}catch(e){}},e.prototype.fetchAB=function(e){var t=this,n=this.collect.configManager.get(),r={header:i(i(i({aid:this.config.app_id},n.user||{}),n.header||{}),{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:window.location.href})},o=n.user[this.ab_user_mode]||n.user.user_unique_id;this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77AB\u5b9e\u9a8c\u8bf7\u6c42",level:"info",logType:"fetch",time:Date.now(),data:r}),this.collect.requestManager.useRequest({url:this.fetchUrl,data:r,success:function(n){t.fetchStatus="complete",t.refreshFetchStatus="complete";var i=n.data;"success"===n.message?(t.fetchComplete(i,o),e&&e(i)):(t.fetchComplete(null,o),e&&e(null)),t.collect.emit(t.types.AbComplete,i),t.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5b9e\u9a8c\u8bf7\u6c42\u6210\u529f",level:"info",logType:"fetch",time:Date.now(),data:i})},fail:function(){t.fetchStatus="complete",t.refreshFetchStatus="complete",t.fetchComplete(null,o),t.collect.emit(t.types.AbTimeout),e&&e(null),t.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,secType:"AB",info:"AB\u5b9e\u9a8c\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",level:"error",logType:"fetch",time:Date.now()})},timeout:this.timeout})},e.prototype.filterUrl=function(e){try{var t="";-1!==e.indexOf("&multilink=true")?t="&multilink=true[\0-\xff]*":-1!==e.indexOf("?multilink=true")&&(t="\\?multilink=true[\0-\xff]*");var n=new RegExp(t,"g");e=e.replace(n,"")}catch(e){}return e},e}(),le=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t})}))}}else console.log("please use correct et_test url")},e}(),pe=function(){function e(e,t){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.focusState=!0,this.collect=e,this.config=t,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,l(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageAlive(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},e.prototype.sendEvent=function(e,t){void 0===t&&(t=!1);var n=t?this.aliveDTime:Date.now()-this.sessionStartTime;n<0||n>this.aliveDTime||Date.now()-this.pageStartTime>this.maxDuration||t&&"hidden"===document.visibilityState||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.aliveName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:n,is_support_visibility_change:_(),startTime:this.sessionStartTime,hidden:document.visibilityState,leave:e,mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.sessionStartTime=Date.now())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.setUpTimer=function(){var e=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval((function(){Date.now()-e.sessionStartTime>e.aliveDTime&&e.sendEvent(!1,!0)}),1e3)},e.prototype.visibilitychange=function(){"hidden"===document.visibilityState?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent(!1)):"visible"===document.visibilityState&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},e.prototype.beforeunload=function(){document.hidden||this.sendEvent(!0)},e.prototype.enablePageAlive=function(){var e=this;this.timerHandler=this.setUpTimer();var t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),h(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.timerHandler&&(clearInterval(e.timerHandler),e.sendEvent(!1)),e.focusState=!1},n=function(){e.focusState=!0,e.sessionStartTime=Date.now(),e.timerHandler=e.setUpTimer()};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),fe=function(){function e(e,t){var n=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.focusState=!0,this.visibilitychange=function(){"hidden"===document.visibilityState?n.activeEndTime=Date.now():"visible"===document.visibilityState&&(n.activeEndTime&&(n.totalTime+=n.activeEndTime-n.activeStartTime,n.activeTimes+=1),n.activeEndTime=void 0,n.activeStartTime=Date.now())},this.beforeunload=function(){if(n.totalTime+=(n.activeEndTime||Date.now())-n.activeStartTime,n.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:n.totalTime,page_title:document.title||location.pathname}))}catch(e){}n.sendEventPageClose()},this.collect=e,this.config=t,this.maxDuration=t.maxDuration||864e5,this.pageStartTime=Date.now(),l(t.enable_stay_duration)&&(this.options=Object.assign(this.options,t.enable_stay_duration)),this.hard=this.options.mode&&"hard"===this.options.mode,this.focusState=document.hasFocus(),this.resetData()}return e.prototype.setParams=function(e,t,n){this.set_path=e,this.set_url=n,this.set_title=t},e.prototype.resetParams=function(e,t,n){this.url_path=e,this.url=n,this.title=t},e.prototype.enable=function(e,t,n){this.url_path=e,this.url=n,this.title=t,this.disableCallback=this.enablePageClose(),this.hard&&(this.removeMode=this.hardMode())},e.prototype.disable=function(){this.disableCallback()},e.prototype.resetData=function(){this.activeStartTime=void 0===this.activeStartTime?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0,this.resetParams(location.pathname,document.title,location.href)},e.prototype.sendEventPageClose=function(){var e=Date.now()-this.pageStartTime;this.totalTime<0||e<0||this.totalTime>=this.maxDuration||this.hard&&!this.focusState||(this.collect.beconEvent(this.options.closeName,i({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:e,is_support_visibility_change:_(),mode:this.hard?"hard":"normal",focusState:this.focusState},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},e.prototype.getParams=function(e){switch(e){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},e.prototype.enablePageClose=function(){var e=this,t=this.visibilitychange.bind(this),n=this.beforeunload.bind(this);return document.addEventListener("visibilitychange",t),h(n),function(){e.beforeunload(),document.removeEventListener("visibilitychange",t),window.removeEventListener("beforeunload",n),window.removeEventListener("pagehide",n)}},e.prototype.hardMode=function(){var e=this,t=function(){e.focusState=!1},n=function(){e.focusState=!0};return window.addEventListener("blur",t),window.addEventListener("focus",n),function(){window.removeEventListener("blur",t),window.removeEventListener("focus",n)}},e}(),de=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new pe(e,t),this.pageClose=new fe(e,t);var i=this.collect.Types;this.collect.on(i.ResetStay,(function(e){var t=e.url_path,i=e.title,r=e.url;n.resetStayDuration(t,i,r)})),this.collect.on(i.RouteChange,(function(e){e.init||t.disable_route_report||n.resetStayDuration()})),this.collect.on(i.SetStay,(function(e){var t=e.url_path,i=e.title,r=e.url;n.setStayParmas(t,i,r)})),this.enable(this.url_path,this.title,this.url),this.ready(i.Stay),this.collect.emit(i.StayReady)}},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.enable=function(e,t,n){this.pageAlive.enable(e,t,n),this.pageClose.enable(e,t,n)},e.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},e.prototype.setStayParmas=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.pageAlive.setParams(e,t,n),this.pageClose.setParams(e,t,n),this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884c resetStayParams",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e.prototype.reset=function(e,t,n){this.disable(),this.enable(e,t,n)},e.prototype.resetStayDuration=function(e,t,n){this.reset(e,t,n),this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884c resetStayDuration",level:"info",time:Date.now(),data:{url_path:e,title:t,url:n}})},e}(),he=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function r(){var o=Date.now()-i;e(),i+=t,n=window.setTimeout(r,Math.max(0,t-o))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),ge=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,(function(){n.sdkOnload()})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,a=[];e.forEach((function(e){e.events.forEach((function(e){a.push(e)}))}));var s={events:a.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}})),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[s],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e}();function _e(e,t){if(void 0===t&&(t="list"),!e)return!1;if(t&&"list"===t){if(["LI","TR","DL"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaIdx"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-idx"))return!0}else{if(["A","BUTTON"].includes(e.nodeName))return!0;if(e.dataset&&e.dataset.hasOwnProperty("teaContainer"))return!0;if(e.hasAttribute&&e.hasAttribute("data-tea-container"))return!0}return!1}function me(e){for(var t=e;t&&!_e(t,"container");){if("HTML"===t.nodeName||"BODY"===t.nodeName)return e;t=t.parentElement}return t||e}function ve(e){var t="";return 3===e.nodeType?t=e.textContent.trim():e.dataset&&e.dataset.hasOwnProperty("teaTitle")||e.hasAttribute("ata-tea-title")?t=e.getAttribute("data-tea-title"):e.hasAttribute("title")?t=e.getAttribute("title"):"INPUT"===e.nodeName&&["button","submit"].includes(e.getAttribute("type"))?t=e.getAttribute("value"):"IMG"===e.nodeName&&e.getAttribute("alt")&&(t=e.getAttribute("alt")),t.slice(0,200)}var ye=function(e,t){return e.hasAttribute?e.hasAttribute(t):e.attributes?!(!e.attributes[t]||!e.attributes[t].specified):void 0},be=function(){function e(e,t,n){var r=this;this.statistics=!1,this.pageView=!1,this.clickEvent=function(e){(function(e,t){if(1!==e.nodeType)return!1;if(!t.svg&&function(e){if("svg"===e.tagName.toLowerCase())return!0;for(var t=e.parentElement,n=!1;t;)"svg"===t.tagName.toLowerCase()?(t=null,n=!0):t=t.parentElement;return n}(e))return!1;if(["HTML","BODY"].includes(e.tagName.toUpperCase()))return!1;var n=e;return!("none"===n.style.display||!_e(n,"container")&&!function(e){if(e.children.length){var t=e.children;return![].slice.call(t).some((function(e){return e.children.length>0}))}return!0}(n)&&!t.svg)})(e.target,r.options)&&r.eventHandel({eventType:"dom",eventName:"click"},e)},this.changeEvent=function(e){r.eventHandel({eventType:"dom",eventName:"change"},e)},this.submitEvent=function(e){r.eventHandel({eventType:"dom",eventName:"submit"},e)},this.getPageViewEvent=function(e,t){t&&"pushState"===t&&r.eventHandel({eventType:"dom",eventName:"beat"},i({beat_type:0},e)),r.eventHandel({eventType:"dom",eventName:"page_view"},e)},this.getPageLoadEvent=function(e){r.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:e})},this.config=n.getConfig().eventConfig,this.collect=t,this.options=e,this.beatTime=e.beat}return e.prototype.init=function(e){this.eventHandel=e;var t=this.config.mode;this.addListener(t)},e.prototype.addListener=function(e){var t=this;if("proxy-capturing"===e){if(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv){this.collect.on("route-change",(function(e){var n=e.config,i=e.name;t.getPageViewEvent(n,i),t.pageView=!0}));var n=setTimeout((function(){t.pageView||(t.getPageViewEvent(t.getDefaultConfig()),t.pageView=!0,clearTimeout(n))}),2e3)}if(this.config.beat){try{"complete"===document.readyState?this.beatEvent(this.beatTime):window.addEventListener("load",(function(){t.beatEvent(t.beatTime)}));var i=0,r=null;window.addEventListener("scroll",(function(){clearTimeout(r),r=setTimeout(o,500),i=document.documentElement.scrollTop||document.body.scrollTop}));var o=function(){(document.documentElement.scrollTop||document.body.scrollTop)==i&&t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch(e){}try{var a=window.performance&&window.performance.getEntriesByType("paint");a&&a.length?(new PerformanceObserver((function(e){var n=e.getEntries(),i=n[n.length-1],r=i.renderTime||i.loadTime;t.statistics||(t.getPageLoadEvent(r),t.statistics=!0)})).observe({entryTypes:["largest-contentful-paint"]}),setTimeout((function(){t.statistics||(t.getPageLoadEvent(a[0].startTime||0),t.statistics=!0)}),2e3)):this.getPageLoadEvent(0)}catch(e){this.getPageLoadEvent(0)}}}},e.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},e.prototype.beatEvent=function(e){var t=this;try{var n;this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(n=setInterval((function(){t.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})}),e)),h((function(){t.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),t.beatTime&&clearInterval(n)}))}catch(e){}},e.prototype.getDefaultConfig=function(){return{is_html:1,url:location.href,referrer:document.referrer,page_key:location.href,refer_page_key:document.referrer,page_title:document.title||location.pathname,page_manual_key:"",refer_page_manual_key:"",refer_page_title:"",page_path:location.pathname,page_host:location.host}},e}(),we={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},Ee=function(){function e(e,t){this.config=e,this.config.eventConfig=Object.assign(this.config.eventConfig,t)}return e.prototype.getConfig=function(){return this.config},e.prototype.setConfig=function(e){return this.config=e},e}();function Se(e,t,n,i){var r={},o=function(e){if(e){var t=e.getBoundingClientRect(),n=t.width,i=t.height;return{left:t.left,top:t.top,element_width:n,element_height:i}}}(t),a=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var n=e.clientX,i=e.clientY,r=t.left,o=t.top,a=n-r>=0?n-r:0,s=i-o>=0?i-o:0;return{touch_x:Math.floor(a),touch_y:Math.floor(s)}}(e,o),s=o.element_width,c=o.element_height,u=a.touch_x,l=a.touch_y,f=function(e){for(var t=[];null!==e.parentElement;)t.push(e),e=e.parentElement;var n=[],i=[];return t.forEach((function(e){var t=function(e){if(null===e)return{str:"",index:0};var t=0,n=e.parentElement;if(n)for(var i=n.children,r=0;r<i.length&&i[r]!==e;r++)i[r].nodeName===e.nodeName&&t++;return{str:[e.nodeName.toLowerCase(),_e(e,"list")?"[]":""].join(""),index:t}}(e),r=t.str,o=t.index;n.unshift(r),i.unshift(o)})),{element_path:"/"+n.join("/"),positions:i}}(t),d=f.element_path,h=f.positions,g=function(e){var t=me(e),n=[];return function e(t){var i=ve(t);if(i&&-1===n.indexOf(i)&&n.push(i),t.childNodes.length>0)for(var r=t.childNodes,o=0;o<r.length;o++)8!==r[o].nodeType&&e(r[o])}(t),n}(t),_=window.performance.timing.navigationStart,m=Date.now()-_,v=h.map((function(e){return""+e})),y=null;if(window.TEAVisualEditor&&window.TEAVisualEditor.getOriginXpath&&(y=window.TEAVisualEditor.getOriginXpath({xpath:d,positions:v})),r.element_path=y&&y.xpath||d,r.positions=y&&y.positions||v,i&&!i.text&&(r.texts=g,r.element_title=function(e){var t=me(e),n="";return function e(t){var i=ve(t);if(i&&(n+=i),t.childNodes.length>0)for(var r=t.childNodes,o=0;o<r.length;o++)3===r[o].nodeType&&e(r[o])}(t),n}(t)),r.element_id=t.getAttribute("id")||"",r.element_class_name=t.getAttribute("class")||"",r.element_type=t.nodeType,r.element_width=Math.floor(s),r.element_height=Math.floor(c),r.touch_x=u,r.touch_y=l,r.page_manual_key="",r.elememt_manual_key="",r.since_page_start_ms=m,r.page_start_ms=_,r.page_path=location.pathname,r.page_host=location.host,n.track_attr&&function(e,t){return!!function(e,t){if("string"==typeof t)return ye(e,t);if(p(t)){for(var n=!1,i=0;i<t.length;i++)if(ye(e,t[i])){n=!0;break}return n}}(e,t)}(t,n.track_attr)){var b=function(e,t){var n={};if("string"==typeof t)ye(e,t)&&(n.attrs=e.getAttribute(t));else if(p(t))for(var i=0;i<t.length;i++)ye(e,t[i])&&(n[t[i]]=e.getAttribute(t[i]));return n}(t,n.track_attr);for(var w in b)r[w]=b[w]}var E=me(t);return"A"===E.tagName&&(r.href=E.getAttribute("href")),"IMG"===t.tagName&&(r.src=t.getAttribute("src")),r}var ke=function(e,t,n,r,o){return i(i({event:e},Se(t,n,r,o)),{is_html:1,page_key:window.location.href,page_title:document.title})},Te=function(){function e(e,t){this.ignore={text:!0},this.initConfig=e,this.options=t,this.eventName=t&&"tea"===t.custom?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics",exposure:"__bav_page_exposure"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics",exposure:"bav2b_exposure"},t&&!0===t.text&&(this.ignore.text=!1),t&&t.exposure&&t.exposure.eventName&&(this.eventName.exposure=t.exposure.eventName)}return e.prototype.handleEvent=function(e,t){try{if(function(e){for(var t=e;t&&t.parentNode;){if(t.hasAttribute("data-tea-ignore"))return!0;if("HTML"===t.nodeName||"body"===t.nodeName)return!1;t=t.parentNode}return!1}(e.target))return null;var n="bav2b_click";switch(t){case"click":return n=this.eventName.click,ke(n,e,e.target,this.options,this.ignore);case"exposure":return n=this.eventName.exposure,ke(n,e,e.target,this.options,this.ignore);case"change":return i(i({},ke(n="bav2b_change",e,e.target,this.options)),function(e,t){try{if("bav2b_change"===e)return t.hasAttribute("data-tea-track")?{value:t.value}:{}}catch(e){return{}}}(n,e.target));case"submit":return ke(n="bav2b_submit",e,e.target,this.options)}}catch(i){return console.error(i),null}},e.prototype.handleViewEvent=function(e){e.event=this.eventName.page,e.page_title=document.title,e.page_total_width=window.innerWidth,e.page_total_height=window.innerHeight;try{var t=window.sessionStorage.getItem("_tea_cache_duration");if(t){var n=JSON.parse(t);e.refer_page_duration_ms=n?n.duration:""}e.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,e.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("page event error "+JSON.stringify(e))}return e},e.prototype.handleStatisticsEvent=function(e){var t={};t.event=this.eventName.static,t.is_html=1,t.page_key=location.href,t.refer_page_key=document.referrer||"",t.page_title=document.title,t.page_manual_key=this.initConfig.autotrack.page_manual_key||"",t.refer_page_manual_key="";try{var n=e.lcp,i=window.performance.timing,r=i.loadEventEnd-i.navigationStart;t.page_init_cost_ms=parseInt(n||(r>0?r:0)),t.page_start_ms=i.navigationStart}catch(e){console.log("page_statistics event error "+JSON.stringify(e))}return t},e.prototype.handleBeadtEvent=function(e){e.event=this.eventName.beat,e.page_key=window.location.href,e.is_html=1,e.page_title=document.title,e.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{e.page_viewport_width=window.innerWidth,e.page_viewport_height=window.innerHeight,e.page_total_width=document.documentElement.scrollWidth,e.page_total_height=document.documentElement.scrollHeight,e.scroll_width=document.documentElement.scrollLeft+window.innerWidth,e.scroll_height=document.documentElement.scrollTop+window.innerHeight,e.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,e.page_start_ms=window.performance.timing.navigationStart}catch(e){console.log("beat event error "+JSON.stringify(e))}return e},e}(),xe=function(){function e(e){this.collect=e,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return e.prototype.send=function(e,t){var n=e.eventSend,i=t.event;delete t.event,n&&"becon"===n?this.collect.beconEvent(i,t):this.collect.event(i,t)},e.prototype.get=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"GET"},t);fetch(e,n)},e.prototype.post=function(e,t){var n=Object.assign({headers:{"content-type":"application/json"},method:"POST"},t);fetch(e,n)},e}();function Ae(){try{var e=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||y.get("lang"),t=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||y.get("_TEA_VE_APIHOST"),n=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||y.get("_VISUAL_EDITOR_V"),i=window.TEAVisualEditor.__editor_url=window.TEAVisualEditor.__editor_url||y.get("_VISUAL_EDITOR_U"),r=+new Date,o=new Date(r+18e5);y.set("_TEA_VE_OPEN","1",{expires:o}),y.set("_TEA_VE_APIHOST",t,{expires:o}),y.set("_VISUAL_EDITOR_U",i,{expires:o}),y.set("lang",e,{expires:o}),y.set("_VISUAL_EDITOR_V",n||"",{expires:o})}catch(e){console.log("set cookie err")}}var Oe=!1;function Re(e){var t=e.event,n=e.editorUrl,i=e.autoTrackInstance;Oe||(Oe=!0,g(n,(function(){te(t,"editorScriptloadSuccess"),i.destroy()}),(function(){t&&te(t,"editorScriptloadError"),Oe=!1})))}var Ie,Ce=function(){function e(e){this._instance=null,this._intersection=e,this.init()}return e.prototype.init=function(){var e=this;this._instance=new MutationObserver((function(t){t.forEach((function(t){"attributes"===t.type&&e.attributeChangeObserve(t),"childList"===t.type&&e.modifyNodeObserve(t)}))})),this._instance.observe(document.body,{childList:!0,attributes:!0,subtree:!0,attributeOldValue:!1})},e.prototype.attributeChangeObserve=function(e){e.target.hasAttribute("data-exposure")?this.exposureAdd(e,"mutation"):this.exposureRemove(e)},e.prototype.modifyNodeObserve=function(e){var t=this;Array.prototype.forEach.call(e.addedNodes,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureAdd(e,"intersect"),t.mapChild(e,t.exposureAdd)})),Array.prototype.forEach.call(e.removedNodes,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t.exposureRemove(e),t.mapChild(e,t.exposureRemove)}))},e.prototype.mapChild=function(e,t){var n=this;1===e.nodeType&&e.children.length&&Array.prototype.forEach.call(e.children,(function(e){1===e.nodeType&&e.hasAttribute("data-exposure")&&t(e),n.mapChild(e,t)}))},e.prototype.exposureAdd=function(e,t){this._intersection.exposureAdd(e,t)},e.prototype.exposureRemove=function(e){this._intersection.exposureRemove(e)},e._exposure_observer=null,e}(),De=function(){function e(t,n){this.count=1,this.instance=this.buildObserver(),this.observeMap=e._observer_map,t.autotrack.exposure.ratio?this.Ratio=t.autotrack.exposure.ratio:0===t.autotrack.exposure.ratio?this.Ratio=0:this.Ratio=.5,this.EventHandle=n}return e.prototype.buildObserver=function(){var t=this;if(!e._observer_instance)return IntersectionObserver&&(e._observer_instance=new IntersectionObserver((function(e){e.forEach((function(e){t.observeMap.get(e.target._observeId)&&t.exposureEvent(e)}))}),{threshold:[.01,.25,.5,.75,1]})),e._observer_instance},e.prototype.exposureAdd=function(e,t){var n=e;"mutation"===t&&(n=e.target);var i=n._observeId;if(i||this.observeMap.has(i)){if(!1===n.visible){var r=n.getBoundingClientRect(),o=r.top,a=r.left,s=r.right,c=r.bottom;o>=0&&c<=window.innerHeight&&a>=0&&s<=window.innerWidth&&(n.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e))}}else n._observeId=this.count,n.visible=!1,this.observeMap.set(this.count,n),this.observe(n),this.count++},e.prototype.exposureRemove=function(e){this.observeMap.has(e._observeId)&&(this.observeMap.delete(e._observeId),this.unobserve(e))},e.prototype.exposureEvent=function(e){if(e.intersectionRatio>=this.Ratio&&e.isIntersecting){if("0"===e.target.style.opacity||"hidden"===e.target.style.visibility)return;if(!0===e.target.visible)return;e.target.visible=!0,this.EventHandle({eventType:"dom",eventName:"exposure"},e)}else e.target.visible=!1},e.prototype.observe=function(e){this.instance.observe(e)},e.prototype.unobserve=function(e){this.instance.unobserve(e)},e._observer_instance=null,e._observer_map=new Map,e}(),Pe=function(){function e(e,t){e.autotrack&&e.autotrack.exposure&&(this._intersection=new De(e,t),this._observer=new Ce(this._intersection),this.initObserver())}return e.prototype.initObserver=function(){var e=this;Array.prototype.forEach.call(document.querySelectorAll("[data-exposure]"),(function(t){e._intersection.exposureAdd(t,"intersect")}))},e}(),Ne={hashTag:!1,impr:!1},Le=function(){function e(){}return e.prototype.apply=function(e,t){if(this.autoTrackStart=!1,this.collect=e,this.config=t,t.autotrack){var n=e.Types;t.autotrack&&t.autotrack.collect_url&&!t.autotrack.collect_url()||(this.ready(n.Autotrack),this.collect.emit(n.AutotrackReady))}},e.prototype.ready=function(e){this.collect.set(e);var t=this.config.autotrack;t="object"==typeof t?t:{},t=Object.assign(Ne,t),this.destroyed=!1,this.options=t,this.Config=new Ee(we,this.options),this.Exposure=new Pe(this.config,this.handle.bind(this)),this.Listener=new be(t,this.collect,this.Config),this.EventHandle=new Te(this.config,t),this.Request=new xe(this.collect),this.autoTrackStart=!0,this.init(),function(e,t){window.TEAVisualEditor=window.TEAVisualEditor||{};var n="",i="https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/visual-editor-rangers.js?query="+Date.now();window.TEAVisualEditor.appId=t.app_id;var r=t.channel_domain,o="";if(ee(["*"]),r){var a,s="";try{var c=window.performance.getEntriesByType("resource");if(c&&c.length&&(c.forEach((function(e){"script"===e.initiatorType&&e.name&&-1!==e.name.indexOf("collect")&&(s=e.name)})),s&&(a=s.split("/"))&&a.length)){o="https:/";for(var u=2;u<a.length&&u!==a.length-1;u++)o=o+"/"+a[u];if(o&&o.indexOf("/5.0")){var l=o.split("/5.0");o=l[0]||o}}}catch(e){}}if(re(t,"5.2.3_oversea"),"1"===y.get("_TEA_VE_OPEN")){var p=function(){var e=y.get("_TEA_VE_APIHOST");try{e=JSON.parse(e)}catch(e){}return e}(),f="";p&&(window.TEAVisualEditor.__editor_ajax_domain=p,f=y.get("_VISUAL_EDITOR_U")),Re({event:null,editorUrl:f||i,autoTrackInstance:e}),Ae()}else try{ne("tea:openVisualEditor",(function(t){var a=t.data;if("string"==typeof t.data)try{a=JSON.parse(t.data)}catch(e){a=void 0}if(a){var s=a.referrer,c=a.lang;if(s&&(window.TEAVisualEditor.__editor_ajax_domain=s),n=i,r){var u=a.version;n=o?o+(u?"/visual-editor-rangers-v"+u:"/visual-editor-rangers-v1.0.0")+".js":i,window.TEAVisualEditor.__editor_verison=u}window.TEAVisualEditor.__editor_url=n,window.TEAVisualEditor.lang=c,Re({event:t,editorUrl:n,autoTrackInstance:e}),Ae()}})),window.TEAVisualEditor.openAutotrackEditor=function(){Re({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:e})}}catch(e){console.log("receive message error")}try{ne("tea:openHeatMapCore",(function(n){var i=n.data.app_id;i&&i!==t.app_id||Re({event:n,editorUrl:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/heatmap-core.js?query="+Date.now(),autoTrackInstance:e})}))}catch(e){console.log("openHeatMapCore error")}}(this,this.config)},e.prototype.init=function(){this.Listener.init(this.handle.bind(this)),"base"===this.collect.loadType&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")},e.prototype.handle=function(e,t){"dom"===e.eventType&&this.handleDom(e,t)},e.prototype.handleDom=function(e,t){try{var n=e.eventName;if("click"===n||"exposure"===n||"change"===n||"submit"===n){var i=this.EventHandle.handleEvent(t,n);null!==i&&this.Request.send({eventType:"custom",eventName:"report_"+n+"_event",extra:{methods:"GET"}},i)}else if("page_view"===n||"page_statistics"===n){var r;r="page_view"===n?this.EventHandle.handleViewEvent(t):this.EventHandle.handleStatisticsEvent(t),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},r)}else if("beat"===n){var o=this.EventHandle.handleBeadtEvent(t),a=e.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:a},o)}}catch(e){console.log("handel dom event error "+JSON.stringify(e))}},e.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},e}();!function(e){e.Net="net",e.FailNet="f_net",e.FailData="f_data"}(Ie||(Ie={}));var Me={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},Ge=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.ready=t.app_id&&t.enable_tracer&&!t.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=e,this.appid=t.app_id,this.reportUrl=e.configManager.getUrl("event");var i=this.collect.Types;e.adapters.fetch,this.collect.on(i.Event,(function(e){p(e)?e.forEach((function(e){n.addCount("log")})):n.addCount("log")})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventDate,r=e.errorCode,o=e.response;n.addErrorCount(i,t,r,o)})),this.listener(),this.collect.emit(i.TracerReady)}},e.prototype.addCount=function(e,t,n){void 0===t&&(t="net"),void 0===n&&(n=1);try{this.tracerCache||(this.tracerCache=new Map);var i=void 0;if(this.tracerCache.has(e))(r=this.tracerCache.get(e)).has(t)?(i=r.get(t).params.count,i++,r.set(t,this.processTracer(i,e,t))):(i=n,r.set(t,this.processTracer(n,e,t)));else{var r=new Map;i=n,r.set(t,this.processTracer(n,e,t)),this.tracerCache.set(e,r)}"net"===t&&i>=this.limit[e]&&this.report(!1)}catch(e){console.log(e)}},e.prototype.addErrorCount=function(e,t,n,i){var r=this;try{if(e&&e.length){var o=e[0].events;o&&o.length&&("f_data"===t?(i&&i.hasOwnProperty("sc")?this.addCount("log",t,o.length-i.sc):this.addCount("log",t,o.length),this.errorCode[t]=n):o.forEach((function(e){var i="log";for(var o in Me)if(-1!==Me[o].indexOf(e.event)){i=o;break}r.addCount(i,t,1),r.errorCode[t]=n})))}}catch(e){}},e.prototype.report=function(e){if(this.tracerCache){var t=[];this.tracerCache.forEach((function(e){console.log(e),e.forEach((function(e){t.push(e)}))})),t&&t.length&&this.sendTracer(t,e)}},e.prototype.sendTracer=function(e,t){try{var n=this.collect.eventManager.merge(e);this.collect.requestManager.useRequest({url:this.reportUrl,data:n,useBeacon:t}),this.tracerCache=null}catch(e){}},e.prototype.processTracer=function(e,t,n){try{var i={count:e,state:n,key:t,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:"5.2.3_oversea"};"f_net"!==n&&"f_data"!==n||(i.errorCode=this.errorCode[n]);var r=this.collect.processEvent("applog_trace",i);if(r&&r.event)return delete r.is_bav,r}catch(e){console.warn("something error")}},e.prototype.listener=function(){var e=this;document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.leavePage()})),h((function(){e.leavePage()}))},e.prototype.leavePage=function(){this.report(!0)},e}(),ze="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,je=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(J.hasOwnProperty(n)){var i=J[n].object,r=""+J[n].src[e.channel];e.exist(n,i,r)}else console.warn("your "+n+" is not exist\uff0cplease check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;ze[t]?(this.process(e,ze[t]),console.log("\u5df2\u6709"+e+"\u63d2\u4ef6\uff0c\u907f\u514d\u91cd\u590d\u52a0\u8f7d~")):this.loadPlugin(e,n,(function(){i.process(e,ze[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e}(),Ue=function(){function e(){this.autotrack=!1,this.spa=!1,this.cache={},this.allowHash=!1}return e.prototype.apply=function(e,t){if(t.spa||t.autotrack){var n=e.Types;this.collect=e,this.config=t,this.appid=t.app_id,this.allowHash=t.allow_hash,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),e.emit(n.RouteReady)}},e.prototype.setKey=function(){var e=this.collect.adapters.storage;this.storage=new e(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:"",refer_title:document.title||location.pathname,refer_manual_key:"",routeChange:!1},this.config.autotrack&&"object"==typeof this.config.autotrack&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},e.prototype.hack=function(){var e=this,t=window.history.pushState;history.pushState=function(n){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(!e.collect.sdkStop){"function"==typeof history.onpushstate&&history.onpushstate({state:n});var a=t.call.apply(t,o([history,n],i));if(e.lastLocation!==location.href){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s,"pushState"),a}}};var n=history.replaceState;history.replaceState=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(!e.collect.sdkStop){"function"==typeof history.onreplacestate&&history.onreplacestate({state:t});var a=n.call.apply(n,o([history,t],i));if(e.lastLocation!==location.href){var s=e.getPopStateChangeEventData();return e.setReferCache(e.lastLocation),e.lastLocation=location.href,e.sendPv(s),a}}}},e.prototype.setLocation=function(){"undefined"!=typeof window&&(this.lastLocation=window.location.href)},e.prototype.getLocation=function(){return this.lastLocation},e.prototype.init=function(){var e=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:e,init:!0})},e.prototype.listener=function(){var e=this,t=null;window.addEventListener("hashchange",(function(n){if(!e.collect.sdkStop&&e.lastLocation!==window.location.href&&(clearTimeout(t),e.allowHash)){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var i=e.getPopStateChangeEventData();e.sendPv(i)}})),window.addEventListener("popstate",(function(n){e.collect.sdkStop||e.lastLocation!==window.location.href&&(t=setTimeout((function(){e.setReferCache(e.lastLocation),e.lastLocation=window.location.href;var t=e.getPopStateChangeEventData();e.sendPv(t)}),10))}))},e.prototype.getPopStateChangeEventData=function(){var e=this.pageConfig();return e.is_back=0,e},e.prototype.pageConfig=function(){try{var e,t=this.storage.getItem(this.cache_key)||{},n=this.storage.getItem("__tea_cache_first_"+this.appid);return e=!n||1!=n,{is_html:1,url:location.href,referrer:this.handleRefer(),page_key:location.href,refer_page_key:this.handleRefer(),page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:t&&t.refer_manual_key||"",refer_page_title:t&&t.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+e}}catch(t){return this.collect.emit(c.DEBUGGER_MESSAGE,{type:c.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),{}}},e.prototype.sendPv=function(e,t){this.collect.emit("route-change",{config:e,init:!1})},e.prototype.handleRefer=function(){var e="";try{var t=this.storage.getItem()||{};e=t.routeChange?t.refer_key:this.collect.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.setReferCache=function(e){var t=this.storage.getItem(this.cache_key)||{};t.refer_key=e,t.routeChange=!0,this.storage.setItem(this.cache_key,t)},e}();Z.usePlugin(je,"extend"),Z.usePlugin(Ge,"tracer"),Z.usePlugin(ue,"ab"),Z.usePlugin(de,"stay"),Z.usePlugin(Le,"autotrack"),Z.usePlugin(le,"et"),Z.usePlugin(he,"heartbeat"),Z.usePlugin(ge,"monitor"),Z.usePlugin(Ue,"route"),Z.usePlugin(Ge,"tracer");new Z("default");var Be=Z},90364:function(e,t,n){"use strict";n.d(t,{GR:function(){return o},RO:function(){return a}});n(84940);var i=n(51810),r=i.createContext({lng:"",resources:null,error:null,loading:!1}),o=r.Provider,a=(r.Consumer,function(){return(0,i.useContext)(r)})},88374:function(e,t,n){"use strict";n.d(t,{WA:function(){return Cr},US:function(){return Rr}});var i=n(60869),r=n(94617),o=n(78360),a=n(4917),s=n(58856),c=n(84940),u=n(50906),l=n.n(u),p=n(18011),f=n(32020),d=n.n(f),h=n(51810),g=n(62557),_=n(53915),m=n(7270),v=n(21727),y=n(23705),b=n(14393),w=n(88724),E=n(31598),S={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},k=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,m.Z)(this,e),this.init(t,n)}return(0,v.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||S,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,(0,_.Z)({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),T=new k,x=function(){function e(){(0,m.Z)(this,e),this.observers={}}return(0,v.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function A(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}function O(e){return null==e?"":""+e}function R(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return r()?{}:{obj:e,k:i(o.shift())}}function I(e,t,n){var i=R(e,t,Object);i.obj[i.k]=n}function C(e,t){var n=R(e,t),i=n.obj,r=n.k;if(i)return i[r]}function D(e,t,n){var i=C(e,n);return void 0!==i?i:C(t,n)}function P(e,t,n){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?n&&(e[i]=t[i]):P(e[i],t[i],n):e[i]=t[i]);return e}function N(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function M(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return L[e]})):e}var G="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,z=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,m.Z)(this,t),n=(0,y.Z)(this,(0,b.Z)(t).call(this)),G&&x.call((0,w.Z)(n)),n.data=e||{},n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return(0,E.Z)(t,e),(0,v.Z)(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=[e,t];return n&&"string"!=typeof n&&(o=o.concat(n)),n&&"string"==typeof n&&(o=o.concat(r?n.split(r):n)),e.indexOf(".")>-1&&(o=e.split(".")),C(this.data,o)}},{key:"addResource",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=t,t=(a=e.split("."))[1]),this.addNamespaces(t),I(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}},{key:"addResources",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"!=typeof n[r]&&"[object Array]"!==Object.prototype.toString.apply(n[r])||this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(i=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=C(this.data,a)||{};i?P(s,n,r):s=(0,_.Z)({},s,n),I(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?(0,_.Z)({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(x),j={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,i,r){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,i,r))})),t}},U={},B=function(e){function t(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,m.Z)(this,t),n=(0,y.Z)(this,(0,b.Z)(t).call(this)),G&&x.call((0,w.Z)(n)),function(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,(0,w.Z)(n)),n.options=i,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=T.create("translator"),n}return(0,E.Z)(t,e),(0,v.Z)(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,r=t.ns||this.options.defaultNS;if(n&&e.indexOf(n)>-1){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:r};var a=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(a[0])>-1)&&(r=a.shift()),e=a.join(i)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}},{key:"translate",value:function(e,n,i){var r=this;if("object"!==(0,g.Z)(n)&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n||(n={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var o=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,a=this.extractFromKey(e[e.length-1],n),s=a.key,c=a.namespaces,u=c[c.length-1],l=n.lng||this.language,p=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(p){var f=n.nsSeparator||this.options.nsSeparator;return u+f+s}return s}var d=this.resolve(e,n),h=d&&d.res,m=d&&d.usedKey||s,v=d&&d.exactUsedKey||s,y=Object.prototype.toString.apply(h),b=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&h&&("string"!=typeof h&&"boolean"!=typeof h&&"number"!=typeof h)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,h,n):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");if(o){var E="[object Array]"===y,S=E?[]:{},k=E?v:m;for(var T in h)if(Object.prototype.hasOwnProperty.call(h,T)){var x="".concat(k).concat(o).concat(T);S[T]=this.translate(x,(0,_.Z)({},n,{joinArrays:!1,ns:c})),S[T]===x&&(S[T]=h[T])}h=S}}else if(w&&"string"==typeof b&&"[object Array]"===y)(h=h.join(b))&&(h=this.extendTranslation(h,e,n,i));else{var A=!1,O=!1,R=void 0!==n.count&&"string"!=typeof n.count,I=t.hasDefaultValue(n),C=R?this.pluralResolver.getSuffix(l,n.count):"",D=n["defaultValue".concat(C)]||n.defaultValue;!this.isValidLookup(h)&&I&&(A=!0,h=D),this.isValidLookup(h)||(O=!0,h=s);var P=I&&D!==h&&this.options.updateMissing;if(O||A||P){if(this.logger.log(P?"updateKey":"missingKey",l,u,s,P?D:h),o){var N=this.resolve(s,(0,_.Z)({},n,{keySeparator:!1}));N&&N.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var L=[],M=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&M&&M[0])for(var G=0;G<M.length;G++)L.push(M[G]);else"all"===this.options.saveMissingTo?L=this.languageUtils.toResolveHierarchy(n.lng||this.language):L.push(n.lng||this.language);var z=function(e,t,i){r.options.missingKeyHandler?r.options.missingKeyHandler(e,u,t,P?i:h,P,n):r.backendConnector&&r.backendConnector.saveMissing&&r.backendConnector.saveMissing(e,u,t,P?i:h,P,n),r.emit("missingKey",e,u,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?L.forEach((function(e){r.pluralResolver.getSuffixes(e).forEach((function(t){z([e],s+t,n["defaultValue".concat(t)]||D)}))})):z(L,s,D))}h=this.extendTranslation(h,e,n,d,i),O&&h===s&&this.options.appendNamespaceToMissingKey&&(h="".concat(u,":").concat(s)),O&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(h))}return h}},{key:"extendTranslation",value:function(e,t,n,i,r){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init((0,_.Z)({},n,{interpolation:(0,_.Z)({},this.options.interpolation,n.interpolation)}));var a,s=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(s){var c=e.match(this.interpolator.nestingRegexp);a=c&&c.length}var u=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(u=(0,_.Z)({},this.options.interpolation.defaultVariables,u)),e=this.interpolator.interpolate(e,u,n.lng||this.language,n),s){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];return r&&r[0]===i[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):o.translate.apply(o,i.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var p=n.postProcess||this.options.postProcess,f="string"==typeof p?[p]:p;return null!=e&&f&&f.length&&!1!==n.applyPostProcessor&&(e=j.handle(f,e,t,this.options&&this.options.postProcessPassResolved?(0,_.Z)({i18nResolved:i},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,i,r,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var c=a.extractFromKey(e,s),u=c.key;n=u;var l=c.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var p=void 0!==s.count&&"string"!=typeof s.count,f=void 0!==s.context&&"string"==typeof s.context&&""!==s.context,d=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(o=e,!U["".concat(d[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(U["".concat(d[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(d.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),d.forEach((function(n){if(!a.isValidLookup(t)){r=n;var o,c,l=u,d=[l];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(d,u,n,e,s);else p&&(o=a.pluralResolver.getSuffix(n,s.count)),p&&f&&d.push(l+o),f&&d.push(l+="".concat(a.options.contextSeparator).concat(s.context)),p&&d.push(l+=o);for(;c=d.pop();)a.isValidLookup(t)||(i=c,t=a.getResource(n,e,c,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:i,usedLng:r,usedNS:o}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}]),t}(x);function V(e){return e.charAt(0).toUpperCase()+e.slice(1)}var q=function(){function e(t){(0,m.Z)(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=T.create("languageUtils")}return(0,v.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=V(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=V(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var i=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(i)||(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=n.getLanguagePartFromCode(e);if(n.isSupportedCode(i))return t=i;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],o=function(e){e&&(n.isSupportedCode(e)?r.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"==typeof e&&o(this.formatLanguageCode(e)),i.forEach((function(e){r.indexOf(e)<0&&o(n.formatLanguageCode(e))})),r}}]),e}(),F=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],K={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}};var H=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,m.Z)(this,e),this.languageUtils=t,this.options=i,this.logger=T.create("pluralResolver"),this.rules=(n={},F.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:K[e.fc]}}))})),n)}return(0,v.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,n=this.getRule(e);return n?n.numbers.map((function(n){return t.getSuffix(e,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=this,i=this.getRule(e);if(i){var r=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),o=i.numbers[r];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===o?o="plural":1===o&&(o=""));var a=function(){return n.options.prepend&&o.toString()?n.options.prepend+o.toString():o.toString()};return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?"_plural_".concat(o.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?a():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),W=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,m.Z)(this,e),this.logger=T.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,v.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:M,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?N(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?N(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?N(t.nestingPrefix):t.nestingPrefixEscaped||N("$t("),this.nestingSuffix=t.nestingSuffix?N(t.nestingSuffix):t.nestingSuffixEscaped||N(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,i){var r,o,a,s=this,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(s.formatSeparator)<0){var r=D(t,c,e);return s.alwaysFormat?s.format(r,void 0,n):r}var o=e.split(s.formatSeparator),a=o.shift().trim(),u=o.join(s.formatSeparator).trim();return s.format(D(t,c,a),u,n,i)};this.resetRegExp();var p=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return u(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?u(s.escape(e)):u(e)}}].forEach((function(t){for(a=0;r=t.regex.exec(e);){if(void 0===(o=l(r[1].trim())))if("function"==typeof p){var n=p(e,r,i);o="string"==typeof n?n:""}else{if(f){o=r[0];continue}s.logger.warn("missed to pass in variable ".concat(r[1]," for interpolating ").concat(e)),o=""}else"string"==typeof o||s.useRawValueToEscape||(o=O(o));if(e=e.replace(r[0],t.safeValue(o)),t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,i,r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(0,_.Z)({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{"))),r="{".concat(i[1]);e=i[0],r=(r=this.interpolate(r,a)).replace(/'/g,'"');try{a=JSON.parse(r),t&&(a=(0,_.Z)({},t,a))}catch(Vn){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),Vn),"".concat(e).concat(n).concat(r)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var c=[],u=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),c=l,u=!0}if((i=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=O(i)),i||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),i=""),u&&(i=c.reduce((function(e,t){return r.format(e,t,o.lng,o)}),i.trim())),e=e.replace(n[0],i),this.regexp.lastIndex=0}return e}}]),e}();var J=function(e){function t(e,n,i){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,m.Z)(this,t),r=(0,y.Z)(this,(0,b.Z)(t).call(this)),G&&x.call((0,w.Z)(r)),r.backend=e,r.store=n,r.services=i,r.languageUtils=i.languageUtils,r.options=o,r.logger=T.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(i,o.backend,o),r}return(0,E.Z)(t,e),(0,v.Z)(t,[{key:"queueLoad",value:function(e,t,n,i){var r=this,o=[],a=[],s=[],c=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&r.store.hasResourceBundle(e,t)?r.state[s]=2:r.state[s]<0||(1===r.state[s]?a.indexOf(s)<0&&a.push(s):(r.state[s]=1,i=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),c.indexOf(t)<0&&c.push(t)))})),i||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:i}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:c}}},{key:"loaded",value:function(e,t,n){var i=e.split("|"),r=i[0],o=i[1];t&&this.emit("failedLoading",r,o,t),n&&this.store.addResourceBundle(r,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){!function(e,t,n,i){var r=R(e,t,Object),o=r.obj,a=r.k;o[a]=o[a]||[],i&&(o[a]=o[a].concat(n)),i||o[a].push(n)}(n.loaded,[r],o),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,c){s&&c&&r<5?setTimeout((function(){i.read.call(i,e,t,n,r+1,2*o,a)}),o):a(s,c)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var o=this.queueLoad(e,t,i,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),r=i[0],o=i[1];this.read(r,o,"read",void 0,void 0,(function(i,a){i&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(r," failed"),i),!i&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(r),a),t.loaded(e,i,a)}))}},{key:"saveMissing",value:function(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,i,null,(0,_.Z)({},o,{isUpdate:r})),e&&e[0]&&this.store.addResource(e[0],t,n,i))}}]),t}(x);function X(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Z(){}var Y,$,Q,ee=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if((0,m.Z)(this,t),e=(0,y.Z)(this,(0,b.Z)(t).call(this)),G&&x.call((0,w.Z)(e)),e.options=X(n),e.services={},e.logger=T,e.modules={external:[]},i&&!e.isInitialized&&!n.isClone){if(!e.options.initImmediate)return e.init(n,i),(0,y.Z)(e,(0,w.Z)(e));setTimeout((function(){e.init(n,i)}),0)}return e}return(0,E.Z)(t,e),(0,v.Z)(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(n=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=(0,_.Z)({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,g.Z)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,g.Z)(e[2])||"object"===(0,g.Z)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}},this.options,X(t)),this.format=this.options.interpolation.format,n||(n=Z),!this.options.isClone){this.modules.logger?T.init(i(this.modules.logger),this.options):T.init(null,this.options);var r=new q(this.options);this.store=new z(this.options.resources,this.options);var o=this.services;o.logger=T,o.resourceStore=this.store,o.languageUtils=r,o.pluralResolver=new H(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),o.interpolator=new W(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new J(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new B(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var s=A(),c=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),s.resolve(i),n(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),s}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,i="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return n();var r=[],o=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){r.indexOf(e)<0&&r.push(e)}))};if(i)o(i);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return o(e)}));this.options.preload&&this.options.preload.forEach((function(e){return o(e)})),this.services.backendConnector.load(r,this.options.ns,n)}else n(null)}},{key:"reloadResources",value:function(e,t,n){var i=A();return e||(e=this.languages),t||(t=this.options.ns),n||(n=Z),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),n(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&j.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var i=A();this.emit("languageChanging",e);var r=function(e){var r="string"==typeof e?e:n.services.languageUtils.getBestMatchFromCodes(e);r&&(n.language||(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r)),n.translator.language||n.translator.changeLanguage(r),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(r)),n.loadResources(r,(function(e){!function(e,r){r?(n.language=r,n.languages=n.services.languageUtils.toResolveHierarchy(r),n.translator.changeLanguage(r),n.isLanguageChangingTo=void 0,n.emit("languageChanged",r),n.logger.log("languageChanged",r)):n.isLanguageChangingTo=void 0,i.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,r)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(r):r(e):r(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var n=this,i=function e(t,i){var r;if("object"!==(0,g.Z)(i)){for(var o=arguments.length,a=new Array(o>2?o-2:0),s=2;s<o;s++)a[s-2]=arguments[s];r=n.options.overloadTranslationOptionHandler([t,i].concat(a))}else r=(0,_.Z)({},i);return r.lng=r.lng||e.lng,r.lngs=r.lngs||e.lngs,r.ns=r.ns||e.ns,n.t(t,r)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],r=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(i,e)||(!this.services.backendConnector.backend||!(!a(i,e)||r&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,i=A();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=A();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],r=e.filter((function(e){return i.indexOf(e)<0}));return r.length?(this.options.preload=i.concat(r),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,r=(0,_.Z)({},this.options,n,{isClone:!0}),o=new t(r);return["store","services","language"].forEach((function(t){o[t]=e[t]})),o.services=(0,_.Z)({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new B(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];o.emit.apply(o,[e].concat(n))})),o.init(r,i),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}}]),t}(x),te=new ee;function ne(e){return e.type===$.literal}function ie(e){return e.type===$.argument}function re(e){return e.type===$.number}function oe(e){return e.type===$.date}function ae(e){return e.type===$.time}function se(e){return e.type===$.select}function ce(e){return e.type===$.plural}function ue(e){return e.type===$.pound}function le(e){return e.type===$.tag}function pe(e){return!(!e||"object"!=typeof e||e.type!==Q.number)}function fe(e){return!(!e||"object"!=typeof e||e.type!==Q.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Y||(Y={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}($||($={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Q||(Q={}));var de=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,he=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ge(e){var t={};return e.replace(he,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var _e=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var me,ve=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,ye=/^(@+)?(\+|#+)?$/g,be=/(\*)(0+)|(#+)(0+)|(0+)/g,we=/^(0+)$/;function Ee(e){var t={};return e.replace(ye,(function(e,n,i){return"string"!=typeof i?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===i?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof i?i.length:0)),""})),t}function Se(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function ke(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!we.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Te(e){var t=Se(e);return t||{}}function xe(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=(0,s.pi)((0,s.pi)((0,s.pi)({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return(0,s.pi)((0,s.pi)({},e),Te(t))}),{}));continue;case"engineering":t=(0,s.pi)((0,s.pi)((0,s.pi)({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return(0,s.pi)((0,s.pi)({},e),Te(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(be,(function(e,n,i,r,o,a){if(n)t.minimumIntegerDigits=i.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(we.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(ve.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(ve,(function(e,n,i,r,o,a){return"*"===i?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&a?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""})),r.options.length&&(t=(0,s.pi)((0,s.pi)({},t),Ee(r.options[0])))}else if(ye.test(r.stem))t=(0,s.pi)((0,s.pi)({},t),Ee(r.stem));else{var o=Se(r.stem);o&&(t=(0,s.pi)((0,s.pi)({},t),o));var a=ke(r.stem);a&&(t=(0,s.pi)((0,s.pi)({},t),a))}}return t}var Ae=new RegExp("^"+de.source+"*"),Oe=new RegExp(de.source+"*$");function Re(e,t){return{start:e,end:t}}var Ie=!!String.prototype.startsWith,Ce=!!String.fromCodePoint,De=!!Object.fromEntries,Pe=!!String.prototype.codePointAt,Ne=!!String.prototype.trimStart,Le=!!String.prototype.trimEnd,Me=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Ge=!0;try{Ge="a"===(null===(me=Ke("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===me?void 0:me[0])}catch(oi){Ge=!1}var ze,je=Ie?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Ue=Ce?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,i="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");i+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return i},Be=De?Object.fromEntries:function(e){for(var t={},n=0,i=e;n<i.length;n++){var r=i[n],o=r[0],a=r[1];t[o]=a}return t},Ve=Pe?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var i,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(i=e.charCodeAt(t+1))<56320||i>57343?r:i-56320+(r-55296<<10)+65536}},qe=Ne?function(e){return e.trimStart()}:function(e){return e.replace(Ae,"")},Fe=Le?function(e){return e.trimEnd()}:function(e){return e.replace(Oe,"")};function Ke(e,t){return new RegExp(e,t)}if(Ge){var He=Ke("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ze=function(e,t){var n;return He.lastIndex=t,null!==(n=He.exec(e)[1])&&void 0!==n?n:""}}else ze=function(e,t){for(var n=[];;){var i=Ve(e,t);if(void 0===i||Ze(i)||Ye(i))break;n.push(i),t+=i>=65536?2:1}return Ue.apply(void 0,n)};var We=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var i=[];!this.isEOF();){var r=this.char();if(123===r){if((o=this.parseArgument(e,n)).err)return o;i.push(o.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Y.UNMATCHED_CLOSING_TAG,Re(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&Je(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;i.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;i.push(o.val)}}else{var a=this.clonePosition();this.bump(),i.push({type:$.pound,location:Re(a,this.clonePosition())})}}}return{val:i,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var i=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:$.literal,value:"<"+i+"/>",location:Re(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var o=r.val,a=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Je(this.char()))return this.error(Y.INVALID_TAG,Re(a,this.clonePosition()));var s=this.clonePosition();return i!==this.parseTagName()?this.error(Y.UNMATCHED_CLOSING_TAG,Re(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:$.tag,value:i,children:o,location:Re(n,this.clonePosition())},err:null}:this.error(Y.INVALID_TAG,Re(a,this.clonePosition())))}return this.error(Y.UNCLOSED_TAG,Re(n,this.clonePosition()))}return this.error(Y.INVALID_TAG,Re(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&Xe(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),i="";;){var r=this.tryParseQuote(t);if(r)i+=r;else{var o=this.tryParseUnquoted(e,t);if(o)i+=o;else{var a=this.tryParseLeftAngleBracket();if(!a)break;i+=a}}}var s=Re(n,this.clonePosition());return{val:{type:$.literal,value:i,location:s},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Je(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Ue.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Ue(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Re(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Y.EMPTY_ARGUMENT,Re(n,this.clonePosition()));var i=this.parseIdentifierIfPossible().value;if(!i)return this.error(Y.MALFORMED_ARGUMENT,Re(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Re(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:$.argument,value:i,location:Re(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Re(n,this.clonePosition())):this.parseArgumentOptions(e,t,i,n);default:return this.error(Y.MALFORMED_ARGUMENT,Re(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=ze(this.message,t),i=t+n.length;return this.bumpTo(i),{value:n,location:Re(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,i){var r,o=this.clonePosition(),a=this.parseIdentifierIfPossible().value,c=this.clonePosition();switch(a){case"":return this.error(Y.EXPECT_ARGUMENT_TYPE,Re(o,c));case"number":case"date":case"time":this.bumpSpace();var u=null;if(this.bumpIf(",")){this.bumpSpace();var l=this.clonePosition();if((m=this.parseSimpleArgStyleIfPossible()).err)return m;if(0===(d=Fe(m.val)).length)return this.error(Y.EXPECT_ARGUMENT_STYLE,Re(this.clonePosition(),this.clonePosition()));u={style:d,styleLocation:Re(l,this.clonePosition())}}if((v=this.tryParseArgumentClose(i)).err)return v;var p=Re(i,this.clonePosition());if(u&&je(null==u?void 0:u.style,"::",0)){var f=qe(u.style.slice(2));if("number"===a)return(m=this.parseNumberSkeletonFromString(f,u.styleLocation)).err?m:{val:{type:$.number,value:n,location:p,style:m.val},err:null};if(0===f.length)return this.error(Y.EXPECT_DATE_TIME_SKELETON,p);var d={type:Q.dateTime,pattern:f,location:u.styleLocation,parsedOptions:this.shouldParseSkeletons?ge(f):{}};return{val:{type:"date"===a?$.date:$.time,value:n,location:p,style:d},err:null}}return{val:{type:"number"===a?$.number:"date"===a?$.date:$.time,value:n,location:p,style:null!==(r=null==u?void 0:u.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var h=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Y.EXPECT_SELECT_ARGUMENT_OPTIONS,Re(h,(0,s.pi)({},h)));this.bumpSpace();var g=this.parseIdentifierIfPossible(),_=0;if("select"!==a&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(Y.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Re(this.clonePosition(),this.clonePosition()));var m;if(this.bumpSpace(),(m=this.tryParseDecimalInteger(Y.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Y.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return m;this.bumpSpace(),g=this.parseIdentifierIfPossible(),_=m.val}var v,y=this.tryParsePluralOrSelectOptions(e,a,t,g);if(y.err)return y;if((v=this.tryParseArgumentClose(i)).err)return v;var b=Re(i,this.clonePosition());return"select"===a?{val:{type:$.select,value:n,options:Be(y.val),location:b},err:null}:{val:{type:$.plural,value:n,options:Be(y.val),offset:_,pluralType:"plural"===a?"cardinal":"ordinal",location:b},err:null};default:return this.error(Y.INVALID_ARGUMENT_TYPE,Re(o,c))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Y.EXPECT_ARGUMENT_CLOSING_BRACE,Re(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Y.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Re(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=e.split(_e).filter((function(e){return e.length>0})),n=[],i=0,r=t;i<r.length;i++){var o=r[i].split("/");if(0===o.length)throw new Error("Invalid number skeleton");for(var a=o[0],s=o.slice(1),c=0,u=s;c<u.length;c++)if(0===u[c].length)throw new Error("Invalid number skeleton");n.push({stem:a,options:s})}return n}(e)}catch(Vn){return this.error(Y.INVALID_NUMBER_SKELETON,t)}return{val:{type:Q.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?xe(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,i){for(var r,o=!1,a=[],s=new Set,c=i.value,u=i.location;;){if(0===c.length){var l=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(Y.EXPECT_PLURAL_ARGUMENT_SELECTOR,Y.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;u=Re(l,this.clonePosition()),c=this.message.slice(l.offset,this.offset())}if(s.has(c))return this.error("select"===t?Y.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Y.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,u);"other"===c&&(o=!0),this.bumpSpace();var f=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Y.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Y.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Re(this.clonePosition(),this.clonePosition()));var d=this.parseMessage(e+1,t,n);if(d.err)return d;var h=this.tryParseArgumentClose(f);if(h.err)return h;a.push([c,{value:d.val,location:Re(f,this.clonePosition())}]),s.add(c),this.bumpSpace(),c=(r=this.parseIdentifierIfPossible()).value,u=r.location}return 0===a.length?this.error("select"===t?Y.EXPECT_SELECT_ARGUMENT_SELECTOR:Y.EXPECT_PLURAL_ARGUMENT_SELECTOR,Re(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Y.MISSING_OTHER_CLAUSE,Re(this.clonePosition(),this.clonePosition())):{val:a,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,i=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;r=!0,o=10*o+(a-48),this.bump()}var s=Re(i,this.clonePosition());return r?Me(o*=n)?{val:o,err:null}:this.error(t,s):this.error(e,s)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Ve(this.message,e);if(void 0===t)throw Error("Offset "+e+" is at invalid UTF-16 code unit boundary");return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(je(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset "+e+" must be greater than or equal to the current offset "+this.offset());for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset "+e+" is at invalid UTF-16 code unit boundary");if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Ze(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Je(e){return e>=97&&e<=122||e>=65&&e<=90}function Xe(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Ze(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Ye(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function $e(e){e.forEach((function(e){if(delete e.location,se(e)||ce(e))for(var t in e.options)delete e.options[t].location,$e(e.options[t].value);else re(e)&&pe(e.style)||(oe(e)||ae(e))&&fe(e.style)?delete e.style.location:le(e)&&$e(e.children)}))}function Qe(e,t){void 0===t&&(t={}),t=(0,s.pi)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new We(e,t).parse();if(n.err){var i=SyntaxError(Y[n.err.kind]);throw i.location=n.err.location,i.originalMessage=n.err.message,i}return(null==t?void 0:t.captureLocation)||$e(n.val),n.val}function et(e,t){var n=t&&t.cache?t.cache:ct,i=t&&t.serializer?t.serializer:ot;return(t&&t.strategy?t.strategy:rt)(e,{cache:n,serializer:i})}function tt(e,t,n,i){var r,o=null==(r=i)||"number"==typeof r||"boolean"==typeof r?i:n(i),a=t.get(o);return void 0===a&&(a=e.call(this,i),t.set(o,a)),a}function nt(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),o=t.get(r);return void 0===o&&(o=e.apply(this,i),t.set(r,o)),o}function it(e,t,n,i,r){return n.bind(t,e,i,r)}function rt(e,t){return it(e,this,1===e.length?tt:nt,t.cache.create(),t.serializer)}var ot=function(){return JSON.stringify(arguments)};function at(){this.cache=Object.create(null)}at.prototype.has=function(e){return e in this.cache},at.prototype.get=function(e){return this.cache[e]},at.prototype.set=function(e,t){this.cache[e]=t};var st,ct={create:function(){return new at}},ut={variadic:function(e,t){return it(e,this,nt,t.cache.create(),t.serializer)},monadic:function(e,t){return it(e,this,tt,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(st||(st={}));var lt,pt=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=i,r}return(0,s.ZT)(t,e),t.prototype.toString=function(){return"[formatjs Error: "+this.code+"] "+this.message},t}(Error),ft=function(e){function t(t,n,i,r){return e.call(this,'Invalid values for "'+t+'": "'+n+'". Options are "'+Object.keys(i).join('", "')+'"',st.INVALID_VALUE,r)||this}return(0,s.ZT)(t,e),t}(pt),dt=function(e){function t(t,n,i){return e.call(this,'Value for "'+t+'" must be of type '+n,st.INVALID_VALUE,i)||this}return(0,s.ZT)(t,e),t}(pt),ht=function(e){function t(t,n){return e.call(this,'The intl string context variable "'+t+'" was not provided to the string "'+n+'"',st.MISSING_VALUE,n)||this}return(0,s.ZT)(t,e),t}(pt);function gt(e){return"function"==typeof e}function _t(e,t,n,i,r,o,a){if(1===e.length&&ne(e[0]))return[{type:lt.literal,value:e[0].value}];for(var s=[],c=0,u=e;c<u.length;c++){var l=u[c];if(ne(l))s.push({type:lt.literal,value:l.value});else if(ue(l))"number"==typeof o&&s.push({type:lt.literal,value:n.getNumberFormat(t).format(o)});else{var p=l.value;if(!r||!(p in r))throw new ht(p,a);var f=r[p];if(ie(l))f&&"string"!=typeof f&&"number"!=typeof f||(f="string"==typeof f||"number"==typeof f?String(f):""),s.push({type:"string"==typeof f?lt.literal:lt.object,value:f});else if(oe(l)){var d="string"==typeof l.style?i.date[l.style]:fe(l.style)?l.style.parsedOptions:void 0;s.push({type:lt.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(ae(l)){d="string"==typeof l.style?i.time[l.style]:fe(l.style)?l.style.parsedOptions:void 0;s.push({type:lt.literal,value:n.getDateTimeFormat(t,d).format(f)})}else if(re(l)){(d="string"==typeof l.style?i.number[l.style]:pe(l.style)?l.style.parsedOptions:void 0)&&d.scale&&(f*=d.scale||1),s.push({type:lt.literal,value:n.getNumberFormat(t,d).format(f)})}else{if(le(l)){var h=l.children,g=l.value,_=r[g];if(!gt(_))throw new dt(g,"function",a);var m=_(_t(h,t,n,i,r,o).map((function(e){return e.value})));Array.isArray(m)||(m=[m]),s.push.apply(s,m.map((function(e){return{type:"string"==typeof e?lt.literal:lt.object,value:e}})))}if(se(l)){if(!(v=l.options[f]||l.options.other))throw new ft(l.value,f,Object.keys(l.options),a);s.push.apply(s,_t(v.value,t,n,i,r))}else if(ce(l)){var v;if(!(v=l.options["="+f])){if(!Intl.PluralRules)throw new pt('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',st.MISSING_INTL_API,a);var y=n.getPluralRules(t,{type:l.pluralType}).select(f-(l.offset||0));v=l.options[y]||l.options.other}if(!v)throw new ft(l.value,f,Object.keys(l.options),a);s.push.apply(s,_t(v.value,t,n,i,r,f-(l.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===lt.literal&&t.type===lt.literal?n.value+=t.value:e.push(t),e}),[])}(s)}function mt(e,t){return t?Object.keys(e).reduce((function(n,i){var r,o;return n[i]=(r=e[i],(o=t[i])?(0,s.pi)((0,s.pi)((0,s.pi)({},r||{}),o||{}),Object.keys(r).reduce((function(e,t){return e[t]=(0,s.pi)((0,s.pi)({},r[t]),o[t]||{}),e}),{})):r),n}),(0,s.pi)({},e)):e}function vt(e){return{create:function(){return{has:function(t){return t in e},get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(lt||(lt={}));var yt,bt=function(){function e(t,n,i,r){var o,a=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=a.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===lt.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return _t(a.ast,a.locales,a.formatters,a.formats,e,void 0,a.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(a.locales)[0]}},this.getAst=function(){return a.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==r?void 0:r.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mt(e.formats,i),this.locales=n,this.formatters=r&&r.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:et((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,s.ev)([void 0],t)))}),{cache:vt(o.number),strategy:ut.variadic}),getDateTimeFormat:et((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,s.ev)([void 0],t)))}),{cache:vt(o.dateTime),strategy:ut.variadic}),getPluralRules:et((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,s.ev)([void 0],t)))}),{cache:vt(o.pluralRules),strategy:ut.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=Qe,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),wt=bt,Et=function(){return Et=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Et.apply(this,arguments)};function St(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function r(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var o="string"!=typeof t?[].concat(t):t.split(".");o.length>1;){if(r())return{};var a=i(o.shift());!e[a]&&n&&(e[a]=new n),e=e[a]}return r()?{}:{obj:e,k:i(o.shift())}}!function(e){e.keepRaw="keepRaw",e.replaceAnyway="replaceAnyway"}(yt||(yt={}));yt.replaceAnyway;var kt={memoize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:yt.replaceAnyway},Tt=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var i=this;void 0===t&&(t=e._i18nextInstance);var r={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(r=t.options.i18nFormat),r.onParseError=t.options.onParseError,r.missingInterpolationHandler=t.options.missingInterpolationHandler,r.icuConfig=t.options.icuConfig,r.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(kt,n,r),this.formats=this.options.formats,t){var o=this.options,a=o.bindI18n,s=o.bindI18nStore,c=o.memoize;t.IntlMessageFormat=wt,this.IntlMessageFormat=wt,t.ICU=this,c&&(a&&t.on(a,(function(){return i.clearCache()})),s&&t.store.on(s,(function(){return i.clearCache()})))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach((function(e){return i.addLocaleData(e)})):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach((function(e){e&&e.locale&&wt.__addLocaleData(e)}))},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?Et(Et({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,i,r){if(!1===(this.options.icuConfig||{}).strict)return n;for(var o={},a=0,s=e;a<s.length;a++){var c=s[a];if(1===c.type){var u=c.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler({key:r,text:t,locale:i,interpolation:{key:u,val:n[u]}});if("string"==typeof l){o[u]=l;continue}}switch(this.options.onParseError){case yt.keepRaw:throw new Error;case yt.replaceAnyway:o[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var p=this.options.onParseError(t,u,i,this.IntlMessageFormat);if(!0===p)throw new Error;o[u]="string"==typeof p?p:"{"+u+"}"}else this.options.ignoreWarning||console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+r+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),o[u]="{"+u+"}"}}}return Object.assign({},n,o)},e.prototype.parse=function(e,t,n,i,r,o){var a,s=o&&o.resolved&&o.resolved.res,c=this.options.memoize&&n+"."+i+"."+r.replace(/\./g,"###");!s&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memoize&&(a=function(e,t){var n=St(e,t),i=n.obj,r=n.k;if(i)return i[r]}(this.mem,c));try{return a||(a=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memoize&&(this.options.memoizeFallback||!o||s)&&function(e,t,n){var i=St(e,t,Object);i.obj[i.k]=n}(this.mem,c,a)),a.format(this.checkMissingInterpolation(a.getAst(),e,t||{},n,r))}catch(u){return e}},e.prototype.addLookupKeys=function(e,t,n,i,r){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}(),xt=(Tt.name,function(){return xt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},xt.apply(this,arguments)}),At=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=xt({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));var Ot={name:"inContext",type:"postProcessor",process:function(e,t,n,i){if(window&&document.getElementById("INCONTEXT-KEY-MATCH")&&!n.__STARLING_INCONTEXT_FLAG__){window.__STARLING_INCONTEXT_GLOBAL_I18N__||(window.__STARLING_INCONTEXT_GLOBAL_I18N__=i),delete n.keySeparator,delete n.lngs;var r=0;if(t=t.toString(),At.test(t))(o=t.match(At))[0],r=o[1],t=o[2];if(At.test(e)){var o;(o=e.match(At))[0];o[1];e=o[2]}if(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]){var a=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].findIndex((function(e){return JSON.stringify(e.options)===JSON.stringify(n)}));a>-1?(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t][a].default=e,r=a):r=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1}else window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],r=0;return"[[__starling_"+r+"_"+t+"__]]"}return e}};function Rt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ct(e,t,n){return t&&It(e.prototype,t),n&&It(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dt(e){return function(e){if(Array.isArray(e))return Nt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Pt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pt(e,t){if(e){if("string"==typeof e)return Nt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nt(e,t):void 0}}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}for(var Lt=["AFN","EUR","ALL","DZD","USD","AOA","XCD","ARS","AMD","AWG","AUD","AZN","BSD","BHD","BDT","BBD","BYN","BZD","XOF","BMD","INR","BTN","BOB","BOV","BAM","BWP","NOK","BRL","BND","BGN","BIF","CVE","KHR","XAF","CAD","KYD","CLP","CLF","CNY","COP","COU","KMF","CDF","NZD","CRC","HRK","CUP","CUC","ANG","CZK","DKK","DJF","DOP","EGP","SVC","ERN","ETB","FKP","FJD","XPF","GMD","GEL","GHS","GIP","GTQ","GBP","GNF","GYD","HTG","HNL","HKD","HUF","ISK","IDR","XDR","IRR","IQD","ILS","JMD","JPY","JOD","KZT","KES","KPW","KRW","KWD","KGS","LAK","LBP","LSL","ZAR","LRD","LYD","CHF","MOP","MKD","MGA","MWK","MYR","MVR","MRO","MUR","XUA","MXN","MXV","MDL","MNT","MAD","MZN","MMK","NAD","NPR","NIO","NGN","OMR","PKR","PAB","PGK","PYG","PEN","PHP","PLN","QAR","RON","RUB","RWF","SHP","WST","STD","SAR","RSD","SCR","SLL","SGD","XSU","SBD","SOS","SSP","LKR","SDG","SRD","SZL","SEK","CHE","CHW","SYP","TWD","TJS","TZS","THB","TOP","TTD","TND","TRY","TMT","UGX","UAH","AED","USN","UYU","UYI","UZS","VUV","VEF","VND","YER","ZMW","ZWL","XBA","XBB","XBC","XBD","XTS","XXX","XAU","XPD","XPT","XAG"],Mt={},Gt=0;Gt<Lt.length;Gt++)Mt[Lt[Gt]]={style:"currency",currency:Lt[Gt]};var zt={number:Mt},jt="languageTransformer";function Ut(e){return function(t){return t.type===e}}function Bt(e,t){var n=e;return(t||[]).map((function(t){n=t.process(e)||n})),n}var Vt,qt={lng:"zh-CN",fallbackLng:["en-US"],inContext:!0},Ft=[Tt,Ot],Kt=function(){function e(t,n){Rt(this,e),this._waitingToAddResourceBundle=[],null!=t&&t.copiedI18nextInstance?this.instance=t.copiedI18nextInstance:(this._handlePlugins(n),this._handleConfigs(t),this.instance=te.createInstance(),this.instance.isInitialized=!1)}return Ct(e,[{key:"_handlePlugins",value:function(e){var t,n;!1===(null===(t=this.config)||void 0===t||null===(n=t.icuConfig)||void 0===n?void 0:n.open)&&Ft.shift(),this.plugins=Array.isArray(e)?e.concat(Ft):Ft}},{key:"_handleConfigs",value:function(e){this.userLng=(null==e?void 0:e.lng)||null,this.config=Object.assign({},qt,e||{})}},{key:"language",get:function(){return(this.instance||{}).language}},{key:"createInstance",value:function(){var e=this;return new Promise((function(t,n){"undefined"!=typeof window&&!window.CocosEngine&&e.config.inContext&&(e.config.postProcess=[].concat(["inContext"],e.config.postProcess||[]),window.__STARLING_DEVTOOLS_I18N=e.instance),e.plugins.map((function(t){"IES_INTL_ICU_PLUGIN"===t.name&&t.staticInit(e.instance),e.instance.use(t)}));var i=e.config;e.config.formats=Object.assign({},e.config.formats,zt);var r=Bt(i.lng,e.plugins.filter(Ut(jt)));e.instance.init(Object.assign({},i,{lng:r,i18nFormat:{formats:e.config.formats}}),(function(i,r){try{var o,a=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Pt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e._waitingToAddResourceBundle);try{for(a.s();!(o=a.n()).done;){var s,c=o.value;(s=e.instance).addResourceBundle.apply(s,Dt(c))}}catch(i){a.e(i)}finally{a.f()}e._waitingToAddResourceBundle=[]}catch(i){}i||(e._updateLanguages(),t({t:r,err:i})),e.init=!0,n({t:r,err:i})}))}))}},{key:"_updateLanguages",value:function(){this.languages=this.instance?Array.from(new Set([this.instance.language].concat(Dt(this.instance.languages)))):null}},{key:"getLanguages",value:function(){return this.languages}},{key:"changeLanguage",value:function(e,t){var n=this;this.config.lng=e,this.instance.changeLanguage(e,(function(e,i){e||n._updateLanguages(),t&&t(e,i)}))}},{key:"changeLanguageWithPromise",value:function(e){var t=this;return new Promise((function(n,i){t.config.lng=e,t.instance.changeLanguage(e,(function(e,r){e&&i({err:e,t:r}),t._updateLanguages(),n({err:e,t:r})}))}))}},{key:"getDir",value:function(e){return this.instance.dir(e)}},{key:"t",value:function(e,t,n){var i=Array.isArray(e)?Array.from(e).map((function(){return" "})).join(""):Array(e.length).fill(" "),r=Object.assign({keySeparator:i,nsSeparator:i},t);return"thirdParamFallback"in this.config&&this.config.thirdParamFallback&&(r.thirdParamFallback=!0),this.instance.t(e,n,r)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.instance.isInitialized?this.instance.addResourceBundle(e,t,n,i,r):(this._waitingToAddResourceBundle.push([e,t,n,!!i,!!r]),this.instance)}},{key:"cloneInstance",value:function(t,n){var i=this.instance.cloneInstance(t,n),r=new e({copiedI18nextInstance:i});return r.t=this.t.bind(r),r.config=this.config,r.plugins=this.plugins,r.languages=this.languages,r.init=i.isInitialized||Boolean(this.init),r.userLng=this.userLng,i.on("initialized",(function(){r.init=!0})),r}}]),e}(),Ht="Starling_intl:",Wt=function(){for(var e,t="".concat(Ht," [WARNING]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).warn.apply(e,[t].concat(i))},Jt=function(){for(var e,t="".concat(Ht," [ERROR]"),n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=console).error.apply(e,[t].concat(i))};function Xt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Zt(){}function Yt(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(Vn){return Promise.reject(Vn)}}}!function(e){e.intl3rdParty="intl3rdParty",e.backend="backend",e.logger="logger",e.languageDetector="languageDetector",e.postProcessor="postProcessor",e.i18nFormat="i18nFormat",e["3rdParty"]="3rdParty"}(Vt||(Vt={}));var $t=null,Qt=function(){function e(t){var n;Rt(this,e),this.plugins=[],this.i18nInstance=null!==(n=null==t?void 0:t.i18nInstance)&&void 0!==n?n:new Kt}return Ct(e,[{key:"use",value:function(e){return this.plugins.includes(e)?(Wt("Plugin: ".concat(e.name," has beeninit installed.")),this):(this.plugins.push(e),this)}},{key:"init",value:function(e,t){try{var n=this;return n.ignoreWarning=e.ignoreWarning,n.i18nInstance._handleConfigs(e),n.i18nInstance._handlePlugins(n.plugins),Xt(function(e,t){try{var n=e()}catch(Vn){return t(Vn)}return n&&n.then?n.then(void 0,t):n}((function(){return Xt(n.i18nInstance.createInstance(),(function(e){var i,r=e.err,o=e.t,a=n.plugins.filter((function(e){return e.type===Vt.intl3rdParty}));return Xt((i=a.map(Yt((function(e){if(e&&"function"==typeof e.init){var t=e.init instanceof Promise?e.init:Yt((function(t){return Promise.resolve(e.init(t))}));return function(e,t){if(!t)return e&&e.then?e.then(Zt):Promise.resolve()}(t(n))}}))),new Promise((function(e,t){if(Array.isArray(i)||(i=Array.from(i)),i.length<=0)return e([]);var n=[];i=i.map((function(r,o){return function(){("function"==typeof r?new Promise(r):Promise.resolve(r)).then((function(t){n[o]=t,o===i.length-1?e(n):i[o+1]()}),t)}})),i[0]()}))),(function(){return"function"==typeof t&&t(r,o),{err:r,t:o}}))}))}),(function(e){return Jt("The instance init error: ".concat(e)),{err:e,t:function(e){return e}}})))}catch(Vn){return Promise.reject(Vn)}}},{key:"language",get:function(){return(this.i18nInstance||{}).language}},{key:"setLang",value:function(e,t){var n=Bt(e,this.plugins.filter(Ut(jt)));this.i18nInstance.changeLanguage(n,t)}},{key:"getLanguages",value:function(){return this.i18nInstance.getLanguages()}},{key:"setLangWithPromise",value:function(e){var t=Bt(e,this.plugins.filter(Ut(jt)));return this.i18nInstance.changeLanguageWithPromise(t)}},{key:"dir",value:function(e){return this.i18nInstance.getDir(e)}},{key:"t",value:function(e,t,n){var i=null;return(i=void 0===this?$t:this).ignoreWarning||i.i18nInstance&&i.i18nInstance.init?!e||"string"==typeof e&&!e.trim()?"":i.i18nInstance.t(e,t,n):(Jt("The instance has not been initialized: i18n.t('".concat(e,"'").concat(t?","+JSON.stringify(t):"",");")),null!=n?n:Array.isArray(e)?e[0]:e)}},{key:"addResourceBundle",value:function(e,t,n,i,r){return this.i18nInstance.addResourceBundle(e,t,n,i,r)}},{key:"cloneInstance",value:function(t){var n=this.i18nInstance.cloneInstance(t),i=new e({i18nInstance:n});return i.t=this.t.bind(i),i.plugins=this.plugins,i.ignoreWarning=this.ignoreWarning,i}}]),e}(),en=$t=new Qt,tn=n(50511),nn=n(44470),rn=n(30822),on=n(41766),an=n(95788),sn=n(41584),cn=["forwardedRef"];function un(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?un(Object(n),!0).forEach((function(t){(0,nn.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):un(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pn=n(78868);function fn(e){var t=e.i18n,n=e.defaultNS,i=e.children,r=(0,h.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,h.createElement)(pn.OO.Provider,{value:r},i)}var dn=n(90364),hn=n(19513),gn=function(e,t){return gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},gn(e,t)};function _n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}gn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var mn=function(e,t){return mn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},mn(e,t)};var vn=function(){return vn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},vn.apply(this,arguments)};function yn(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(Vn){o(Vn)}}function s(e){try{c(i.throw(e))}catch(Vn){o(Vn)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function bn(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(Vn){o=[6,Vn],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var wn=function(e){function t(t,n,i){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.originError=i,r.name="StarlingError",r.code=t,r.message=n,r.originError=i,Error.captureStackTrace&&Error.captureStackTrace(r,r.constructor),r}return function(e,t){function n(){this.constructor=e}mn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),En={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},Sn={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},kn={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},Tn={ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},xn={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},An={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0};var On=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return yn(this,void 0,void 0,(function(){return bn(this,(function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){var n=e[0],i=e[1];return t.getText(n,i)})))},e.prototype._request=function(e,t){return yn(this,void 0,void 0,(function(){var n,i,r,o,a,s,c,u,l,p,f,d,h,g,_,m;return bn(this,(function(v){switch(v.label){case 0:return n=this.options.getReleaseVersion,i=n(e),e&&i&&t?[2,{}]:(r=this.getUrl(e,t),o=this.options,a=o.request,s=o.timeout,[4,a(r,{timeout:s})]);case 1:if(c=v.sent(),u=c.data,l=u.status,p=u.message,200==+l)return[2,this._mapResponse(p)];if(1001==+l)throw d=(f=xn).ERROR_CODE,h=f.ERROR_MESSAGE,new wn(d,h);throw _=(g=En).ERROR_CODE,m=g.ERROR_MESSAGE,new wn(_,m)}}))}))},e.prototype.getUrl=function(e,t){var n=this.options,i=n.apiKey,r=n.locale,o=n.fallbackLang,a=n.zoneHost,s=n.mode,c=n.getReleaseVersion,u=[r].concat(o),l=a+"/check_and_get_text/"+i+"/"+s+"/"+e+"?lang="+u,p=c(e);return p&&(l=a+"/text_by_release_version/"+i+"/"+s+"/"+e+"/"+p+"?lang="+u),"string"==typeof t&&(l+="&version="+t),l},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}):{}},e}(),Rn=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t){try{return this.options.store.set(e,t)}catch(i){var n=Tn.ERROR_CODE;return void this.options.tracker("cache_error",{code:n,message:i.message,stack:i.stack})}},e.prototype._getCache=function(e){var t=this.options,n=t.store,i=t.cache;try{return i&&n.get(e)}catch(o){var r=Tn.ERROR_CODE;return void this.options.tracker("cache_error",{code:r,message:o.message,stack:o.stack})}},e.prototype.getVersion=function(e){var t=this.options,n="version."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this.getText(e)?this._getCache(n):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map((function(e){return t.getVersion(e)})))},e.prototype.getText=function(e){var t=this.options,n="text."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this._getCache(n)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){return t.getText(e)})))},e.prototype.refresh=function(e,t,n,i){return yn(this,void 0,void 0,(function(){var r,o,a,s,c,u=this;return bn(this,(function(l){switch(l.label){case 0:return r=this.options,o=r.apiKey,a=r.getReleaseVersion,s=r.cache,c=[],t.forEach((function(r,l){var p="text."+o+"."+e[l]+"."+i[l],f="version."+o+"."+e[l]+"."+i[l],d=a(e[l]);d&&(p+="."+d,f+="."+d),s&&(c.push(u._setCache(p,t[l])),c.push(u._setCache(f,n[l])))})),[4,Promise.all(c)];case 1:return l.sent(),[2,t.reduce((function(e,t){return Object.assign(e,t)}),{})]}}))}))},e}();var In=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map((function(e){return e.namespace}))},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach((function(t,n){t.texts=e[n]}))},e.prototype.sortByPrior=function(){return this._list.sort((function(e,t){return e.prior-t.prior})),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),Cn=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return yn(this,void 0,void 0,(function(){var t,n,i,r,o,a;return bn(this,(function(s){switch(s.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=s.sent(),i=e.map((function(e,t){return[e,n[t]]})),[4,this.remote.getTexts(i)];case 2:return r=s.sent(),o=new In,a=new In,e.forEach((function(e,i){var s=r[i],c=s.updated,u=s.version,l=s.data,p=s.lang;c?a.addNamespace({namespace:e,prior:i,version:u,texts:l,lang:p}):o.addNamespace({namespace:e,prior:i,version:n[i],lang:t})})),[2,{equalNs:o,diffNs:a}]}}))}))},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],i=[],r=[],o=[];return t.forEach((function(e){n.push(e.namespace),i.push(e.version),r.push(e.texts),o.push(e.lang)})),this.local.refresh(n,r,i,o)},e.prototype._getLocalTexts=function(e){return yn(this,void 0,void 0,(function(){var t;return bn(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}}))}))},e.prototype.load=function(e){return yn(this,void 0,void 0,(function(){var t,n,i,r,o;return bn(this,(function(a){switch(a.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:return n=a.sent(),i=n.equalNs,r=n.diffNs,i.length?[4,this._getLocalTexts(i)]:[3,3];case 2:return a.sent(),[3,4];case 3:a.label=4;case 4:return o=this._formatTexts(t,r.concat(i)),r.length?[4,this._refresh(r)]:[3,6];case 5:a.sent(),a.label=6;case 6:return[2,{texts:o,diffNs:r.getNamespaces(),equalNs:i.getNamespaces()}]}}))}))},e.prototype._getCacheText=function(e){return yn(this,void 0,void 0,(function(){var t,n,i,r,o,a,s;return bn(this,(function(c){switch(c.label){case 0:return t=this.options,n=t.locale,i=t.format,[4,this.local.getTexts(e)];case 1:return r=c.sent(),[4,this.local.getVersions(e)];case 2:return o=c.sent(),a=r.map((function(t,i){if(t)return{namespace:e[i],version:o[i],lang:n,texts:t}})).filter((function(e){return!!e})),s=new In(a),[2,this._formatTexts(i,s)]}}))}))},e.prototype.lazyLoad=function(e){return yn(this,void 0,void 0,(function(){var t,n,i;return bn(this,(function(r){switch(r.label){case 0:return[4,this._getCacheText(e)];case 1:return t=r.sent(),n=0===Object.keys(t).length,this._promiseRefresh=this.load(e),n?[4,this._promiseRefresh]:[3,3];case 2:i=r.sent(),t=i.texts,r.label=3;case 3:return[2,{texts:t,diffNs:n?i&&i.diffNs:[],equalNs:n?i&&i.equalNs:e}]}}))}))},e.prototype._formatTexts=function(e,t){if("splitted"===e)return t.getList().reduce((function(e,t){var n=t.namespace,i=t.lang,r=t.texts,o=t.version;return e[n]={lang:i,texts:r,version:o},e}),{});var n,i,r=t.sortByPrior().map((function(e){return e.texts}));return n=r,(i?n.concat(i):n).reduce((function(e,t){return Object.assign(e,t)}),{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},writable:!0,configurable:!0});var Dn,Pn="client_exception",Nn="client_load",Ln="client_cache",Mn="client_load_time";!function(e){e.AfterLoad="afterLoad"}(Dn||(Dn={}));var Gn=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},An,e)).namespace,n=e.apiKey,i=e.request,r=e.store,o=e.zoneHost;if(e.test&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!i||!r){var a=kn,s=a.ERROR_CODE,c=a.ERROR_MESSAGE;throw new wn(s,c,null)}if(!n||!t.length||!o){var u=Sn;throw s=u.ERROR_CODE,c=u.ERROR_MESSAGE,new wn(s,c,null)}return e}(e);var n=this.options,i=n.apiKey,r=n.locale,o=n.zoneHost,a=n.request,s=n.timeout,c=n.fallbackLang,u=n.store,l=n.lazyUpdate,p=n.test,f=n.mode,d=n.format,h=n.cache,g={mode:l?"lazy":p?"test":"prod",zone:o,locale:r,apiKey:i};this._tracker=function(e,n){try{t.options.tracker(e,vn(vn({},g),n))}catch(i){console.log(i)}};var _=this._getReleaseVersionByNamespace.bind(this),m=new On({request:a,timeout:s,apiKey:i,locale:r,zoneHost:o,fallbackLang:c,mode:f,getReleaseVersion:_}),v=new Rn({apiKey:i,locale:r,store:u,tracker:this._tracker,getReleaseVersion:_,cache:h});this._textManager=new Cn(m,v,{locale:r,format:d}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every((function(e){return"object"==typeof e}))&&t.forEach((function(t){t.type===Dn.AfterLoad&&e.afterLoadPlugins.push(t)}))},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,i=null;if(Array.isArray(n)){var r=t.findIndex((function(t){return t===e}));i=n[r]}else n&&"object"==typeof n?i=n[e]:"string"==typeof n&&(i=n);return i},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return yn(this,void 0,void 0,(function(){var e;return bn(this,(function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}}))}))},e.prototype._load=function(){return yn(this,void 0,void 0,(function(){var e,t,n,i,r;return bn(this,(function(o){switch(o.label){case 0:return e=this.options,t=e.namespace,n=e.lazyUpdate,i=t,n?[4,this._textManager.lazyLoad(i)]:[3,2];case 1:return r=o.sent(),[3,4];case 2:return[4,this._textManager.load(i)];case 3:r=o.sent(),o.label=4;case 4:return[2,r]}}))}))},e.prototype.load=function(e,t){return yn(this,void 0,void 0,(function(){var n,i,r,o,a,s,c,u,l,p,f,d,h,g,_=this;return bn(this,(function(m){switch(m.label){case 0:n=Date.now(),i=this.options.namespace,m.label=1;case 1:return m.trys.push([1,5,,10]),this._tracker(Nn,{state:"start",version:"0.5.9"}),[4,this._load()];case 2:return r=m.sent(),o=r.diffNs,a=r.equalNs,s=r.texts,c=this.afterLoadPlugins,Array.isArray(c)&&c.length?[4,c.reduce((function(e,t){return e.then((function(e){return"function"==typeof t.process?t.process(e||s,_.options):e}))}),Promise.resolve(s))]:[3,4];case 3:u=m.sent(),s=u||s,m.label=4;case 4:return e&&e(s),this._tracker(Mn,{time:Date.now()-n}),this._tracker(Nn,{state:"success",version:"0.5.9"}),l=o.length,p=a.length,f=i.length,d=(p/f).toFixed(2),this._tracker(Ln,{diffLen:l,diff:o.join(","),equalLen:p,equal:a.join(","),namespaces:a.join(","),namespacesLen:f,ratio:d}),[2,s];case 5:if(h=m.sent(),this._tracker(Nn,{state:"fail"}),this._tracker(Pn,{code:h.code,message:h.message,stack:h.stack}),!(h||{}).useWebCache)return[3,9];m.label=6;case 6:return m.trys.push([6,8,,9]),[4,this._textManager._getCacheText(i)];case 7:return g=m.sent(),h.response.data=g&&"object"==typeof g?g:{},[3,9];case 8:return m.sent(),[3,9];case 9:return t?(t(h),[3,10]):[2,Promise.reject(h)];case 10:return[2]}}))}))},e}();var zn=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(Vn){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){localStorage&&localStorage.setItem&&localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},e}()),jn=function(e){function t(t,n,i,r,o,a){var s=e.call(this,t)||this;return s.url=n,s.code=i,s.request=r,s.response=o,s.useWebCache=a,s.url=n,s.code=i,s.request=r,s.response=o,s.useWebCache=!!a,s}return _n(t,e),t}(Error);function Un(e,t){var n=t.timeout;return new Promise((function(t,i){var r=new XMLHttpRequest;r.open("GET",e),r.withCredentials=!1,r.onreadystatechange=function(){if(r&&4===r.readyState&&(0!==r.status||r.responseURL&&0===r.responseURL.indexOf("file:"))){var n=function(e){try{return JSON.parse(e)}catch(t){return{}}}(r.responseText),o=function(e){return e.message&&"object"==typeof e.message?e:null}(n);if(r.status<200||r.status>=300||!o)return function(e,t,n,i){var r=(i||{}).message||"";r=r?", reason is: ".concat(r):"",t(new jn("Request failed with status code "+e.status+r,n,null,e,{data:{}},!0))}(r,i,e,n),void(r=null);var a={data:o,status:r.status,statusText:r.statusText,request:r};t(a),r=null}},r.onerror=function(){i(new jn("Network Error",e,null,r,{data:{}},!0)),r=null},r.timeout=n,r.ontimeout=function(){i(new jn("timeout of "+n+"ms exceeded",e,"ECONNABORTED",r)),r=null},r.send()}))}var Bn=function(e){function t(t){return t.store||(t.store=zn),t.request||(t.request=Un),e.call(this,t)||this}return _n(t,e),t}(Gn),Vn=function(){return(Vn=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function qn(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function Fn(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(qn(arguments[t]));return e}var Kn,Hn,Wn,Jn,Xn=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(r){t(r),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&Fn(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),Zn=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},Yn=(Kn=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return Kn+=1}),$n=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,r=[];n=n<=25?n:n%25;var o=String.fromCharCode(n+97);i=e.split(o);for(var a=0;a<i.length;a++){var s=parseInt(i[a],n);s=1*s^64;var c=String.fromCharCode(s);r.push(c)}return r.join("")}}(e,0,25)},Qn=function(e){var t=document.createElement("a");return t.href=e,t},ei=function(e){var t={};try{var n=Qn(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,r=e.split("=");r.length&&(n=r[0],i=r[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},ti=function(e){for(var t=0,n=0,i=(e+="").length,r=0;r<i;r++)((t=31*t+e.charCodeAt(n++))>0x7fffffffffff||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t},ni=(function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function r(){}function o(t,n,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},r.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in o)o[c]&&(s+="; "+c,!0!==o[c]&&(s+="="+o[c].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!=typeof document){for(var r={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),c=s.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(i.read||i)(c,u)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(r[u]=c,e===u)break}catch(e){}}return e?r[e]:r}}return r.set=o,r.get=function(e){return a(e,!1)},r.getJSON=function(e){return a(e,!0)},r.remove=function(t,n){o(t,"",e(n,{expires:-1}))},r.defaults={},r.withConverter=n,r}((function(){}))},e.exports=n()}(Hn={exports:{}}),Hn.exports),ii=function(e,t){try{return ni.get(e,{domain:t||document.domain})}catch(e){return""}},ri=function(e,t,n,i){try{var r=i||document.domain,o=+new Date+(n||6048e5);ni.set(e,t,{expires:new Date(o),path:"/",domain:r})}catch(e){}},oi=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return ii(e,t)},e.prototype.setCookie=function(e,t,n,i){ri(e,t,n,i)},e}(),ai={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return ii(e,t)},setCookie:function(e,t,n,i){ri(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(Vn){return!1}}()},si={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return ii(e,t)},setCookie:function(e,t,n,i){ri(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(Vn){return!1}}()},ci=function(){function e(e,t){this._storage=t&&"session"===t?si:!e&&ai.isSupportLS?ai:new oi}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),ui=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?Qn(n).hostname:"",r=ei(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var r=new ci(!1),o=new ci(!1,"session"),a=e?"_tea_utm_cache_"+e:"_tea_utm_cache",s=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},u=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],l={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var p=!1;for(var f in l)l[f]&&(-1!==u.indexOf(f)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[f]=l[f]):c[f]=l[f],p=!0);if(p)o.setItem(s,"1"),r.setCookie(a,JSON.stringify(c),i,n);else{var d=r.getCookie(a,n);d&&(c=JSON.parse(d))}o.getItem(s)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return l}return c}(this.appid,r,this.domain,this.cookie_expire);var a=this.browser(),s=this.os();return{browser:a.browser,browser_version:a.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",r="",o=location.hostname,a=!1;if(e&&t&&o!==t){n=e,i=t,a=!0;var s=ei(e);s.keyword&&(r=s.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:r,isLast:a}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),r=this.userAgent;return-1!==r.indexOf("Edge")||-1!==r.indexOf("Edg")?(n="Microsoft Edge",-1!==r.indexOf("Edge")?(e=r.indexOf("Edge"),i=r.substring(e+5)):(e=r.indexOf("Edg"),i=r.substring(e+4))):-1!==(e=r.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=r.substring(e+5)):-1!==(e=r.indexOf("Lark"))?(n="Lark",i=r.substring(e+5,e+11)):-1!==r.indexOf("Chrome")?-1!==(e=r.indexOf("TTWebView"))?(n="TTWebView",i=r.substring(e+10,e+23)):(-1!==(e=r.indexOf("Chrome"))||-1!==(e=r.indexOf("Chrome")))&&(n="Chrome",i=r.substring(e+7)):-1!==r.indexOf("Safari")?-1!==(e=r.indexOf("Safari"))&&(n="Safari",i=r.substring(e+7),-1!==(e=r.indexOf("Version"))&&(i=r.substring(e+8))):-1!==(e=r.indexOf("Firefox"))&&(n="Firefox",i=r.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],i=0;i<n.length;i++){var r=n[i];if(r.r.test(this.userAgent)){"Mac OS X"===(e=r.s)&&this.isNewIpad()&&(e="iOS");break}}var o,a,s=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=s(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(a=s(/Android ([\.\_\d]+)/,o=this.userAgent))||(a=s(/Android\/([\.\_\d]+)/,o)),t=a,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios"}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),li={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},pi={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},fi={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},di={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},hi="5.0.39_oversea",gi=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t=this;if(!e||!e.length)return!1;var n=e[0];if(!n)return!1;var i=n.events,r=n.header;if(!i||!i.length)return!1;var o=!0;return i.forEach((function(e){if(!e)return o=!1,void(e.checkEvent="\u4e8b\u4ef6\u5f02\u5e38");t.checkEventName(e.event)||(o=!1,e.checkEvent="\u4e8b\u4ef6\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934"),t.checkEventParams(e.params)||(o=!1,e.checkParams="\u5c5e\u6027\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934")})),this.checkEventParams(r)||(o=!1),o},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),!Object.keys(t).length)return!0;for(var n in t)return!(!this.calculate(n,"params")||"string"==typeof t[n]&&t[n].length>1024&&(console.warn("params: "+n+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}();!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report"}(Wn||(Wn={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(Jn||(Jn={}));var _i=Wn,mi=void 0,vi=(new Date).getTimezoneOffset(),yi=parseInt(""+-vi/60,10),bi=60*vi,wi=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new ui(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new gi(e,t);var i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new ci(!1,"session"),this.localStorage=new ci(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var r=this.localStorage.getItem(i);r&&1==r?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:mi,user_type:mi,user_id:mi,user_is_auth:mi,user_is_login:mi,device_id:mi,web_id:mi,ip_addr_id:mi,user_unique_id_type:mi},header:{app_id:mi,app_name:mi,app_install_id:mi,install_id:mi,app_package:mi,app_channel:mi,app_version:mi,ab_version:mi,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:mi,traffic_type:mi,client_ip:mi,device_brand:mi,os_api:mi,access:mi,language:n.language,region:mi,app_language:mi,app_region:mi,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:mi,rnd:mi,platform:n.platform,sdk_version:hi,sdk_lib:"js",province:mi,city:mi,timezone:yi,tz_offset:bi,tz_name:mi,sim_region:mi,carrier:mi,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{},wechat_unionid:mi,wechat_openid:mi}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?fi[n]:di[n]:li[n];this.domain=$n(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e="__tea_sdk_ab_version_"+this.initConfig.app_id,t=null;if(this.initConfig.ab_cross){var n=this.localStorage.getCookie(e,this.initConfig.ab_cookie_domain);t=n?JSON.parse(n):null}else t=this.localStorage.getItem(e);this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version="+hi+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){void 0!==e[n]&&null!==e[n]||t.delete(n);try{t.eventCheck.calculate(n,"config")}catch(Vn){}if("traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=Vn({},t.evtParams||{},e.evtParams||{});else if("_staging_flag"===n)t.evtParams=Vn({},t.evtParams||{},{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",r="";if(n.indexOf(".")>-1){var o=n.split(".");i=o[0],r=o[1]}i?"user"===i||"header"===i?t.envInfo[i][r]=e[n]:t.envInfo.header.custom[r]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),Ei=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),Si=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),ki=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57cb\u70b9\u4e0a\u62a5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),Ti=500,xi=5005;function Ai(e,t,n,i,r,o,a,s,c){try{var u=new XMLHttpRequest,l=s||"POST";u.open(l,""+e,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),a&&u.setRequestHeader("X-MCS-AppKey",""+a),i&&(u.withCredentials=!0),u.onload=function(){if(r){var e=null;if(u.responseText){try{e=JSON.parse(u.responseText)}catch(t){e={}}r(e,t)}}},n&&(u.timeout=n,u.ontimeout=function(){o&&o(t,xi)}),u.onerror=function(){u.abort(),o&&o(t,Ti)},c?u.send(t):u.send(JSON.stringify(t))}catch(e){}}var Oi=function(e,t,n,i){try{var r,o=e.match(/\/v\d\//);r=o?o[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/";var a=e.split(r)[0];if(!a)return void i(e,t,4001);t.forEach((function(r){var o=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t+="&"+n+"="+encodeURIComponent(JSON.stringify(e[n])));return"&"===t[0]?t.slice(1):t}(r),s=new Image(1,1);s.onload=function(){s=null,n&&n()},s.onerror=function(){s=null,i&&i(e,t,4e3)},s.src=a+"/gif?"+o}))}catch(n){i&&i(e,t,4002,n.message)}},Ri=function(e,t,n,i,r,o,a,s){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(a)return window.navigator&&window.navigator.sendBeacon?void(window.navigator.sendBeacon(e,JSON.stringify(t))?r():o(e,t,4003)):void Oi(e,t,r,o)}else Oi(e,t,r,o);Ai(e,t,n,i,r,o,"","",s)},Ii=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new gi(e,t),this.cacheStorgae=new ci(!0),this.localStorage=new ci(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(_i.Ready,(function(){n.reportAll(!1)})),this.collect.on(_i.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(_i.Event,(function(e){n.event(e)})),this.collect.on(_i.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(_i.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=Fn(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=Fn(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var r=this.split(this.merge(i));this.send(r,t)}else r=this.split(this.merge(e)),this.send(r,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),r=i.header,o=i.user;r.custom=JSON.stringify(r.custom),r.referrer=this.handleRefer();var a=this.configManager.get("evtParams"),s=this.configManager.get("user_unique_id_type"),c=e.map((function(e){try{Object.keys(a).length&&!t&&(e.params=Vn({},a,e.params)),s&&(e.params.$user_unique_id_type=s);var i=n.configManager.getAbCache(),r=n.configManager.getAbUuidCache(o.user_unique_id);if(i&&i.uuid&&i.uuid===o.user_unique_id){var c=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(r&&r.length){var u=r.join(",");c&&c.includes(u)&&(e.ab_sdk_version=c)}}else c&&(e.ab_sdk_version=c)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(Vn){return n.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:Vn.message}),e}})),u=JSON.parse(JSON.stringify({events:c,user:o,header:r}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1;var l=[];return l.push(u),l},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var r=i||e,o=JSON.parse(JSON.stringify(r));if(n.eventCheck.checkVerify(o),!r.length)return;n.collect.emit(_i.SubmitBefore,r),n.collect.emit(_i.SubmitVerify,r),Ri(n.reportUrl,r,n.timeout,n.enable_ttwebid,(function(e,t){e&&0!==e.e?(n.collect.emit(_i.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u5931\u8d25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636e\u5f02\u5e38",status:"fail"})):(n.collect.emit(_i.SubmitScuess,{eventData:t,res:e}),n.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:o,code:200,status:"success"}))}),(function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(_i.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u7f51\u7edc\u5f02\u5e38",time:Date.now(),data:o,code:t,failType:"\u7f51\u7edc\u5f02\u5e38",status:"fail"})}),t,!1),n.collect.emit(_i.SubmitAfter,r)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}})))},e}(),Ci=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},Di=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new ci(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(_i.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(_i.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;if(this.enableCookie){var t=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=t&&"string"==typeof t?JSON.parse(t):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(_i.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(_i.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:Ci(),user_unique_id:this.configManager.get("user_unique_id")||Ci()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=ei(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77WEBID\u8bf7\u6c42",logType:"fetch",level:"info",time:Date.now(),data:n});var i=Ci();Ai(t,n,3e5,!1,(function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u6210\u529f",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(_i.TokenError),e.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u8fd4\u56de\u503c\u5f02\u5e38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})}),(function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(_i.TokenError),e.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")}))},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(_i.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(_i.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(_i.TokenChange,"uuid"),this.collect.emit(_i.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(_i.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(_i.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(_i.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise((function(n){Ai(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,(function(e){e&&0===e.e?n(e.tobid):n("")}),(function(){n("")}))}))},e}(),Pi=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},Ni=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new ci(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(_i.SessionReset,(function(){n.resetSessionId()})),this.collect.on(_i.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:Pi(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:Pi(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:Pi(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:Pi(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),Li=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=ei(window.location.href);if(!e.open_devtool_web||parseInt(e.app_id)!==this.app_id)return;this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57fa\u672c\u4fe1\u606f",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,"\u4e0a\u62a5\u57df\u540d":this.collect.configManager.getDomain(),"SDK\u7248\u672c":hi,"SDK\u5f15\u5165\u65b9\u5f0f":"npm"}},{title:"\u7528\u6237\u4fe1\u606f",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70b9\u51fb\u83b7\u53d6SSID"}},{title:"\u516c\u5171\u53c2\u6570\u4fe1\u606f",type:2,infoName:{"\u6d4f\u89c8\u5668":this.collect.configManager.get("browser"),"\u6d4f\u89c8\u5668\u7248\u672c":this.collect.configManager.get("browser_version"),"\u5e73\u53f0":this.collect.configManager.get("platform"),"\u8bbe\u5907\u578b\u53f7":this.collect.configManager.get("device_model"),"\u64cd\u4f5c\u7cfb\u7edf":this.collect.configManager.get("os_name"),"\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c":this.collect.configManager.get("os_version"),"\u5c4f\u5e55\u5206\u8fa8\u7387":this.collect.configManager.get("os_version"),"\u6765\u6e90":this.collect.configManager.get("referrer"),"\u81ea\u5b9a\u4e49\u4fe1\u606f":""}},{title:"\u914d\u7f6e\u4fe1\u606f",type:3,infoName:{"\u5168\u57cb\u70b9":!!this.config.autotrack,"\u505c\u7559\u65f6\u957f":!!this.config.enable_stay_duration}},{title:"A/B\u914d\u7f6e\u4fe1\u606f",type:4,infoName:{"A/B\u5b9e\u9a8c":!!this.config.enable_ab_test}},{title:"\u5ba2\u6237\u7aef\u4fe1\u606f",type:3,infoName:{"\u6253\u901a\u5f00\u5173":!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(_i.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81ea\u5b9a\u4e49\u4fe1\u606f"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57df\u540d"]=e.config.ab_channel_domain||$n(pi[e.config.channel]),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662f\u5426\u6253\u901a"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(Jn.DEBUGGER_MESSAGE,(function(t){switch(t.type){case Jn.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case Jn.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],r=i.events;if(!r.length)return;r.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+"\uff0c msg: "+t.failType})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8c03\u8bd5</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),Mi=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new Xn,this.remotePlugin=new Map,this.Types=_i,this.adapters.fetch=Ai,this.adapters.storage=ci}return e.usePlugin=function(t,n,i){if(n){for(var r=!1,o=0,a=e.plugins.length;o<a;o++)if(e.plugins[o].name===n){e.plugins[o].plugin=t,e.plugins[o].options=i||{},r=!0;break}r||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,r=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new Ei(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&Zn(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var o=n.channel_type&&"tcpy"===n.channel_type?["sg","va","in"]:["sg","va"];n.channel_domain||-1!==o.indexOf(n.channel)||(this.logger.warn("channel must "+o.join(" ,")+"!!!"),n.channel="sg"),this.spider=new Si,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new Ei(this.name,n.log),this.appBridge=new ki(this,n.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new wi(this,n),this.debugger=new Li(this,n),this.initConfig=n,this.emit(_i.Init),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cINIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new Ii,this.tokenManager=new Di,this.sessionManager=new Ni,Promise.all([new Promise((function(e){r.once(_i.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){r.once(_i.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,o=Object.assign(r.initConfig,i),a=new n;return a.apply(r,o),e.push(a),e}),r.pluginInstances)}catch(t){console.warn("load plugin error, "+t.message),r.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.sdkReady=!0,r.emit(_i.Ready),r.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u521d\u59cb\u5316\u5b8c\u6210",time:Date.now(),level:"info",data:r.configManager.get("user")}),r.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(r.configManager.get("user"))),r.logger.info("appid: "+n.app_id+", sdk is ready, version is "+hi+", you can report now !!!"),n.disable_auto_pv&&(r.disableAutoPageView=!0);try{("full"===r.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(t){r.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message})}r.pageView(),r.on(_i.TokenChange,(function(e){"webid"===e&&r.pageView(),r.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u8bbe\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(_i.TokenReset,(function(){r.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(r.configManager.get("user"))),r.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u91cd\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:r.configManager.get("user")})})),r.on(_i.RouteChange,(function(e){e.init||n.disable_route_report||r.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&Zn(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(Vn){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=Vn({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var r=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&(n[i[r]]=e[i[r]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(_i.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(_i.ConfigUuid,n.user_unique_id),this.configManager.set(r),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cCONFIG",level:"info",time:Date.now(),data:n})}}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(_i.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(_i.Start),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cSTART",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(_i.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var r=this.processEvent(e,t);if(!r)return;i.push(r)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(_i.Event,i),this.emit(_i.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(_i.BeconEvent,n),this.emit(_i.SessionResetTime)))}},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return this.logger.warn("eventName is null\uff0c please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=Yn();var r=void 0;return i.local_ms?(r=i.local_ms,delete i.local_ms):r=+new Date,{event:n,params:i,local_time_ms:r,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=Vn({},t,e);this.event("predefine_pageview",n)}else this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(_i.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){if(e){var t=ti(e);this.config({web_id:""+t,wechat_unionid:e}),this.emit(_i.CustomWebId)}},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){if(e){var t=ti(e);this.config({web_id:""+t,wechat_openid:e}),this.emit(_i.CustomWebId)}},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(_i.ResetStay,{url_path:e,title:t,url:n},_i.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(_i.SetStay,{url_path:e,title:t,url:n},_i.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,r=function(t){if(!i){i=!0;var r=n.configManager.get().user;return t&&(r.tobid=t,r["diss".split("").reverse().join("")]=t),e(Vn({},r))}},o=function(){n.tokenManager.getTobId().then((function(e){r(e)}))};this.sdkReady?o():(t&&setTimeout((function(){r()}),t),this.on(_i.Ready,(function(){o()})))}else this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(_i.ProfileSet,e,_i.Profile),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(_i.ProfileSetOnce,e,_i.Profile),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(_i.ProfileIncrement,e,_i.Profile),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(_i.ProfileUnset,e,_i.Profile),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(_i.ProfileAppend,e,_i.Profile),this.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(_i.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,_i.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(_i.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},_i.Ab)},e.prototype.getABconfig=function(e,t){this.emit(_i.AbConfig,{params:e,callback:t},_i.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(_i.AbVersionChangeOn,e,_i.Ab),function(){t.emit(_i.AbVersionChangeOff,e,_i.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(_i.AbVersionChangeOff,e,_i.Ab)},e.prototype.openOverlayer=function(){this.emit(_i.AbOpenLayer,"",_i.Ab)},e.prototype.closeOverlayer=function(){this.emit(_i.AbCloseLayer,"",_i.Ab)},e.prototype.getAllVars=function(e){this.emit(_i.AbAllVars,e,_i.Ab)},e.prototype.autoInitializationRangers=function(e){var t,n,i,r,o,a,s,c;n=(t=e).app_id,i=t.channel,r=t.onTokenReady,o=li[i]+"/webid",a=new ci(!1),s="__tea_cache_tokens_"+n,(c=a.getItem(s))&&c.web_id?r(c.web_id):Ri(o,{app_key:"",app_id:n,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(e){if(e&&0===e.e){r(e.web_id);var t={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()};a.setItem(s,t)}else r("")}),(function(){r("")}),!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(_i.TokenComplete))},e.plugins=[],e}(),Gi=function(){function e(){}return e.prototype.apply=function(e,t){var n=this,i=e.adapters.fetch;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var r=e.Types;e.on(r.SubmitBefore,(function(e){i(n.url,e,3e4)}))}}else console.log("please use correct et_test url")},e}(),zi=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list";var i=e.Types,r=e.adapters.fetch;this.eventCheck=new gi(e,t),this.fetch=r,this.cache={},this.collect.on(i.ProfileSet,(function(e){n.setProfile(e)})),this.collect.on(i.ProfileSetOnce,(function(e){n.setOnceProfile(e)})),this.collect.on(i.ProfileUnset,(function(e){n.unsetProfile(e)})),this.collect.on(i.ProfileIncrement,(function(e){n.incrementProfile(e)})),this.collect.on(i.ProfileAppend,(function(e){n.appendProfile(e)})),this.collect.on(i.ProfileClear,(function(){n.cache={}})),this.ready(i.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var n=this.collect.hook._hooksCache[e];if(!Object.keys(n).length)return;var i=function(e){n[e].length&&n[e].forEach((function(n){t.collect.hook.emit(e,n)}))};for(var r in n)i(r)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{if(this.config.disable_track_event)return;var n=[];n.push(this.collect.processEvent(e,t));var i=this.collect.eventManager.merge(n);this.fetch(this.reportUrl,i),this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:i,code:200,status:"success"})}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){var t=this.formatParams(e);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set",Vn({},t,{profile:!0})))},e.prototype.setOnceProfile=function(e){var t=this.formatParams(e,!0);t&&Object.keys(t).length&&(this.pushCache(t),this.report("__profile_set_once",Vn({},t,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",Vn({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){if(e){var t={};t[e]="1",this.report("__profile_unset",Vn({},t,{profile:!0}))}else console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t={};for(var n in e)"string"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?t[n]=e[n]:console.warn("please check the value of param: "+n+", must be string or array !!!");Object.keys(t).length&&this.report("__profile_append",Vn({},t,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(n){t.cache[n]={val:t.clone(e[n]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var n=this;void 0===t&&(t=!1);try{if(!e||"[object Object]"!==Object.prototype.toString.call(e))return void console.warn("please check the params type, must be object !!!");var i={};for(var r in e)"string"==typeof e[r]||"number"==typeof e[r]||"Array"===Object.prototype.toString.call(e[r]).slice(8,-1)?i[r]=e[r]:console.warn("please check the value of params:"+r+", must be string,number,Array !!!");var o=Object.keys(i);if(!o.length)return;if(!this.eventCheck.checkEventParams(i))return;var a=Date.now();return o.filter((function(i){var r=n.cache[i];return t?!r:!(r&&n.compare(r.val,e[i])&&a-r.timestamp<n.duration)})).reduce((function(e,t){return e[t]=i[t],e}),{})}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),t}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}(),ji=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function r(){var o=Date.now()-i;e(),i+=t,n=window.setTimeout(r,Math.max(0,t-o))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),Ui=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){var i=e.adapters.fetch;this.fetch=i,this.url=e.configManager.getUrl("event");var r=this.collect.Types;this.collect.on(r.Ready,(function(){n.sdkOnload()})),this.collect.on(r.SubmitError,(function(e){var t=e.type,i=e.eventData,r=e.errorCode;"f_data"===t&&n.sdkError(i,r)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,r=n.app_id,o=n.app_name,a=n.sdk_version,s=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:r,app_name:o||"",sdk_version:a,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:s},header:{}};setTimeout((function(){e.fetch(e.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],r=i.user,o=i.header,a=[];e.forEach((function(e){e.events.forEach((function(e){a.push(e)}))}));var s={events:a.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(r)}),local_time_ms:Date.now()}})),user:{user_unique_id:r.user_unique_id},header:{}};setTimeout((function(){n.fetch(n.url,[s],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e}(),Bi={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},Vi="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,qi=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(Bi.hasOwnProperty(n)){var i=Bi[n].object,r=""+Bi[n].src[e.channel];e.exist(n,i,r)}else console.warn("your "+n+" is not exist\uff0cplease check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;Vi[t]?(this.process(e,Vi[t]),console.log("\u5df2\u6709"+e+"\u63d2\u4ef6\uff0c\u907f\u514d\u91cd\u590d\u52a0\u8f7d~")):this.loadPlugin(e,n,(function(){i.process(e,Vi[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var r=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),o.onerror=function(){i(t)},o.onload=function(){r._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(Jn.DEBUGGER_MESSAGE,{type:Jn.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e}();Mi.usePlugin(qi,"extend"),Mi.usePlugin(Gi,"et"),Mi.usePlugin(zi,"profile"),Mi.usePlugin(ji,"heartbeat"),Mi.usePlugin(Ui,"monitor");var Fi=new Mi("default"),Ki=3053,Hi=3297;var Wi=function(e){function t(t){var n=t.test,i=t.TEAChannelDomain,r=void 0===i?"":i,o=t.mode,a=t.TEAChannel,s=t.TEAChannelType;return t.tracker=r||s||a?function(e){var t=e.isTest,n=e.channel_domain,i=e.channel_type,r=e.channel,o=/snssdk|zijieapi/g.test(n)&&/ttp|tcpy/g.test(i)&&/va|sg|in/g.test(r)?Ki:Hi;return Fi.init({app_id:o,channel_type:i,channel:r,channel_domain:n}),Fi.config({_staging_flag:t?1:0,enable_et_test:t}),Fi.start(),Fi.event.bind(Fi)}({isTest:n||"test"===o,channel_domain:r,channel_type:s,channel:a}):function(){},e.call(this,t)||this}return _n(t,e),t}(Bn),Ji=n(56203);function Xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i;return(i=console).info.apply(i,["[Staring Info]"].concat((0,Ji._)(t)))}var Zi,Yi=(Zi=(0,i._)((function(e,t){var n,i,r,o,a,c;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:n=e.client,i=n.namespace,r=n.debug,o=n.projectName,s.label=1;case 1:return s.trys.push([1,3,,4]),r&&Xi("Starling Client Params:",e),[4,new Wi(e.client).load()];case 2:return a=s.sent(),r&&Xi("Starling Client Result:",a),a&&0!==Object.keys(a).length?[2,(0,hn._)({},t?"".concat(o,"_").concat(i):i,a)]:[2,null];case 3:return c=s.sent(),console.error(c),[2,null];case 4:return[2]}}))})),function(e,t){return Zi.apply(this,arguments)});var $i=function(){var e=(0,i._)((function(e){var t;return(0,s.Jh)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Promise.all(e)];case 1:return(t=n.sent()).every((function(e){return!e||0===Object.keys(e).length}))?[2,null]:[2,t.reduce((function(e,t){return e=(0,r._)({},e,t)}),{})];case 2:return n.sent(),[2,null];case 3:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),Qi=function(){var e=(0,i._)((function(e,t,n,i,a){var c,u,l;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return c=function(e,t,n,i,a){var s=e.length>1,c=[];return e.forEach((function(e){var u=e.projectName,l=e.namespace,p=e.apiKey;(l||[]).forEach((function(e){c.push(a({locale:i,client:(0,o._)((0,r._)({},t),{apiKey:p,namespace:e,locale:i,projectName:u,zoneHost:null==t?void 0:t.zoneHost}),node:(0,o._)((0,r._)({},n),{projectName:u,namespace:e})},s))}))})),c}(e,t,n,i,Yi),[4,$i(c)];case 1:return u=s.sent(),l=function(e){return"string"!=typeof e?e:e.replace(/([a-zA-Z]+)(_[a-zA_Z]+)?/,(function(e,t,n){return t.toLowerCase()+(n?n.toUpperCase():"")}))}(i),Object.keys(u||{}).forEach((function(e){a(l,e,u[e])})),[2,u]}}))}));return function(t,n,i,r,o){return e.apply(this,arguments)}}(),er=function(){var e=(0,i._)((function(e){var t,n,i,r,o,a,c,u=arguments;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return t=u.length>1&&void 0!==u[1]?u[1]:"en",n=u.length>2?u[2]:void 0,i=u.length>3?u[3]:void 0,(r=[]).push(Qi(e.projects,e.clientOptions,e.nodeOptions,t,i)),o=n.enableRequestFallbackLng,a=n.fallbackLangs,o&&("string"==typeof a||Array.isArray(a))&&(c=function(e){return Array.isArray(e)?e:[e]}(a),c.forEach((function(t){return r.push(Qi(e.projects,e.clientOptions,e.nodeOptions,t,i))}))),[4,Promise.all(r)];case 1:return[2,{resources:s.sent()[0]}]}}))}));return function(t){return e.apply(this,arguments)}}();function tr(e,t,n){var i={};(0,Ji._)(t.languages||[]).concat([n]).forEach((function(e){e&&(i[e]=t.services.resourceStore.data[e])})),i&&(e.__i18nData__={resources:Object.keys(i).length?JSON.parse(JSON.stringify(i)):null,lng:n||t.language})}var nr=function(){var e=(0,i._)((function(e,t,n){var i,r,o,a,c=arguments;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:"en",o=(r=c.length>4?c[4]:void 0).fallbackLangs,a=i||t.language||("string"==typeof o?o:"en")||"en",[4,er(n,i,r,t.addResourceBundle)];case 1:return s.sent(),tr(e,t,a),[2]}}))}));return function(t,n,i){return e.apply(this,arguments)}}(),ir=n(77270),rr=[],or=rr.forEach,ar=rr.slice;var sr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cr=function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=function(e,t,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(t),o="".concat(e,"=").concat(r);if(i.maxAge>0){var a=i.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");o+="; Max-Age=".concat(Math.floor(a))}if(i.domain){if(!sr.test(i.domain))throw new TypeError("option domain is invalid");o+="; Domain=".concat(i.domain)}if(i.path){if(!sr.test(i.path))throw new TypeError("option path is invalid");o+="; Path=".concat(i.path)}if(i.expires){if("function"!=typeof i.expires.toUTCString)throw new TypeError("option expires is invalid");o+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(o+="; HttpOnly"),i.secure&&(o+="; Secure"),i.sameSite)switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o}(e,encodeURIComponent(t),r)},ur=function(e){for(var t="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "===r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return r.substring(t.length,r.length)}return null},lr={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!=typeof document){var n=ur(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!=typeof document&&cr(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},pr={name:"querystring",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1).split("&"),r=0;r<i.length;r++){var o=i[r].indexOf("=");if(o>0)i[r].substring(0,o)===e.lookupQuerystring&&(t=i[r].substring(o+1))}}return t}},fr=null,dr=function(){if(null!==fr)return fr;try{fr="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(Vn){fr=!1}return fr},hr={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&dr()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&dr()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},gr=null,_r=function(){if(null!==gr)return gr;try{gr="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(Vn){gr=!1}return gr},mr={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&_r()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&_r()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},vr={name:"navigator",lookup:function(e){var t=[];if("undefined"!=typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},yr={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!=typeof document?document.documentElement:null);return n&&"function"==typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},br={name:"path",lookup:function(e){var t;if("undefined"!=typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"==typeof e.lookupFromPathIndex){if("string"!=typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},wr={name:"subdomain",lookup:function(e){var t="number"==typeof e.lookupFromSubdomainIndex?e.lookupFromSubdomainIndex+1:1,n="undefined"!=typeof window&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[t]}};var Er=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,m.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,v.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return or.call(ar.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(lr),this.addDetector(pr),this.addDetector(hr),this.addDetector(mr),this.addDetector(vr),this.addDetector(yr),this.addDetector(br),this.addDetector(wr)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var i=t.detectors[e].lookup(t.options);i&&"string"==typeof i&&(i=[i]),i&&(n=n.concat(i))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();Er.type="languageDetector";var Sr={fallbackLng:"en",ns:["translation"],defaultNS:"translation",saveMissing:!0,debug:!1,react:{useSuspense:!1},interpolation:{escapeValue:!1},detection:{caches:["cookie","localStorage"],order:["querystring","cookie","localStorage","navigator","htmlTag","path","subdomain"],cookieMinutes:525600,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng"}},kr=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=null===(t=null===(n=window._SSR_DATA)||void 0===n?void 0:n.data)||void 0===t?void 0:t.i18nData,s=e||{},c=s.plugins,u=void 0===c?[]:c,l=(0,ir._)(s,["plugins"]);return i||en.use(Er),u.filter((function(e){return Boolean(e)})).forEach((function(e){en.use(e)})),en.init((0,o._)((0,r._)({},Sr,l),{resources:(null==a?void 0:a.resources)||(null==e?void 0:e.resources)||{},lng:(null==a?void 0:a.lng)||(null==e?void 0:e.lng)})),en};function Tr(e){return Array.isArray(e)?e:[e]}function xr(e){var t,n,i;if(Array.isArray(e.projects)&&e.projects.forEach((function(e){e.namespace=Tr(e.namespace),e.apiKey=e.apiKey||e.api_key})),!e.projects){var o,a=e.clientOptions||{},s=a.api_key,c=a.apiKey,u=a.namespace,l=(e.nodeOptions||{}).projectName;e.projects=Tr({projectName:l,apiKey:c||s,namespace:Tr(u||(null===(o=e.intlOptions)||void 0===o?void 0:o.ns))})}var p,f,d,h=!(null===(t=e.intlOptions)||void 0===t?void 0:t.defaultNS);(e.intlOptions=(0,r._)({},Sr,e.intlOptions),e.intlOptions)&&(e.intlOptions.ns=(d=e.projects)?1===d.length?d[0].namespace:d.reduce((function(e,t){return e.concat(Tr(t.namespace).map((function(e){return"".concat(t.projectName,"_").concat(e)})))}),[]):[],h&&(e.intlOptions.defaultNS=null===(p=e.intlOptions)||void 0===p||null===(f=p.ns)||void 0===f?void 0:f[0]));return{mode:e.mode,disableDefaultRequest:e.disableDefaultRequest,starling:{projects:e.projects,clientOptions:e.clientOptions||{},nodeOptions:e.nodeOptions||{}},fallback:{enableRequestFallbackLng:e.enableRequestFallbackLng||!1,fallbackLangs:(null===(n=e.nodeOptions)||void 0===n||null===(i=n.options)||void 0===i?void 0:i.fallbackLangs)||[]},intlOptions:e.intlOptions||{},disableLanguageDetect:e.disableLanguageDetect}}var Ar=new tn.EventEmitter,Or="__EDENX_LANGUAGE_EVENT",Rr={I18n:en,withTranslation:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var r=i.forwardedRef,o=(0,on.Z)(i,cn),a=(0,an.$)(e,ln(ln({},o),{},{keyPrefix:t.keyPrefix})),s=(0,rn.Z)(a,3),c=s[0],u=s[1],l=s[2],p=ln(ln({},o),{},{t:c,i18n:u,tReady:l});return t.withRef&&r?p.ref=r:!t.withRef&&r&&(p.forwardedRef=r),(0,h.createElement)(n,p)}i.displayName="withI18nextTranslation(".concat((0,sn.Gf)(n),")"),i.WrappedComponent=n;return t.withRef?(0,h.forwardRef)((function(e,t){return(0,h.createElement)(i,Object.assign({},e,{forwardedRef:t}))})):i}},useTranslation:an.$,changeLanguage:function(e){e.locale;return Promise.resolve()},starlingLoadWithLng:function(e){return Promise.resolve()},addResourceToI18n:function(){}},Ir=function(e){return function(t){var n,i,o=(0,h.useContext)(p.J),s=o.context,u=null===(i=null!==(n=null==s?void 0:s.isBrowser)&&void 0!==n?n:o.isBrowser)||void 0===i||i,l=null==s?void 0:s.I18n,f=(0,h.useMemo)((function(){return{_i18n:{loading:!1,error:null,resources:u?en.i18nInstance.instance.getDataByLanguage(en.language):l.i18nInstance.instance.getDataByLanguage(l.language),lng:u?en.language:l.language}}}),[]),d=(0,a._)((0,h.useState)(f),2),g=d[0],_=d[1];(0,h.useEffect)((function(){var e=function(e){_(e)};return Ar.on(Or,e),function(){Ar.off(Or,e)}}),[]),l&&(l.i18nInstance.instance.translator.language=l.language);var m=h.isValidElement(e);return(0,c.jsx)(fn,{i18n:u?en.i18nInstance.instance:l.i18nInstance.instance,children:(0,c.jsx)(dn.GR,{value:g._i18n,children:m?(0,c.jsx)(e,(0,r._)({},t,g)):(0,c.jsx)(e,(0,r._)({},t))})})}},Cr=function(e){return{name:"@edenx/plugin-starling-intl",setup:function(){var t=l()(e),n=xr(e||{}),a=n.mode,c=n.disableDefaultRequest,u=n.starling,p=n.fallback,f=n.intlOptions,h=n.disableLanguageDetect;return{init:function(n,l){var d=n.context;return(0,i._)((function(){var n,g,_,m,v,y,b,w;return(0,s.Jh)(this,(function(E){switch(E.label){case 0:return n=function(){var e=(0,i._)((function(e){var t,n,i,r;return(0,s.Jh)(this,(function(o){switch(o.label){case 0:return c||"offline"===a?[2]:m?[3,2]:[4,nr(d,e.i18nInstance.instance,u,e.language,p)];case 1:case 3:return o.sent(),[2];case 2:return(null==(i=null===(t=null===(n=window._SSR_DATA)||void 0===n?void 0:n.data)||void 0===t?void 0:t.i18nData)?void 0:i.resources)&&Object.keys(null==i?void 0:i.resources).length?[2]:(r=e.language,[4,er(u,r,p,e.addResourceBundle.bind(e))])}}))}));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,i._)((function(e,t){var n,i,r,o,c,u,l;return(0,s.Jh)(this,(function(s){switch(s.label){case 0:return n=null,"offline"!==a?[3,4]:m?(en.setLang(t),[3,3]):[3,1];case 1:return[4,d.ssrContext.I18n.setLang(t)];case 2:s.sent(),s.label=3;case 3:return[3,9];case 4:return m?(o=null===(i=null===(r=window._SSR_DATA)||void 0===r?void 0:r.data)||void 0===i?void 0:i.i18nData,t&&(null==o?void 0:o.resources)&&(null==o?void 0:o.resources[t])?(en.setLang(t),[2]):(Ar.emit(Or,{_i18n:{loading:!0,error:null,resources:null,lng:t}}),[4,er(e,t,p,en.addResourceBundle.bind(en))])):[3,6];case 5:return c=s.sent(),u=c.resources,n=u,en.setLang(t),[3,9];case 6:return l=d.ssrContext.I18n,[4,nr(d,l.i18nInstance.instance,e,t,p)];case 7:return s.sent(),[4,l.setLang(t)];case 8:s.sent(),s.label=9;case 9:return Ar.emit(Or,{_i18n:{loading:!1,error:null,resources:n,lng:t}}),[2]}}))}));return function(t,n){return e.apply(this,arguments)}}(),_=d.isBrowser,(m=void 0===_||_)?(kr(f,h),en.i18nInstance.instance.changeLanguage(),[4,n(en)]):[3,2];case 1:return E.sent(),[3,4];case 2:return v=d.ssrContext,y=kr(f,h),b=y.i18nInstance.instance.services,w=h?"en":b.languageDetector.detect(v.request,{}),v.I18n=y,v.I18n.i18nInstance.instance.language=w,v.language=w,v.I18n.languages=b.languageUtils.toResolveHierarchy(w),y.setLang(y.language),[4,n(y)];case 3:E.sent(),E.label=4;case 4:return Rr.starlingLoadWithLng=function(){var e=(0,i._)((function(e,n){var i;return(0,s.Jh)(this,(function(o){return i=xr((0,r._)({},t,e)).starling,[2,g(i,n||en.language)]}))}));return function(t,n){return e.apply(this,arguments)}}(),Rr.addResourceToI18n=function(e,t,n,i,r){en.addResourceBundle(e,t,n,i,r),m||tr(d,en.i18nInstance.instance,e)},Rr.changeLanguage=function(){var e=(0,i._)((function(e){var t;return(0,s.Jh)(this,(function(n){return t=e.locale,[2,g(u,t||en.language)]}))}));return function(t){return e.apply(this,arguments)}}(),d.Plugins=(0,o._)((0,r._)({},(null==d?void 0:d.Plugins)||{}),{I18n:{config:e,I18n:en}}),[2,l({context:d})]}}))}))()},hoc:function(e,t){var n=e.App;return t({App:d()(Ir(n),n)})}}}}}},19496:function(e,t,n){"use strict";var i=n(60132),r=n(56460),o=n(94617),a=n(78360),s=n(56203),c=n(60869),u=n(53604),l=n(77270),p=n(58856),f=n(84940),d=n(51810),h=n(32020),g=n.n(h);var _=n(18011),m=n(19513);var v=Symbol.for("MODERN_PIPELINE"),y=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw new Error("".concat(e," is not a Middleware"))},b=function(){var e,t=[],n=function(e){return n=function(n,i,r){if(n>=t.length){if(e)return e(i);throw new Error("Expect returning a value, but all middlewares just calling next()")}return t[n](i,r)},i=function(e,t){return n(e,t,(function(){return i(e+1,arguments.length>0&&void 0!==arguments[0]?arguments[0]:t)}))},{start:function(e){return i(0,e)},dispatch:i};var n,i},i=n(),r=function(e,t){return function(e){return e?n(null==e?void 0:e.onLast):i}(t).start(e)},o=(e={},(0,m._)(e,v,!0),(0,m._)(e,"use",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var r;return(r=t).push.apply(r,(0,s._)(n.map(y))),o})),(0,m._)(e,"run",r),(0,m._)(e,"middleware",(function(e,t){return r(e,{onLast:t})})),e);return o},w=function(){var e=b();return(0,o._)({},e)},E=Symbol.for("MODERN_WATERFALL"),S=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw new Error("".concat(e," is not a Brook or { brook: Brook }"))},k=function(){var e=b(),t=(0,a._)((0,o._)({},e),(0,m._)({use:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;return(o=e).use.apply(o,(0,s._)(i.map(S).map(T))),t},run:function(t,n){return e.run(t,(0,a._)((0,o._)({},n),{onLast:function(e){return e}}))},middleware:function(t){return e.run(t,{onLast:function(e){return e}})}},E,!0));return t},T=function(e){return function(t,n){return n(e(t))}},x=Symbol.for("MODERN_ASYNC_WATERFALL"),A=function(e){if("function"==typeof e)return e;if(e&&"function"==typeof e.middleware)return e.middleware;throw new Error("".concat(e," is not a AsyncBrook or { brook: AsyncBrook }"))},O=function(e){return function(t,n){return Promise.resolve(e(t)).then((function(e){return n(e)}))}},R=Symbol.for("MODERN_WORKFLOW"),I=function(e){return function(t,n){return[e(t)].concat((0,s._)(n(t)))}},C=Symbol.for("MODERN_PARALLEL_WORKFLOW"),D=function(e){return function(t,n){return[e(t)].concat((0,s._)(n(t)))}},P=Symbol.for("MODERN_ASYNC_WORKFLOW"),N=function(e){return function(t,n){return Promise.resolve(e(t)).then((function(e){return Promise.resolve(n(t)).then((function(t){return[e].concat((0,s._)(t))}))}))}};var L=function(e){0};function M(e){return((e,t="name",n="pre",i="post")=>{let r=[];function o(n){const i=e.find((e=>"string"==typeof n?e[t]===n:e[t]===n[t]));if(!i)throw new Error(`plugin ${n} not existed`);return i}e.forEach((a=>{var s,c;null===(s=a[n])||void 0===s||s.forEach((n=>{e.find((e=>e.name===n))&&r.push([o(n)[t],o(a)[t]])})),null===(c=a[i])||void 0===c||c.forEach((n=>{e.find((e=>e.name===n))&&r.push([o(a)[t],o(n)[t]])}))}));let a=e.filter((e=>!r.find((n=>n[1]===e[t]))));const s=[];for(;a.length;){const n=a.shift();s.push(o(n)),r=r.filter((e=>e[0]!==o(n)[t])),a=e.filter((e=>!s.find((n=>n[t]===e[t])))).filter((e=>!r.find((n=>n[1]===e[t]))))}if(r.length){const e={};throw r.forEach((t=>{e[t[0]]=!0,e[t[1]]=!0})),new Error(`plugins dependences has loop: ${Object.keys(e).join(",")}`)}return s})(e.slice())}var G,z,j,U,B,V,q,F,K,H,W,J,X=function(e,t){return e.some((function(e){return e.name===t.name}))},Z=function(e){return null!==e&&"object"==typeof e},Y=function(e,t){return e.hasOwnProperty(t)},$="SYNC_PLUGIN_SYMBOL",Q={name:"untitled",pre:[],post:[],rivals:[],required:[],usePlugins:[],registerHook:{}},ee=function(e,t){var n={},i=ne(t);if(t){var r=function(t){e.forEach((function(e){(null==e?void 0:e[t])&&i[t].use(e[t])})),n[t]=function(e,n){return i[t].run(e,(0,o._)({},n))}};for(var a in i)r(a)}return n},te=function(e){if(t=e,Boolean(null==t?void 0:t[E]))return k();var t,n,i;if(function(e){return Boolean(null==e?void 0:e[x])}(e))return n=w(),i=(0,a._)((0,o._)({},n),(0,m._)({use:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o;return(o=n).use.apply(o,(0,s._)(t.map(A).map(O))),i},run:function(e,t){return n.run(e,(0,a._)((0,o._)({},t),{onLast:function(e){return e}}))},middleware:function(e){return n.run(e,{onLast:function(e){return e}})}},x,!0)),i;if(function(e){return Boolean(null==e?void 0:e[R])}(e))return function(){var e=b(),t=(0,a._)((0,o._)({},e),(0,m._)({use:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;return(o=e).use.apply(o,(0,s._)(i.map(I))),t},run:function(t){return e.run(t,{onLast:function(){return[]}}).filter(Boolean)}},R,!0));return t}();if(function(e){return Boolean(null==e?void 0:e[P])}(e))return function(){var e=w(),t=(0,a._)((0,o._)({},e),(0,m._)({use:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;return(o=e).use.apply(o,(0,s._)(i.map(N))),t},run:function(t){var n,i=e.run(t,{onLast:function(){return[]}});return(n=i)&&"function"==typeof n.then?i.then((function(e){return e.filter(Boolean)})):i.filter(Boolean)}},P,!0));return t}();if(function(e){return Boolean(null==e?void 0:e[C])}(e))return function(){var e=b(),t=(0,a._)((0,o._)({},e),(0,m._)({run:function(t){return Promise.all(e.run(t,{onLast:function(){return[]}})).then((function(e){return e.filter(Boolean)}))},use:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var o;return(o=e).use.apply(o,(0,s._)(i.map(D))),t}},C,!0));return t}();if(function(e){return Boolean(null==e?void 0:e[v])}(e))return b();throw new Error("Unknown hook: ".concat(e))},ne=function(e){if(!e)return e;var t={};for(var n in e)t[n]=te(e[n]);return t},ie=b(),re=b(),oe=w(),ae=w(),se=w(),ce=b(),ue=(G={hoc:ie,provide:re,client:oe,server:ae,init:se,pickContext:ce},U=0,B=(0,o._)({},G),V=function(){return j},q=function(e){B=(0,o._)({},e,B)},F=function(e){return Z(e)&&Y(e,$)&&e[$]===$},K=(0,a._)((0,o._)({},z),{useHookRunners:V}),H=function(e){var t=[],n=function(e){X(t,e)||t.push((0,o._)({},e))},i=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach((function(e){if(F(e))n(e);else if("function"==typeof e){var t=e();n(r(t.setup,t))}else Z(e)&&n(r(e.setup,e))})),s},r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(null===(e=n.usePlugins)||void 0===e?void 0:e.length)&&n.usePlugins.forEach((function(e){i(r(e.setup,e))})),n.registerHook&&q(n.registerHook),(0,a._)((0,o._)((0,a._)((0,o._)({},Q),{name:"No.".concat(U++," plugin")}),n),{SYNC_PLUGIN_SYMBOL:$,setup:t})},s={createPlugin:r,isPlugin:F,usePlugin:i,init:function(){var n=M(t),i=(0,o._)({},K,e);L();var r=n.map((function(e){return e.setup(i)}));return j=ee(r,B)},clear:function(){t=[]},run:function(e){return e()},registerHook:q,useRunner:V,clone:H};return s},H()),le=(ue.createPlugin,n(4917)),pe=n(80494),fe=n.n(pe);(J=W||(W={}))[J.idle=0]="idle",J[J.loading=1]="loading",J[J.fulfilled=2]="fulfilled",J[J.rejected=3]="rejected";var de=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.skipStatic,o=void 0!==r&&r,a=i.skipNonStatic,l=void 0!==a&&a,f=new Map,d=(t=new Map,function(e){var n=t.get(e);if(n)return n;var i=JSON.stringify(e);return fe()(i,"params should be not null value"),t.set(e,i),i}),h=(n=(0,c._)((function(){var e,t,n,i,r,o,a,s,c,l;return(0,p.Jh)(this,(function(p){switch(p.label){case 0:e=[],t=!0,n=!1,i=void 0;try{for(r=f[Symbol.iterator]();!(t=(o=r.next()).done);t=!0)a=(0,le._)(o.value,2),s=a[0],c=a[1],l=c.promise,(0,u._)(l,Promise)&&e.push([s,c])}catch(d){n=!0,i=d}finally{try{t||null==r.return||r.return()}finally{if(n)throw i}}return[4,Promise.all(e.map((function(e){return e[1].promise})))];case 1:return p.sent(),[2,e.reduce((function(e,t){var n=(0,le._)(t,2),i=n[0],r=n[1];return e[i]=r.result,e}),{})]}}))})),function(){return n.apply(this,arguments)});return{hasPendingLoaders:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=f.values()[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value.promise;if((0,u._)(o,Promise))return!0}}catch(a){t=!0,n=a}finally{try{e||null==r.return||r.return()}finally{if(t)throw n}}return!1},awaitPendingLoaders:h,add:function(t,n){var i=d(n.params),r=f.get(i),a=n._cache;if(!r||!1===a){var h=l&&!n.static,g=o&&n.static,_=h||g;r=function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{loading:!1,reloading:!1,data:void 0,error:void 0},r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=W.idle,l=i.data,f=i.error,d=!1,h=new Set,g=(n=(0,c._)((function(){return(0,p.Jh)(this,(function(e){return o||a===W.loading?[2,t]:(a=W.loading,m(),[2,t=r().then((function(e){l=e,f=null,a=W.fulfilled})).catch((function(e){f=e,l=null,a=W.rejected})).finally((function(){t=null,d=!0,m()}))])}))})),function(){return n.apply(this,arguments)}),_=function(){return{loading:!d&&a===W.loading,reloading:d&&a===W.loading,data:l,error:(0,u._)(f,Error)?"".concat(f.message):f,_error:f}},m=function(){(0,s._)(h).forEach((function(e){e(a,_())}))};return{get result(){return _()},get promise(){return t},onChange:function(e){return h.add(e),function(){h.delete(e)}},load:g}}(i,void 0!==e[i]?e[i]:{data:n.initialData},t,_),f.set(i,r)}return i},get:function(e){return f.get(e)}}};var he,ge=new WeakMap,_e=function(e){return{loaderManager:de({}),runner:e,isBrowser:!0,routeManifest:"undefined"!=typeof window&&window._MODERNJS_ROUTE_MANIFEST}},me=function(e){var t,n=e.plugins,i=e.props,r=ue.clone();return(t=r).usePlugin.apply(t,(0,s._)(n)),function(e){var t=r.init(),n=function(n){var i,r=d.createElement(e||d.Fragment,e?(0,o._)({},n):null,e?n.children:d.cloneElement(n.children,(0,o._)({},null===(i=n.children)||void 0===i?void 0:i.props,n))),a=(0,d.useContext)(_.J);return t.provide({element:r,props:(0,o._)({},n),context:a},{onLast:function(e){return e.element}})};e&&g()(n,e);var a=t.hoc({App:n},{onLast:function(e){var n=e.App;return g()((function(e){var r=e.context,a=(0,l._)(e,["context"]),s=r;(null==s?void 0:s.runner)||(s=_e(t),t.init({context:s},{onLast:function(e){var t,i=e.context;return null==n||null===(t=n.init)||void 0===t?void 0:t.call(n,i)}}));var c=(0,o._)({},a,i);return(0,f.jsx)(_.J.Provider,{value:s,children:(0,f.jsx)(n,(0,o._)({},c))})}),n)}});return ge.set(a,t),a}},ve=(he=(0,c._)((function(e,t,n,i){var r,a,s,c,l,f,h,g,_,m,v,y,b,w,E;return(0,p.Jh)(this,(function(n){switch(n.label){case 0:return r=e,(a=ge.get(r))||(r=me({plugins:[]})(r),a=ge.get(r)),s=_e(a),c=function(e){return a.init({context:e},{onLast:function(e){var t,n=e.context;return null==r||null===(t=r.init)||void 0===t?void 0:t.call(r,n)}})},t?"undefined"!=typeof window&&"nodejs"!==window.name?function(e){return"string"==typeof e||"undefined"!=typeof HTMLElement&&(0,u._)(e,HTMLElement)}(t)?(h=window._SSR_DATA,g=(null==h||null===(l=h.data)||void 0===l?void 0:l.loadersData)||{},_=Object.keys(g).reduce((function(e,t){var n=g[t];return!1!==n.loading||(e[t]=n),e}),{}),Object.assign(s,(0,o._)({loaderManager:de(_,{skipStatic:!0})},h?{ssrContext:null==h?void 0:h.context}:{})),s.initialData=null==h||null===(f=h.data)||void 0===f?void 0:f.initialData,[4,c(s)]):[3,2]:[3,4]:[2,d.createElement(r,{context:s})];case 1:if((m=n.sent())&&(s.initialData=m),v="string"!=typeof t?t:document.getElementById(t||"root"),!i)throw Error("The `bootstrap` need provide `ReactDOM` parameter");return y=function(e){if(!i.render)throw Error("The `bootstrap` `ReactDOM` parameter needs to provide the `render` method");i.render(e,v)},b=function(e,t){if(!i.hydrate)throw Error("The `bootstrap` `ReactDOM` parameter needs to provide the `hydrate` method");i.hydrate(e,v,t)},[2,a.client({App:r,context:s,ModernRender:y,ModernHydrate:b},{onLast:function(e){var t=e.App;y(d.createElement(t,{context:s}))}})];case 2:throw Error("`bootstrap` needs id in browser environment, it needs to be string or element");case 3:return[3,6];case 4:return Object.assign(s,{ssrContext:t,isBrowser:!1,loaderManager:de({},{skipNonStatic:t.staticGenerate,skipStatic:!t.staticGenerate})}),w=function(e){if("undefined"!=typeof Response&&(0,u._)(e,Response)&&e.status>=300&&e.status<=399){var t=e.status,n=e.headers.get("Location")||"/",i=s.ssrContext;return i&&(i.res.statusCode=t,i.res.setHeader("Location",n),i.redirection=i.redirection||{},i.redirection.status=t,i.redirection.url=n),!0}return!1},[4,c(s)];case 5:if(E=n.sent(),!w(E))return s.initialData=E,[2,a.server({App:r,context:s})];n.label=6;case 6:return[2]}}))})),function(e,t,n,i){return he.apply(this,arguments)});var ye=n(84466),be=[{path:"/",children:[{_component:"@_edenx_src/routes/page.tsx",index:!0,id:"page",type:"nested",lazyImport:function(){return Promise.all([n.e(986),n.e(991),n.e(221),n.e(992),n.e(741),n.e(195),n.e(768)]).then(n.bind(n,26047))},component:(0,d.lazy)((function(){return Promise.all([n.e(986),n.e(991),n.e(221),n.e(992),n.e(741),n.e(195),n.e(768)]).then(n.bind(n,26047))}))},{path:"standalone",children:[{_component:"@_edenx_src/routes/standalone/page.tsx",index:!0,id:"standalone/page",type:"nested",lazyImport:function(){return Promise.all([n.e(986),n.e(991),n.e(221),n.e(992),n.e(777),n.e(195),n.e(604)]).then(n.bind(n,23159))},component:(0,d.lazy)((function(){return Promise.all([n.e(986),n.e(991),n.e(221),n.e(992),n.e(777),n.e(195),n.e(604)]).then(n.bind(n,23159))}))}],isRoot:!1,id:"standalone/layout",type:"nested",lazyImport:null}],isRoot:!0,_component:"@_edenx_src/routes/layout.tsx",id:"layout",type:"nested",lazyImport:null,component:ye.Z}];function we(e,t){"sendCustomPerfMetric"===e&&performance.getEntriesByType("navigation").reduce((function(e,t){var n,i=t.serverTiming;return i&&(n=e).push.apply(n,(0,s._)(i)),e}),[]).filter((function(e){return e.name.startsWith("bd-")})).forEach((function(e){var n,i,r=e.name,o=e.duration,a=e.description,s=a?{description:a}:void 0;null===(i=t)||void 0===i||null===(n=i.sendCustomPerfMetric)||void 0===n||n.call(i,{name:r,value:o,type:"perf",extra:s})}))}var Ee=function(){return"undefined"!=typeof window},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.slardarInstance,n=e.enableAsyncSetting,i=e.disableAutoInit,r=e.disableAutoStart,o=e.disableGarfishPlugin,a=e.globalName,s=void 0===a?"slardarWeb":a,c=e.garfishSlardarPlugin,u=e.inline,p=e.beforeInit,f=(0,l._)(e,["slardarInstance","enableAsyncSetting","disableAutoInit","disableAutoStart","disableGarfishPlugin","globalName","garfishSlardarPlugin","inline","beforeInit"]);return u||(fe()(t,"slardarInstance is required"),Ee()&&!window[s]&&(window[s]=t)),{name:"@edenx/plugin-slardar-web",setup:function(){return{init:function(e,t){var a=e.context,u=a.isBrowser;if(void 0!==u&&u&&f&&window[s]){var l,d,h,g=null===(h=window._SSR_DATA)||void 0===h||null===(d=h.context)||void 0===d||null===(l=d.reporter)||void 0===l?void 0:l.sessionId;!f.sessionId&&g&&(f.sessionId=g);var _,m=window[s];if(m.__edenx_global_name__=s,function(e){var t;null===(t=e)||void 0===t||t("on","provide",(function(t){we(t,e)}))}(m),!o&&"function"==typeof c&&Ee()&&window.__GARFISH__&&c({getSlardarInstance:function(){return m},config:f}),i)m.originConfig=f;else null===(_=p)||void 0===_||_(m),m("init",f),n||r||m("start")}return t({context:a})}}}}},ke=n(88374).WA,Te=n(73935),xe=n(80971);var Ae=k(),Oe=n(51141);const Re=(e,t={})=>{const{children:n,index:i,id:r,component:o,isRoot:a,lazyImport:s,config:c,handle:u}=e,l=o,{parent:p,DeferredDataComponent:h,props:g={}}=t,_={caseSensitive:e.caseSensitive,path:e.path,id:e.id,loader:Ie(e),action:e.action,hasErrorBoundary:e.hasErrorBoundary,shouldRevalidate:e.shouldRevalidate,handle:{...u,..."object"==typeof c?null==c?void 0:c.handle:{}},index:e.index,element:e.element,errorElement:e.errorElement};if(e.error){const t=(0,f.jsx)(e.error,{});_.errorElement=t}let m;if(l)if((null==p?void 0:p.loading)&&s){const e=p.loading;m=Ce(l)?(0,f.jsx)(l,{fallback:(0,f.jsx)(e,{})}):(0,f.jsx)(d.Suspense,{fallback:(0,f.jsx)(e,{}),children:(0,f.jsx)(l,{})})}else m=Ce(l)&&s?(0,f.jsx)(l,{}):a?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l,{...g}),"undefined"==typeof document&&h&&(0,f.jsx)(h,{nonce:null==g?void 0:g.nonce})]}):s?(0,f.jsx)(d.Suspense,{fallback:null,children:(0,f.jsx)(l,{})}):(0,f.jsx)(l,{});else e.loading=null==p?void 0:p.loading;m&&(_.element=m);const v=null==n?void 0:n.map((t=>Re(t,{parent:e})));return i?(0,f.jsx)(Te.AW,{..._,index:!0},r):(0,f.jsx)(Te.AW,{..._,index:!1,children:v},r)};function Ie(e){const{loader:t}=e;return t?n=>("function"==typeof e.lazyImport&&e.lazyImport(),t(n)):()=>("function"==typeof e.lazyImport&&e.lazyImport(),null)}function Ce(e){return e&&"Loadable"===e.displayName&&e.preload&&"function"==typeof e.preload}var De=function(){return(0,f.jsx)("div",{style:{margin:"150px auto",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:"404"})};function Pe(){return null}function Ne(e){var t=e.routesConfig,n=e.props,i=e.ssrMode;if(!t)return null;var r=t.routes,a=t.globalApp;if(!r)return null;var s=function(e,t){var n=t.globalApp,i=t.ssrMode,r=t.props,a=function(e){var t=e.Component,i=(0,l._)(e,["Component"]),r=n;return r?(0,f.jsx)(r,(0,o._)({Component:t},i)):(0,f.jsx)(t,(0,o._)({},i))},s=[],c=!0,u=!1,p=void 0;try{for(var d,h=e[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var g=d.value;if("nested"===g.type){var _=Re(g,{DeferredDataComponent:"stream"===i?Pe:void 0,props:r});s.push(_)}else{var m=(0,f.jsx)(Te.AW,{path:g.path,element:(0,f.jsx)(a,{Component:g.component})},g.path);s.push(m)}}}catch(v){u=!0,p=v}finally{try{c||null==h.return||h.return()}finally{if(u)throw p}}return s.push((0,f.jsx)(Te.AW,{path:"*",element:(0,f.jsx)(De,{})},"*")),s}(r,{globalApp:a,ssrMode:i,props:n});return s}function Le(e){if(!e)return null;var t=Object.entries(e),n={},i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var c=(0,le._)(a.value,2),u=c[0],l=c[1];if(l&&"RouteErrorResponse"===l.__type)n[u]=new Oe.iQ(l.status,l.statusText,l.data,!0===l.internal);else if(l&&"Error"===l.__type){var p=new Error(l.message);p.stack=l.stack,n[u]=p}else n[u]=l}}catch(f){r=!0,o=f}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}var Me={routes:[]};var Ge=function(e){var t=e.serverBase,n=void 0===t?[]:t,i=e.supportHtml5History,r=void 0===i||i,c=e.basename,u=void 0===c?"":c,l=e.routesConfig,p=e.createRoutes,h=[];return Me=l,window._SERVER_DATA=(e=>{const t=document.querySelectorAll(`#${e}`);if(0===t.length)return;const n=t[t.length-1];if(n)try{return JSON.parse((null==n?void 0:n.textContent)||"")}catch(i){return void console.error(`parse ${e} error`,i)}})("__MODERN_SERVER_DATA__"),{name:"@modern-js/plugin-router",registerHook:{modifyRoutes:Ae},setup:function(e){return{init:function(e,t){var n=e.context;return n.router={useMatches:Te.SN,useLocation:Te.TH},Object.defineProperty(n,"routes",{get:function(){return h}}),t({context:n})},hoc:function(t,i){var c=t.App;if(!Me&&!p)return i({App:c});var m=function(t){var i;!1,h=p?p():(0,Te.i7)(Ne({routesConfig:Me,props:t}));var l=e.useHookRunners();h=l.modifyRoutes(h);var g,m=(null===(i=window._SERVER_DATA)||void 0===i?void 0:i.router.baseUrl)||(g=location.pathname,n.find((function(e){return 0===g.search(e)}))||"/"),v="/"===m?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i,r,o=new RegExp("".concat("/","{1,}"),"g");return i=t.join("/").replace(o,"/"),(r=i)&&"string"==typeof r?(r.startsWith(".")&&(r=r.slice(1)),r.startsWith("/")||(r="/".concat(r)),r.endsWith("/")&&"/"!==r&&(r=r.slice(0,r.length-1)),r):r}(m,u):m,y=window._ROUTER_DATA;(null==y?void 0:y.errors)&&(y=(0,a._)((0,o._)({},y),{errors:Le(y.errors)}));var b=r?(0,xe.aj)(h,{basename:v,hydrationData:y}):(0,xe.cP)(h,{basename:v,hydrationData:y}),w=(0,d.useContext)(_.J);w.remixRouter||Object.defineProperty(w,"remixRouter",{get:function(){return b}});var E=b.subscribe;return b.subscribe=function(e){return E((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=w.unstable_getBlockNavState;if(!r||!r())return e.apply(void 0,(0,s._)(n))}))},(0,f.jsx)(c,(0,a._)((0,o._)({},t),{children:(0,f.jsx)(Te.pG,{router:b})}))};return c&&(m=g()(m,c)),(null==l?void 0:l.globalApp)?i({App:g()(m,l.globalApp)}):i({App:m})},pickContext:function(e,t){var n=e.context,i=e.pickedContext,r=n.remixRouter,s={navigate:r.navigate,get location(){return r.state.location}};return t({context:n,pickedContext:(0,a._)((0,o._)({},i),{router:s})})}}}}};var ze={name:"default",channel:"cn",log:!1,_staging_flag:0,disable_auto_pv:!1},je=["app_id","channel","channel_domain","app_key","log","disable_ssid","disable_webid","disable_sdk_monitor","checkExp","disable_storage","autotrack","enable_stay_duration","auto_profile","disable_session","event_verify_url","enable_et_test","enable_ab_test","max_storage_num","enable_storage","enable_cookie","enable_ab_visual","cross_subdomain","cookie_domain","enable_multilink","multilink_timeout_ms","reportTime","timeout","max_report","report_url","maxDuration","ab_channel_domain","configPersist","disable_auto_pv","channel_type","caller","disable_route_report","disable_heartbeat","enable_tracer","enable_spa","enable_ttwebid","user_unique_type","extend","ab_timeout","Native","disable_tracer","extendConfig","filter","cep","cep_url","spa","cookie_expire","enable_custom_webid","disable_track_event"];var Ue=function(e){if(e){var t,n,i,r,s,c=e.Collector,u=(0,o._)({},ze,e),p=u.name,f=(0,l._)(u,["name"]),d=(0,le._)((t=f,n=je,i=["Collector","useSlimTea","useOverseaTea","disableAutoStart"],r={},s={},Object.keys(t).forEach((function(e){n.includes(e)?r[e]=t[e]:i.includes(e)||(s[e]=t[e])})),[r,s]),2),h=d[0],g=d[1],_=new c(p);_.init(h),_.config(g),u.disableAutoStart||_.start(),window.Tea=_;var m=_;return{name:"@edenx/plugin-tea",setup:function(){return{init:function(e,t){var n=e.context;return n.Plugins=(0,a._)((0,o._)({},(null==n?void 0:n.Plugins)||{}),{Tea:m}),t({context:n})}}}}}};const Be=(0,n(83137).AY)();var Ve,qe,Fe,Ke,He,We,Je,Xe,Ze,Ye,$e,Qe="undefined"!=typeof window?Be:{},et=n(31565),tt="undefined"!=typeof window&&"nodejs"!==window.name,nt=null;$e=(0,i.Z)((0,i.Z)({},(!1).config),"function"==typeof ye.v?(0,ye.v)():{}),(nt=(Ke={plugins:[Se((0,i.Z)((0,i.Z)({},{bid:"creative_ai",env:"production",release:"1.0.0.533",enableAsyncSetting:!0,zone:"sg",globalName:"Slardar",plugins:{jsError:{ignoreErrors:[{}]}},slardarInstance:Qe}),null==$e?void 0:$e.slardar)),ke((0,i.Z)((0,i.Z)({},$e.intl),{clientOptions:(0,i.Z)({zoneHost:"https://starling-oversea.byteoversea.com/",apiKey:"f1625430b67711ed9e6355abc521cc30",namespace:["default"]},null===(Ve=$e.intl)||void 0===Ve?void 0:Ve.clientOptions),nodeOptions:(0,i.Z)({projectName:"CreativeAi"},null===(qe=$e.intl)||void 0===qe?void 0:qe.nodeOptions),intlOptions:(0,i.Z)({lng:"en",fallbackLng:"en",ns:["default"],defaultNS:"default",resources:{en:{default:{CA_brief_Product_2video:"Enter the following information to generate a video for your product.",CA_brief_commercial_music:"Enter the following information to generate similar commercial music.",CA_brief_digital_avatar:"Enter the following information to generate a digital avatar video.",CA_brief_resize:"Enter the following information to resize the image.",CA_brief_script_2videos:"Enter the following information to generate a video based on your script.",CA_brief_text_speech:"Enter the following information to generate an audio for your text.",CA_brief_voiceover:"Enter the following information to add a auto-generated voiceover to your video",CA_hint_music_avatar_select_description:"Select an avatar for the voiceover",CA_hint_music_avatar_select_narrate_description:"Select an avatar to narrate the voiceover created above",CA_hint_music_commercial_generate_avatar_description:"Generate commercial music based on the avatar video above.",CA_hint_music_commercial_generate_description:"Generate commercial music based on the videos above.",CA_hint_music_generate_audio_description:"Convert the generated voiceover into audio.",CA_hint_music_generate_description:"Generate music based on the videos above.",CA_hint_music_generate_voiceover_description:"Convert the voiceover into audio file",CA_hint_music_regenerate_description:"Modify the tone or text to 'regeneration'",CA_hint_resize_image_description:"Resize my product image for TikTok",CA_hint_resize_image_landingpage_description:"Resize the product image in my landing page for TikTok",CA_hint_submitted_description:"Request submitted, you can ask more questions while Symphony Assistant generates results.",ai_avatar:"Build-a-Avatar",ai_avatar_desc:"Build your own talking avatar",ai_playground:"Generative AI",ai_playground_banner_subTitle:"Unlock new ad creation possibilities with TikTok's latest advances in generative AI.",ai_playground_guide_desc:"Disclaimer: scripts are generated automatically based on information provided by the user. TikTok does not make any promises or guarantees over the legality or appropriateness of the script content generated by Script Generator. The user shall be solely responsible for the content created using TikTok Creative Playground. This includes, but is not limited to, the use of Script Generator, which is not, and will not be, endorsed, sponsored, or approved by TikTok.",ai_toolset:"AI toolset",aigc_add_btn_text:"Add",aigc_advance_setting_btn_text:"Advanced settings",aigc_back_btn_text:"Return to Creative Playground",aigc_cancel_btn_text:"Stay",aigc_confirm_btn_text:"Leave page",aigc_copy_btn_text:"Copy",aigc_copy_success_info:"Script copied",aigc_creative_duration_long:"Long",aigc_creative_duration_short:"Short",aigc_creative_mode_cg:"Computer graphics infused video",aigc_creative_mode_cg_tooltip:"A product showcase video that incorporates elements of computer & visual graphics",aigc_creative_mode_free_mode:"Automatic system selection",aigc_creative_mode_free_mode_tooltip:"System selects the video format for you. Script results will be based on details you've provided above.",aigc_creative_mode_game_screen_recording:"Gameplay commentation",aigc_creative_mode_game_screen_recording_tooltip:"A game recording is played on-screen while a commentator narrates its events, provides game info & analysis, and promotes it to users.","aigc_creative_mode_green screen":"Video with green-screen background",aigc_creative_mode_green_screen:"Video with green-screen background",aigc_creative_mode_green_screen_tooltip:"A product offering video with a green-screen background, where marketing materials and visual effects are added for display.",aigc_creative_mode_multi_scenario_show:"Multi-scenario product showcase",aigc_creative_mode_multi_scenario_show_tooltip:"Demonstration of a product's purposes and abilities, displaying multiple scenarios in which it can be used.",aigc_creative_mode_others:"Others",aigc_creative_mode_product_show_case:"Product showcase",aigc_creative_mode_product_show_case_tooltip:"Showcasing a product in the specific scenario where it is best used.",aigc_creative_mode_product_try_out:"Product testing",aigc_creative_mode_product_try_out_tooltip:"An act or instance of an individual trying out the product on-screen for demonstration purposes.",aigc_creative_mode_real_scenario_show:"Scenario-based product showcase",aigc_creative_mode_real_scenario_show_tooltip:"A product showcase displaying scenarios where it is best used, often with no characters on-screen.",aigc_creative_mode_un_boxing:"Product unboxing",aigc_creative_mode_un_boxing_tooltip:"An act or instance of removing a newly purchased product from its packaging and examining its features.",aigc_design_your_script_info:"Enter information and criteria about your ad video to generate customized scripts. Only English text is accepted at this time.",aigc_dirty_modal_content:"We detected sensitive language in your input that violates our community guidelines. Please adjust your input and try again.",aigc_disclaimer_info:"Script content is generated automatically based on information provided by you. TikTok does not make any promises or guarantees regarding the content generated by Script Generator. It is solely your decision whether to utilize and/or publish content created using the Script Generator in any ad or other material. You are solely responsible for any content created using Script Generator, including ensuring that such content is accurate and complies with applicable laws and regulations, and this content is not endorsed, sponsored, or approved by TikTok. The information you submit will be shared with our third-party service provider to generate the content created by Script Generator. Please do not share any personal, sensitive or confidential information.",aigc_disclaimer_info_view_less:"View less",aigc_disclaimer_info_view_more:"View more",aigc_empty_info:"Our generator can\u2019t read your mind...tell us about the script you'd like to create to generate customized results!",aigc_empty_title:"You don't have any scripts yet",aigc_form_field_creative_duration_title:"Video duration",aigc_form_field_creative_duration_title_tooltip:"Time length of your video. This may affect the length of your scripts.",aigc_form_field_creative_mode_title:"Video format",aigc_form_field_creative_mode_title_tooltip:"Select a popular video format to help improve the structure and accuracy of your script. For better results, choose a format that aligns with your video objective.",aigc_form_field_industry_title:"Industry",aigc_form_field_industry_title_placeholder:"Select your industry",aigc_form_field_is_optional:"Optional",aigc_form_field_product_info_title:"Product description",aigc_form_field_product_info_title_placeholder:"Enter your product description",aigc_form_field_product_name_title:"Product name",aigc_form_field_product_name_title_placeholder:"Enter your product name",aigc_form_field_selling_points_title:"Keywords",aigc_form_field_selling_points_title_placeholder:"Enter keywords or selling points",aigc_form_field_selling_points_title_tooltip:"Input keywords that will appear in the script, describing special selling points or benefits of your product/service.",aigc_form_keywords_total_info:"5 entries max.",aigc_form_rule_length_limit_error_msg:"Limited exceeded",aigc_form_rule_requried_error_msg:"This field is required",aigc_form_title:"Design your script",aigc_form_title_tip:"(English only)",aigc_generate_btn_text:"Generate results",aigc_got_it_btn_text:"Got it",aigc_hide_advance_setting_btn_text:"Hide advanced settings",aigc_industry_apparel_and_Accessories:"Apparel & Accessories",aigc_industry_games:"Games",aigc_industry_utilities_apps:"Utilities Apps",aigc_invalid_input_modal_content:"Input is invalid. Please try again.",aigc_leave_modal_content:"Your details and script results will not be saved.",aigc_leave_modal_title:"Are you sure you want to leave this page?",aigc_menu_ai_toolset:"Generative AI",aigc_menu_smart_script:"Script Generator",aigc_modal_common_title:"Got it",aigc_modal_waiting_info:"Your scripts are generating, please wait for results before requesting new ones.",aigc_modal_waiting_title:"Reminder",aigc_not_english_input_modal_content:"Text must be in English. Please try again.",aigc_part_index:"Part {number}",aigc_part_type_cta:"Call to Action",aigc_part_type_hook:"Hook",aigc_part_type_other:"Other",aigc_part_type_scene:"Scene",aigc_part_type_usp:"Unique selling points",aigc_progress_title_1:"Processing script design details",aigc_progress_title_2:"Generating customized scripts",aigc_progress_title_3:"Adding finishing touches...",aigc_progress_title_denied:"Script generation denied",aigc_progress_title_fail:"Script generation failed",aigc_progress_title_success:"Scripts generated!",aigc_rate_modal_content:"You\u2019re requesting too frequently; please slow down and wait a minute before trying again.",aigc_rate_modal_title:"Reminder",aigc_scene_index:"[Scene {index}]",aigc_script_content_type_on_screen_visual:"[On-screen visual]",aigc_script_content_type_textover:"[Text-over]",aigc_script_content_type_voiceover:"[Voice-over]",aigc_script_illegal_input_content:"The system detected sensitive language in your input that violates our community guidelines. Please adjust your content and try again.",aigc_script_illegal_input_title:"Script request rejected",aigc_script_results_title:"Script results",aigc_script_thumb_down_message:"Thanks for your feedback! We'll continue to improve this feature",aigc_script_thumb_up_message:"Thanks for your feedback! We're glad you enjoy this feature",aigc_view_more_btn_text:"Generate more results",aigc_watting_modal_content:"Your scripts are generating, please wait for results before requesting more scripts.",aigc_watting_modal_title:"Reminder",aio_copilot_not_support_lang_hint_text:"Unfortunately, TikTok One Assistant only supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German at this time. We're working to support more languages in the future!",aio_copilot_only_english_hint_text:"Unfortunately, TikTok One Assistant only supports English at this time. We apologize for the inconvenience, and we're working to support more languages in the future!",aio_copilot_submit_ticket:"Submit a ticket","ca-trend-new-feature-content":"Use Symphony Assistant to find TikTok Trends and generate a script based off a trend.","ca-trend-new-feature-title":"Get TikTok Trends",ca_ask_me_to:"You can ask me to: ",ca_multilingual_user_guide:"\ud83d\udc4b Hey there! Symphony Assistant now supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German. You're welcome to communicate in any of these languages.",ca_music_tags:"Tags",ca_music_usage:"Usage",ca_music_use_in_editor:"Use in TikTok Video Editor",ca_new_conversation:"You have started a new conversation. ",ca_new_conversation_click_here:"To continue the previous conversation, {click here}.",ca_portrait_close:"Close",ca_portrait_creative_producer:"Creative Producer",ca_portrait_creative_strategist:"Creative Strategist ",ca_portrait_ecommerce:"E-commerce",ca_portrait_entertainment:"Entertainment",ca_portrait_gaming:"Gaming",ca_portrait_industry:"Which industry are you most interested in?",ca_portrait_marketing_manager:"Marketing Manager",ca_portrait_optional:"optional",ca_portrait_others:"Others",ca_portrait_rate_conversation:"How would you rate this conversation?",ca_portrait_role:"Which role best describes you?",ca_portrait_saved:"Saved",ca_portrait_send:"Send",ca_portrait_small_business_owner:"Small Business Owner",ca_portrait_thank_feedback:"Thanks for your feedback\uff01",ca_portrait_tiktok_creator:"TikTok Creator",ca_portrait_title:"Want to customize your experience? Tell us a bit about yourself.",ca_prompt_aimusic:"Generate music based on my video",ca_prompt_avatar:"Create an avatar for me",ca_prompt_content:"Write attention-grabbing content",ca_prompt_creative_ideas:"Provide ideas for creatives",ca_prompt_digital_avatar:"Digital Avatar",ca_prompt_generate_voiceover:"Generate a video voiceover for me",ca_prompt_generation:"Production",ca_prompt_hashtags:"Find trending hashtags",ca_prompt_ideas:"Ideas",ca_prompt_image_resize:"Image resizing",ca_prompt_insights:"Insights",ca_prompt_keywords:"Find trending keywords",ca_prompt_music_gen:"Music generation",ca_prompt_product_to_video:"Product-to-video",ca_prompt_products:"Recommend top products",ca_prompt_producttovideo:"Generate video based on my product",ca_prompt_resizing:"Resize product image for TikTok",ca_prompt_script:"Script",ca_prompt_script_to_video:"Script-to-video",ca_prompt_scripttovideo:"Generate video based on my script",ca_prompt_template_1:"Please recommend some popular hashtags/keywords/ad examples/products in the [Enter industry or field].",ca_prompt_template_1_ad:"Please recommend some popular ad examples in the [Enter industry or field].",ca_prompt_template_1_hashtags:"Please recommend some popular hashtags in the [Enter industry or field].",ca_prompt_template_1_keywords:"Please recommend some popular keywords in the [Enter industry or field].",ca_prompt_template_1_products:"Please recommend some popular products in the [Enter industry or field].",ca_prompt_template_2:"Please generate attention-grabbing content/creative ideas/creative scripts for shooting tailored to my needs. \nMy product: [Enter your product]\nSelling point: [Enter selling point]\nTarget audience: [Enter target audience]",ca_prompt_template_2_attention:"Please generate attention-grabbing content tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_template_2_ideas:"Please generate creative ideas for shooting tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_template_2_script:"Please generate creative scripts for shooting tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_textospeech:"Convert voiceover into audio file",ca_prompt_topads:"Show top ad examples",ca_prompt_tts:"Text-to-speech",ca_prompt_voiceover:"Video voiceover",ca_prompt_write_script:"Write creative script",ca_question_use_case_modify_scripts:'How would you rate the answer for "modify scripts"? ',ca_question_use_case_recommend_hashtags_or_songs:'How would you rate the answer for "recommend trends"?',ca_question_use_case_recommend_ideas:'How would you rate the answer for "recommend ideas"? ',ca_question_use_case_recommend_phrases:'How would you rate the answer for "recommend keywords"? ',ca_question_use_case_recommend_products:'How would you rate the answer for "recommend products"? ',ca_question_use_case_recommend_videos:'How would you rate the answer for "recommend videos"? ',ca_question_use_case_summarize_top_ads:'How would you rate the answer for "summarize top ads"? ',ca_question_use_case_write_hooks:'How would you rate the answer for "write hooks"? ',ca_question_use_case_write_scripts:'How would you rate the answer for "write a script for me"?',ca_recalling_status:"Retrieving past conversations",ca_satisfaction_average:"Average",ca_satisfaction_dissatisfied:"Dissatisfied",ca_satisfaction_rate_product:"How satisfied are you with Symphony Assistant?",ca_satisfaction_satisfied:"Satisfied",ca_satisfaction_very_dissatisfied:"Very dissatisfied",ca_satisfaction_very_satisfied:"Very satisfied",ca_scroll_down:"Scroll Down",ca_stop_recalling:"Stop retrieval",ca_tell_me_more:"Tell me more (optional)",ca_tell_me_reason:"You're welcome to provide further explanation or suggestions.",ca_write_scripts_version:"Script",cancel_text:"Cancel",clear_text:"Clear",collapse_all:"Collapse all",comp:"Enter a product price",comp_avatar_generate:"Generate",comp_avatar_step1:"Step 1: choose an avatar",comp_avatar_step2:"Step 2: enter script",comp_describe_selling_points:"Describe your product's key selling points {amount}/4",comp_fill_url:"Enter a product landing page URL",comp_fill_url_subtext:"Product information will be retrieved from the URL and auto-filled for you.",comp_generated_audio:"Generate audio",comp_generated_music:"Generate music",comp_generated_result:"Results",comp_generated_video:"Generate video",comp_image:"Product image",comp_input_info:"Product information",comp_input_text:"Input text for your audio",comp_notification_reminder:"{content} generation complete, {view results}",comp_notification_spec:"Results take 1-3 minutes, you'll be notified as soon as it's ready.",comp_please_input:"Enter a product name",comp_product_name:"Product name",comp_retreive_page_data:"Submit",comp_select:"Select a language & voice",comp_selling_points:"Add point",comp_text:"Text to audio",comp_upload_video:"File size: up to 100M. File format: MP4/MOV.",comp_video:"Upload video",comp_voiceover_spec:"Kindly note that you may only add voiceover to videos that do not have existing voiceovers.",computer_graphics_infused_video:"Computer graphics infused video",confirm_text:"Confirm",copied_successfully:"Copied successfully",copied_text:"Copied",copilot_banner_desc:"Write scripts, show top trends, and more.",copilot_banner_desc_first_time:"Write scripts, show top trends, and more.",copilot_banner_title:"Try our new features in Symphony Assistant",copilot_banner_title_first_time:"Try Symphony Assistant",copilot_page_hint_greetings_1:"\ud83d\udc4b Hey there! I\u2019m Symphony Assistant, your creative collaborator! I can write scripts, show you top TikTok trends, and much more.",copilot_page_hint_greetings_2:"Let\u2019s get started.",copy_link_text:"Copy link",copy_message_id:"Copy message id",copy_text:"Copy",create_new_chat:"New Chat",creative_copilot_ai_explained:"AI explanation",creative_copilot_ai_explanation_prompt:"Explain the hashtag: {hashtag}",creative_copilot_ai_prompt_popular_music:"Please recommend some popular music for me.",creative_copilot_ai_prompt_terms_conditions_agree:"By sending prompts, you agree that the {creative_genai_terms} shall apply to your use of the TikTok Symphony Assistant.",creative_copilot_ai_prompt_trending_description:"Show me what's trending on TikTok about [Enter your product type].",creative_copilot_ai_prompt_video_title:"Please generate a few video titles or captions for a product video based on the following details:\nMy product:  [Enter your product type]\nSelling point: [Enter selling point]\nTarget audience: [Enter target audience]",creative_copilot_blog_btn_hover_text:"Learn More",creative_copilot_clear_btn_hover_text:"Clear chat history",creative_copilot_clear_history_hint:"Clear chat history?",creative_copilot_default_hint_insights:"Provide TikTok insights",creative_copilot_default_hint_insights_info:"Show me what's trending on TikTok",creative_copilot_default_hint_report:"Provide a creative analysis report",creative_copilot_default_hint_script:"Write TikTok ad scripts",creative_copilot_default_hint_script_info:"Write a TikTok ad script for my brand",creative_copilot_default_hint_solutions:"Brainstorm TikTok creative ideas",creative_copilot_default_hint_solutions_info:"Give me some creative ideas for my brand",creative_copilot_dirty_hint_text:"Sorry, I cannot continue the conversation. Ask another question.",creative_copilot_disclaimer_text:"TikTok Symphony Assistant content is generated automatically based on information provided by you. TikTok does not make any promises or guarantees regarding the content generated by TikTok Symphony Assistant. It is solely your decision whether to utilize and/or to publish content created using the TikTok Symphony Assistant in ads or other materials. You are solely responsible for any content created using TikTok Symphony Assistant, including ensuring that such content is accurate and compliant with applicable laws and regulations; this created content is not endorsed, sponsored, or approved by TikTok. The information you submit will be shared with our third-party service provider so that TikTok Symphony Assistant can generate content for you. Please do not share any personal, sensitive or confidential information.",creative_copilot_discord_btn_hover_text:"Join Community",creative_copilot_error_hint_text:"Sorry, I cannot continue the conversation. Try again later.",creative_copilot_feedback_dislike_answer_info:"Response disliked",creative_copilot_feedback_dislike_answer_submit_feedback:"Submit feedback",creative_copilot_feedback_hint:"Was this response helpful?",creative_copilot_feedback_reason_not_consider_context:"The answer didn't take previous context into consideration",creative_copilot_feedback_reason_not_related:"The answer isn't related to the question",creative_copilot_feedback_reason_not_useful:"The answer isn't very useful",creative_copilot_feedback_reason_offensive_content:"The answer contains offensive content",creative_copilot_feedback_reason_others:"Others",creative_copilot_feedback_title:"Why did you dislike the response?",creative_copilot_fold_btn_hover_text:"Fold",creative_copilot_form_business_objective_label_text:"Objective",creative_copilot_form_industry_label_text:"Industry",creative_copilot_form_info_text:"Please provide your campaign details to help us generate creative ideas that are more specific, relevant, and customized for you.",creative_copilot_form_region_label_text:"Region",creative_copilot_form_search_industry_placeholder_text:"Enter you industry",creative_copilot_form_search_objective_placeholder_text:"Enter you objective",creative_copilot_form_search_placeholder_text:"Please enter",creative_copilot_form_search_region_placeholder_text:"Enter your region",creative_copilot_form_select_error_message_text:"Please select at least one option.",creative_copilot_form_select_industry_placeholder_text:"Select your industry",creative_copilot_form_select_objective_placeholder_text:"Select your objective",creative_copilot_form_select_placeholder_text:"Please select",creative_copilot_form_select_region_placeholder_text:"Select your region",creative_copilot_full_screen_btn_hover_text:"Expand",creative_copilot_info:"Spark your creativity with Symphony Assistant",creative_copilot_info_new:"Your collaborator for TikTok creatives",creative_copilot_input_empty:"Empty input",creative_copilot_input_invalid:"Invalid text",creative_copilot_input_placeholder:"Ask me questions about creatives",creative_copilot_input_placeholder_new:"Ask anything...",creative_copilot_name:"Symphony Assistant",creative_copilot_no_text:"No",creative_copilot_not_support_lang_hint_text:"Unfortunately, Symphony Assistant only supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German at this time. We're working to support more languages in the future!",creative_copilot_off_screen_btn_hover_text:"Minimize",creative_copilot_only_english_hint_text:"Unfortunately, Symphony Assistant only supports English at this time. We apologize for the inconvenience, and we're working to support more languages in the future!",creative_copilot_page_hint:"Get your creative with Symphony Assistant!",creative_copilot_page_hint_info:"Examples of what you can ask me:",creative_copilot_progress_step1_hint:"Analyzing your question...",creative_copilot_progress_step2_hint:"Just a moment, almost there!",creative_copilot_progress_step3_hint:"Preparing a response.",creative_copilot_recall_hint_text:"Sorry, the generated answer contains sensitive content and cannot be shared. To continue the conversation, please ask another question.",creative_copilot_recall_message_hint:"This message was recalled",creative_copilot_stop_responding_hint:"Stop response generation",creative_copilot_stop_responding_res_hint:"You have stopped the response",creative_copilot_symphony_ask_me_anything:"Ask me anything",creative_copilot_symphony_help_me_do_market:"Help me do market research about lipstick",creative_copilot_symphony_market_research:"Market Research",creative_copilot_symphony_provide_a_creative_analysis:"Provide a creative analysis report",creative_copilot_symphony_provide_tiktok_insights:"Provide TikTok insights",creative_copilot_symphony_recents:"Recents",creative_copilot_symphony_second_question:"Second Question",creative_copilot_symphony_show_me_whats_trending:"Show me what\u2019s trending on tiktok",creative_copilot_symphony_was_this_response_helpful:"Was this response helpful?",creative_copilot_symphony_welcome_to_symphony_assistant:"Welcome to Symphony Assistant",creative_copilot_symphony_write_a_few_attention:"Write a few attention grabbers for my brand promoting lipstick",creative_copilot_symphony_write_tiktok_ad_scripts:"Write Tiktok ad scripts",creative_copilot_view_top_ad_text:"View Top Ad",creative_copilot_yes_text:"Yes",creative_genai_consent_prompt:"By inputting a webpage, you are granting TikTok permission to scan, download, and use texts, images, and other assets located on that webpage. You confirm that you own the necessary legal rights to the assets located on the webpage and that you have permission to share the assets with TikTok for use on your behalf on Symphony Assistant",creative_genai_consent_terms_agreement_prompt:"By sending prompts, you agree that the {creative_genai_terms} and the {tiktok_partner_privacy_policy} shall apply to your use of the TikTok Symphony Assistant.",creative_genai_terms:"Creative GenAI Terms",creative_genai_terms_link:"Creative GenAI Terms",creative_script_generator_terms_agree:'By clicking "Generate scripts", you agree that the {creative_genai_terms} shall apply to your use of the TikTok Script Generator.',default:{CA_brief_Product_2video:"Enter the following information to generate a video for your product.",CA_brief_commercial_music:"Enter the following information to generate similar commercial music.",CA_brief_digital_avatar:"Enter the following information to generate a digital avatar video.",CA_brief_resize:"Enter the following information to resize the image.",CA_brief_script_2videos:"Enter the following information to generate a video based on your script.",CA_brief_text_speech:"Enter the following information to generate an audio for your text.",CA_brief_voiceover:"Enter the following information to add a auto-generated voiceover to your video",CA_hint_music_avatar_select_description:"Select an avatar for the voiceover",CA_hint_music_avatar_select_narrate_description:"Select an avatar to narrate the voiceover created above",CA_hint_music_commercial_generate_avatar_description:"Generate commercial music based on the avatar video above.",CA_hint_music_commercial_generate_description:"Generate commercial music based on the videos above.",CA_hint_music_generate_audio_description:"Convert the generated voiceover into audio.",CA_hint_music_generate_description:"Generate music based on the videos above.",CA_hint_music_generate_voiceover_description:"Convert the voiceover into audio file",CA_hint_music_regenerate_description:"Modify the tone or text to 'regeneration'",CA_hint_resize_image_description:"Resize my product image for TikTok",CA_hint_resize_image_landingpage_description:"Resize the product image in my landing page for TikTok",CA_hint_submitted_description:"Request submitted, you can ask more questions while Symphony Assistant generates results.",ai_avatar:"Build-a-Avatar",ai_avatar_desc:"Build your own talking avatar",ai_playground:"Generative AI",ai_playground_banner_subTitle:"Unlock new ad creation possibilities with TikTok's latest advances in generative AI.",ai_playground_guide_desc:"Disclaimer: scripts are generated automatically based on information provided by the user. TikTok does not make any promises or guarantees over the legality or appropriateness of the script content generated by Script Generator. The user shall be solely responsible for the content created using TikTok Creative Playground. This includes, but is not limited to, the use of Script Generator, which is not, and will not be, endorsed, sponsored, or approved by TikTok.",ai_toolset:"AI toolset",aigc_add_btn_text:"Add",aigc_advance_setting_btn_text:"Advanced settings",aigc_back_btn_text:"Return to Creative Playground",aigc_cancel_btn_text:"Stay",aigc_confirm_btn_text:"Leave page",aigc_copy_btn_text:"Copy",aigc_copy_success_info:"Script copied",aigc_creative_duration_long:"Long",aigc_creative_duration_short:"Short",aigc_creative_mode_cg:"Computer graphics infused video",aigc_creative_mode_cg_tooltip:"A product showcase video that incorporates elements of computer & visual graphics",aigc_creative_mode_free_mode:"Automatic system selection",aigc_creative_mode_free_mode_tooltip:"System selects the video format for you. Script results will be based on details you've provided above.",aigc_creative_mode_game_screen_recording:"Gameplay commentation",aigc_creative_mode_game_screen_recording_tooltip:"A game recording is played on-screen while a commentator narrates its events, provides game info & analysis, and promotes it to users.","aigc_creative_mode_green screen":"Video with green-screen background",aigc_creative_mode_green_screen:"Video with green-screen background",aigc_creative_mode_green_screen_tooltip:"A product offering video with a green-screen background, where marketing materials and visual effects are added for display.",aigc_creative_mode_multi_scenario_show:"Multi-scenario product showcase",aigc_creative_mode_multi_scenario_show_tooltip:"Demonstration of a product's purposes and abilities, displaying multiple scenarios in which it can be used.",aigc_creative_mode_others:"Others",aigc_creative_mode_product_show_case:"Product showcase",aigc_creative_mode_product_show_case_tooltip:"Showcasing a product in the specific scenario where it is best used.",aigc_creative_mode_product_try_out:"Product testing",aigc_creative_mode_product_try_out_tooltip:"An act or instance of an individual trying out the product on-screen for demonstration purposes.",aigc_creative_mode_real_scenario_show:"Scenario-based product showcase",aigc_creative_mode_real_scenario_show_tooltip:"A product showcase displaying scenarios where it is best used, often with no characters on-screen.",aigc_creative_mode_un_boxing:"Product unboxing",aigc_creative_mode_un_boxing_tooltip:"An act or instance of removing a newly purchased product from its packaging and examining its features.",aigc_design_your_script_info:"Enter information and criteria about your ad video to generate customized scripts. Only English text is accepted at this time.",aigc_dirty_modal_content:"We detected sensitive language in your input that violates our community guidelines. Please adjust your input and try again.",aigc_disclaimer_info:"Script content is generated automatically based on information provided by you. TikTok does not make any promises or guarantees regarding the content generated by Script Generator. It is solely your decision whether to utilize and/or publish content created using the Script Generator in any ad or other material. You are solely responsible for any content created using Script Generator, including ensuring that such content is accurate and complies with applicable laws and regulations, and this content is not endorsed, sponsored, or approved by TikTok. The information you submit will be shared with our third-party service provider to generate the content created by Script Generator. Please do not share any personal, sensitive or confidential information.",aigc_disclaimer_info_view_less:"View less",aigc_disclaimer_info_view_more:"View more",aigc_empty_info:"Our generator can\u2019t read your mind...tell us about the script you'd like to create to generate customized results!",aigc_empty_title:"You don't have any scripts yet",aigc_form_field_creative_duration_title:"Video duration",aigc_form_field_creative_duration_title_tooltip:"Time length of your video. This may affect the length of your scripts.",aigc_form_field_creative_mode_title:"Video format",aigc_form_field_creative_mode_title_tooltip:"Select a popular video format to help improve the structure and accuracy of your script. For better results, choose a format that aligns with your video objective.",aigc_form_field_industry_title:"Industry",aigc_form_field_industry_title_placeholder:"Select your industry",aigc_form_field_is_optional:"Optional",aigc_form_field_product_info_title:"Product description",aigc_form_field_product_info_title_placeholder:"Enter your product description",aigc_form_field_product_name_title:"Product name",aigc_form_field_product_name_title_placeholder:"Enter your product name",aigc_form_field_selling_points_title:"Keywords",aigc_form_field_selling_points_title_placeholder:"Enter keywords or selling points",aigc_form_field_selling_points_title_tooltip:"Input keywords that will appear in the script, describing special selling points or benefits of your product/service.",aigc_form_keywords_total_info:"5 entries max.",aigc_form_rule_length_limit_error_msg:"Limited exceeded",aigc_form_rule_requried_error_msg:"This field is required",aigc_form_title:"Design your script",aigc_form_title_tip:"(English only)",aigc_generate_btn_text:"Generate results",aigc_got_it_btn_text:"Got it",aigc_hide_advance_setting_btn_text:"Hide advanced settings",aigc_industry_apparel_and_Accessories:"Apparel & Accessories",aigc_industry_games:"Games",aigc_industry_utilities_apps:"Utilities Apps",aigc_invalid_input_modal_content:"Input is invalid. Please try again.",aigc_leave_modal_content:"Your details and script results will not be saved.",aigc_leave_modal_title:"Are you sure you want to leave this page?",aigc_menu_ai_toolset:"Generative AI",aigc_menu_smart_script:"Script Generator",aigc_modal_common_title:"Got it",aigc_modal_waiting_info:"Your scripts are generating, please wait for results before requesting new ones.",aigc_modal_waiting_title:"Reminder",aigc_not_english_input_modal_content:"Text must be in English. Please try again.",aigc_part_index:"Part {number}",aigc_part_type_cta:"Call to Action",aigc_part_type_hook:"Hook",aigc_part_type_other:"Other",aigc_part_type_scene:"Scene",aigc_part_type_usp:"Unique selling points",aigc_progress_title_1:"Processing script design details",aigc_progress_title_2:"Generating customized scripts",aigc_progress_title_3:"Adding finishing touches...",aigc_progress_title_denied:"Script generation denied",aigc_progress_title_fail:"Script generation failed",aigc_progress_title_success:"Scripts generated!",aigc_rate_modal_content:"You\u2019re requesting too frequently; please slow down and wait a minute before trying again.",aigc_rate_modal_title:"Reminder",aigc_scene_index:"[Scene {index}]",aigc_script_content_type_on_screen_visual:"[On-screen visual]",aigc_script_content_type_textover:"[Text-over]",aigc_script_content_type_voiceover:"[Voice-over]",aigc_script_illegal_input_content:"The system detected sensitive language in your input that violates our community guidelines. Please adjust your content and try again.",aigc_script_illegal_input_title:"Script request rejected",aigc_script_results_title:"Script results",aigc_script_thumb_down_message:"Thanks for your feedback! We'll continue to improve this feature",aigc_script_thumb_up_message:"Thanks for your feedback! We're glad you enjoy this feature",aigc_view_more_btn_text:"Generate more results",aigc_watting_modal_content:"Your scripts are generating, please wait for results before requesting more scripts.",aigc_watting_modal_title:"Reminder",aio_copilot_not_support_lang_hint_text:"Unfortunately, TikTok One Assistant only supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German at this time. We're working to support more languages in the future!",aio_copilot_only_english_hint_text:"Unfortunately, TikTok One Assistant only supports English at this time. We apologize for the inconvenience, and we're working to support more languages in the future!",aio_copilot_submit_ticket:"Submit a ticket","ca-trend-new-feature-content":"Use Symphony Assistant to find TikTok Trends and generate a script based off a trend.","ca-trend-new-feature-title":"Get TikTok Trends",ca_ask_me_to:"You can ask me to: ",ca_multilingual_user_guide:"\ud83d\udc4b Hey there! Symphony Assistant now supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German. You're welcome to communicate in any of these languages.",ca_music_tags:"Tags",ca_music_usage:"Usage",ca_music_use_in_editor:"Use in TikTok Video Editor",ca_new_conversation:"You have started a new conversation. ",ca_new_conversation_click_here:"To continue the previous conversation, {click here}.",ca_portrait_close:"Close",ca_portrait_creative_producer:"Creative Producer",ca_portrait_creative_strategist:"Creative Strategist ",ca_portrait_ecommerce:"E-commerce",ca_portrait_entertainment:"Entertainment",ca_portrait_gaming:"Gaming",ca_portrait_industry:"Which industry are you most interested in?",ca_portrait_marketing_manager:"Marketing Manager",ca_portrait_optional:"optional",ca_portrait_others:"Others",ca_portrait_rate_conversation:"How would you rate this conversation?",ca_portrait_role:"Which role best describes you?",ca_portrait_saved:"Saved",ca_portrait_send:"Send",ca_portrait_small_business_owner:"Small Business Owner",ca_portrait_thank_feedback:"Thanks for your feedback\uff01",ca_portrait_tiktok_creator:"TikTok Creator",ca_portrait_title:"Want to customize your experience? Tell us a bit about yourself.",ca_prompt_aimusic:"Generate music based on my video",ca_prompt_avatar:"Create an avatar for me",ca_prompt_content:"Write attention-grabbing content",ca_prompt_creative_ideas:"Provide ideas for creatives",ca_prompt_digital_avatar:"Digital Avatar",ca_prompt_generate_voiceover:"Generate a video voiceover for me",ca_prompt_generation:"Production",ca_prompt_hashtags:"Find trending hashtags",ca_prompt_ideas:"Ideas",ca_prompt_image_resize:"Image resizing",ca_prompt_insights:"Insights",ca_prompt_keywords:"Find trending keywords",ca_prompt_music_gen:"Music generation",ca_prompt_product_to_video:"Product-to-video",ca_prompt_products:"Recommend top products",ca_prompt_producttovideo:"Generate video based on my product",ca_prompt_resizing:"Resize product image for TikTok",ca_prompt_script:"Script",ca_prompt_script_to_video:"Script-to-video",ca_prompt_scripttovideo:"Generate video based on my script",ca_prompt_template_1:"Please recommend some popular hashtags/keywords/ad examples/products in the [Enter industry or field].",ca_prompt_template_1_ad:"Please recommend some popular ad examples in the [Enter industry or field].",ca_prompt_template_1_hashtags:"Please recommend some popular hashtags in the [Enter industry or field].",ca_prompt_template_1_keywords:"Please recommend some popular keywords in the [Enter industry or field].",ca_prompt_template_1_products:"Please recommend some popular products in the [Enter industry or field].",ca_prompt_template_2:"Please generate attention-grabbing content/creative ideas/creative scripts for shooting tailored to my needs. \nMy product: [Enter your product]\nSelling point: [Enter selling point]\nTarget audience: [Enter target audience]",ca_prompt_template_2_attention:"Please generate attention-grabbing content tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_template_2_ideas:"Please generate creative ideas for shooting tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_template_2_script:"Please generate creative scripts for shooting tailored to my needs. \nMy product: [Enter your product] \nSelling point: [Enter selling point] \nTarget audience: [Enter target audience]",ca_prompt_textospeech:"Convert voiceover into audio file",ca_prompt_topads:"Show top ad examples",ca_prompt_tts:"Text-to-speech",ca_prompt_voiceover:"Video voiceover",ca_prompt_write_script:"Write creative script",ca_question_use_case_modify_scripts:'How would you rate the answer for "modify scripts"? ',ca_question_use_case_recommend_hashtags_or_songs:'How would you rate the answer for "recommend trends"?',ca_question_use_case_recommend_ideas:'How would you rate the answer for "recommend ideas"? ',ca_question_use_case_recommend_phrases:'How would you rate the answer for "recommend keywords"? ',ca_question_use_case_recommend_products:'How would you rate the answer for "recommend products"? ',ca_question_use_case_recommend_videos:'How would you rate the answer for "recommend videos"? ',ca_question_use_case_summarize_top_ads:'How would you rate the answer for "summarize top ads"? ',ca_question_use_case_write_hooks:'How would you rate the answer for "write hooks"? ',ca_question_use_case_write_scripts:'How would you rate the answer for "write a script for me"?',ca_recalling_status:"Retrieving past conversations",ca_satisfaction_average:"Average",ca_satisfaction_dissatisfied:"Dissatisfied",ca_satisfaction_rate_product:"How satisfied are you with Symphony Assistant?",ca_satisfaction_satisfied:"Satisfied",ca_satisfaction_very_dissatisfied:"Very dissatisfied",ca_satisfaction_very_satisfied:"Very satisfied",ca_scroll_down:"Scroll Down",ca_stop_recalling:"Stop retrieval",ca_tell_me_more:"Tell me more (optional)",ca_tell_me_reason:"You're welcome to provide further explanation or suggestions.",ca_write_scripts_version:"Script",cancel_text:"Cancel",clear_text:"Clear",collapse_all:"Collapse all",comp:"Enter a product price",comp_avatar_generate:"Generate",comp_avatar_step1:"Step 1: choose an avatar",comp_avatar_step2:"Step 2: enter script",comp_describe_selling_points:"Describe your product's key selling points {amount}/4",comp_fill_url:"Enter a product landing page URL",comp_fill_url_subtext:"Product information will be retrieved from the URL and auto-filled for you.",comp_generated_audio:"Generate audio",comp_generated_music:"Generate music",comp_generated_result:"Results",comp_generated_video:"Generate video",comp_image:"Product image",comp_input_info:"Product information",comp_input_text:"Input text for your audio",comp_notification_reminder:"{content} generation complete, {view results}",comp_notification_spec:"Results take 1-3 minutes, you'll be notified as soon as it's ready.",comp_please_input:"Enter a product name",comp_product_name:"Product name",comp_retreive_page_data:"Submit",comp_select:"Select a language & voice",comp_selling_points:"Add point",comp_text:"Text to audio",comp_upload_video:"File size: up to 100M. File format: MP4/MOV.",comp_video:"Upload video",comp_voiceover_spec:"Kindly note that you may only add voiceover to videos that do not have existing voiceovers.",computer_graphics_infused_video:"Computer graphics infused video",confirm_text:"Confirm",copied_successfully:"Copied successfully",copied_text:"Copied",copilot_banner_desc:"Write scripts, show top trends, and more.",copilot_banner_desc_first_time:"Write scripts, show top trends, and more.",copilot_banner_title:"Try our new features in Symphony Assistant",copilot_banner_title_first_time:"Try Symphony Assistant",copilot_page_hint_greetings_1:"\ud83d\udc4b Hey there! I\u2019m Symphony Assistant, your creative collaborator! I can write scripts, show you top TikTok trends, and much more.",copilot_page_hint_greetings_2:"Let\u2019s get started.",copy_link_text:"Copy link",copy_message_id:"Copy message id",copy_text:"Copy",create_new_chat:"New Chat",creative_copilot_ai_explained:"AI explanation",creative_copilot_ai_explanation_prompt:"Explain the hashtag: {hashtag}",creative_copilot_ai_prompt_popular_music:"Please recommend some popular music for me.",creative_copilot_ai_prompt_terms_conditions_agree:"By sending prompts, you agree that the {creative_genai_terms} shall apply to your use of the TikTok Symphony Assistant.",creative_copilot_ai_prompt_trending_description:"Show me what's trending on TikTok about [Enter your product type].",creative_copilot_ai_prompt_video_title:"Please generate a few video titles or captions for a product video based on the following details:\nMy product:  [Enter your product type]\nSelling point: [Enter selling point]\nTarget audience: [Enter target audience]",creative_copilot_blog_btn_hover_text:"Learn More",creative_copilot_clear_btn_hover_text:"Clear chat history",creative_copilot_clear_history_hint:"Clear chat history?",creative_copilot_default_hint_insights:"Provide TikTok insights",creative_copilot_default_hint_insights_info:"Show me what's trending on TikTok",creative_copilot_default_hint_report:"Provide a creative analysis report",creative_copilot_default_hint_script:"Write TikTok ad scripts",creative_copilot_default_hint_script_info:"Write a TikTok ad script for my brand",creative_copilot_default_hint_solutions:"Brainstorm TikTok creative ideas",creative_copilot_default_hint_solutions_info:"Give me some creative ideas for my brand",creative_copilot_dirty_hint_text:"Sorry, I cannot continue the conversation. Ask another question.",creative_copilot_disclaimer_text:"TikTok Symphony Assistant content is generated automatically based on information provided by you. TikTok does not make any promises or guarantees regarding the content generated by TikTok Symphony Assistant. It is solely your decision whether to utilize and/or to publish content created using the TikTok Symphony Assistant in ads or other materials. You are solely responsible for any content created using TikTok Symphony Assistant, including ensuring that such content is accurate and compliant with applicable laws and regulations; this created content is not endorsed, sponsored, or approved by TikTok. The information you submit will be shared with our third-party service provider so that TikTok Symphony Assistant can generate content for you. Please do not share any personal, sensitive or confidential information.",creative_copilot_discord_btn_hover_text:"Join Community",creative_copilot_error_hint_text:"Sorry, I cannot continue the conversation. Try again later.",creative_copilot_feedback_dislike_answer_info:"Response disliked",creative_copilot_feedback_dislike_answer_submit_feedback:"Submit feedback",creative_copilot_feedback_hint:"Was this response helpful?",creative_copilot_feedback_reason_not_consider_context:"The answer didn't take previous context into consideration",creative_copilot_feedback_reason_not_related:"The answer isn't related to the question",creative_copilot_feedback_reason_not_useful:"The answer isn't very useful",creative_copilot_feedback_reason_offensive_content:"The answer contains offensive content",creative_copilot_feedback_reason_others:"Others",creative_copilot_feedback_title:"Why did you dislike the response?",creative_copilot_fold_btn_hover_text:"Fold",creative_copilot_form_business_objective_label_text:"Objective",creative_copilot_form_industry_label_text:"Industry",creative_copilot_form_info_text:"Please provide your campaign details to help us generate creative ideas that are more specific, relevant, and customized for you.",creative_copilot_form_region_label_text:"Region",creative_copilot_form_search_industry_placeholder_text:"Enter you industry",creative_copilot_form_search_objective_placeholder_text:"Enter you objective",creative_copilot_form_search_placeholder_text:"Please enter",creative_copilot_form_search_region_placeholder_text:"Enter your region",creative_copilot_form_select_error_message_text:"Please select at least one option.",creative_copilot_form_select_industry_placeholder_text:"Select your industry",creative_copilot_form_select_objective_placeholder_text:"Select your objective",creative_copilot_form_select_placeholder_text:"Please select",creative_copilot_form_select_region_placeholder_text:"Select your region",creative_copilot_full_screen_btn_hover_text:"Expand",creative_copilot_info:"Spark your creativity with Symphony Assistant",creative_copilot_info_new:"Your collaborator for TikTok creatives",creative_copilot_input_empty:"Empty input",creative_copilot_input_invalid:"Invalid text",creative_copilot_input_placeholder:"Ask me questions about creatives",creative_copilot_input_placeholder_new:"Ask anything...",creative_copilot_name:"Symphony Assistant",creative_copilot_no_text:"No",creative_copilot_not_support_lang_hint_text:"Unfortunately, Symphony Assistant only supports English, Japanese, Chinese, Vietnamese, Thai, Portuguese, Indonesian, Spanish, and German at this time. We're working to support more languages in the future!",creative_copilot_off_screen_btn_hover_text:"Minimize",creative_copilot_only_english_hint_text:"Unfortunately, Symphony Assistant only supports English at this time. We apologize for the inconvenience, and we're working to support more languages in the future!",creative_copilot_page_hint:"Get your creative with Symphony Assistant!",creative_copilot_page_hint_info:"Examples of what you can ask me:",creative_copilot_progress_step1_hint:"Analyzing your question...",creative_copilot_progress_step2_hint:"Just a moment, almost there!",creative_copilot_progress_step3_hint:"Preparing a response.",creative_copilot_recall_hint_text:"Sorry, the generated answer contains sensitive content and cannot be shared. To continue the conversation, please ask another question.",creative_copilot_recall_message_hint:"This message was recalled",creative_copilot_stop_responding_hint:"Stop response generation",creative_copilot_stop_responding_res_hint:"You have stopped the response",creative_copilot_symphony_ask_me_anything:"Ask me anything",creative_copilot_symphony_help_me_do_market:"Help me do market research about lipstick",creative_copilot_symphony_market_research:"Market Research",creative_copilot_symphony_provide_a_creative_analysis:"Provide a creative analysis report",creative_copilot_symphony_provide_tiktok_insights:"Provide TikTok insights",creative_copilot_symphony_recents:"Recents",creative_copilot_symphony_second_question:"Second Question",creative_copilot_symphony_show_me_whats_trending:"Show me what\u2019s trending on tiktok",creative_copilot_symphony_was_this_response_helpful:"Was this response helpful?",creative_copilot_symphony_welcome_to_symphony_assistant:"Welcome to Symphony Assistant",creative_copilot_symphony_write_a_few_attention:"Write a few attention grabbers for my brand promoting lipstick",creative_copilot_symphony_write_tiktok_ad_scripts:"Write Tiktok ad scripts",creative_copilot_view_top_ad_text:"View Top Ad",creative_copilot_yes_text:"Yes",creative_genai_consent_prompt:"By inputting a webpage, you are granting TikTok permission to scan, download, and use texts, images, and other assets located on that webpage. You confirm that you own the necessary legal rights to the assets located on the webpage and that you have permission to share the assets with TikTok for use on your behalf on Symphony Assistant",creative_genai_consent_terms_agreement_prompt:"By sending prompts, you agree that the {creative_genai_terms} and the {tiktok_partner_privacy_policy} shall apply to your use of the TikTok Symphony Assistant.",creative_genai_terms:"Creative GenAI Terms",creative_genai_terms_link:"Creative GenAI Terms",creative_script_generator_terms_agree:'By clicking "Generate scripts", you agree that the {creative_genai_terms} shall apply to your use of the TikTok Script Generator.',dislike:"Dislike",dislike_text:"Dislike",enter_text:"Enter",expand_all:"Expand All",explore_ai_toolset:"Experience the power of",feedback:"Give feedback",feedback_message:"Thanks for your feedback!",feedback_question:"Are you happy with Symphony Assistant?",gameplay_commentation:"Gameplay commentation",general:"General",generating:"Generating...",generation_stopped:"Generation Stopped",guide_info:"Experience and experiment TikTok\u2019s latest advances in generative AI.",hide_text:"Hide",hint_short_text_longer:"Make it longer.",hint_short_text_professional:"Make it more professional.",hint_short_text_shorter:"Make it shorter.",hint_short_text_tiktoky:"Make it more native to TikTok.",image_to_video:"Image-to-Video",image_to_video_desc:"Automatically transform images into TikTok-style videos",join_our_community:"Join our community",label_logout:"Exit",leave_page_info:"The script you are working on will not be saved. Are you sure you want to leave the page?",like:"Like",like_text:"Like",liked_text:"Liked",loading_text:"Loading...",localstorage_limit_dialog_confirm_btn:"Clear now",localstorage_limit_dialog_content:"Storage limit has been reached. Clear the cache to ensure smooth usage.",localstorage_limit_dialog_title:"Storage limit reached",log_in_hint:"Log In",login_btn:"Log in",login_to_continue_text:"Login to continue",logout:"Log Out",menu:"Menu",more_feedback:"Enter feedback",most_used_music:"Most used music",multi_scenario_product_showcase:"Multi-scenario product showcase",new_chat:"New chat",new_chat_question:"Do you want to start a new chat? You will lose your chat history.",no_authorization_info_text:"Generative AI is only accessible to a specific set of users at this time; please stay tuned for future updates!",no_authorization_text:"No authorization",note_text:"Note",open_browser:"Open in browser?",post_num:"posts",posts:"Posts",product_showcase:"Product showcase",product_testing:"Product testing",product_unboxing:"Product unboxing",recent_chats:"History",regenerate_text:"Regenerate",related_video:"Related videos",required_text:"Required",resp_hint_ask_product:"Got it. In order for me to show you relevant ideas, please tell me the name of your product and its selling point.",resp_hint_top:"OK. Here's a snapshot of the latest trends tailored for you.",scenario_based_product_showcase:"Scenario-based product showcase",seo_keywords_ai_script:"ai script, creative script, tiktok script, tiktok style, script production, creative ai, ai, ai tool, aigc, product industry, creative center, tiktok creative, tiktok",seo_keywords_creative_ai:"creative ai, ai script, creative script, tiktok script, tiktok style, video hook, video scene, video ads, ai playground, ai, ai tool, aigc, creative center, tiktok creative, tiktok",show_less:"show less",show_more_text:"Show more",sign_up_action_label:"Sign Up Now",sign_up_hint:"Sign up",sign_up_prefix_label:"Don't have an account yet?",smart_script:"Script generator",smart_script_info:"Generate TikTok-style scripts automatically",source_text:"Mentioned source links",stop_generating:"Stop",stop_text:"Stop",submit:"Submit",submit_text:"Submit",summary_brief_generation_fail:"Generation failed: not enough top ads matched your search to generate a summary, expand your filter and try again.",summary_brief_title_w_keyword:"Creative patterns for",summary_brief_title_wo_keyword:"Frequently used creative patterns",summary_copy_title_brief:"Creative patterns from search results",summary_copy_title_detail:"Creative elements from search results",summary_copy_topads_title_w_keyword:"Search result: top ads about",summary_copy_topads_title_wo_keyword:"Search result: top ads based on filters",summary_detail_generation_fail:"Failed to generate creative elements",summary_detail_title_w_keyword:"Creative elements for",summary_detail_title_wo_keyword:"Frequently used creative elements",summary_disclaimer:"Note: the following content is generated by Symphony Assistant",summary_feedback_dislike_select_1:"The summary is not related to the topads",summary_feedback_dislike_select_2:"The summary contains offensive content",summary_feedback_dislike_select_3:"The answer is not useful",summary_feedback_dislike_select_4:"Other",summary_feedback_dislike_title:"Why did you dislike the summary\uff1f",summary_feedback_success_msg:"Received successfully! Thank you for your feedback.",summary_feedback_thankyou:"Thank you for your feedback",summary_loading_detail_w_keyword:"Generating creative elements for",summary_loading_detail_wo_keyword:"Generating creative elements:",summary_loading_msg_1:"Ready to generate a summary for",summary_loading_msg_2:"Generating a summary for",summary_magic_analysis:"Video analysis",summary_magic_brief_title:"Script analysis",summary_magic_copy_brief_title:"Script analysis",summary_magic_copy_detail_title:"Key creative elements",summary_magic_copy_fomula_title:"Script golden formula",summary_magic_detail_title:"Key creative elements",summary_magic_generation_fail:"Generation failed",summary_magic_loading_title:"Video analysis",summary_topads_title:"Summary of top ads",text_to_voice_over:"Text-to-Speech",text_to_voice_over_desc:"Convert text to video voice-overs",tiktok_partner_privacy_policy:"TikTok Partner Privacy Policy",tool_item_ai_script_name:"Script Generator",top_hashtags:"Top Hashtags",trend_idea_hint:"Give me creative ideas based on what\u2019s trending",ttba_copilot_info:"Your collaborator for TikTok creatives",untitled_chat:"Untitled Chat",video_to_music:"Music Generator",video_to_music_desc:"Generate novel soundtracks customized & synced to your video",video_with_green_screen_background:"Video with green-screen background",view_all_hashtags:"View all hashtags",view_in_browser:"The ad will open in your browser",view_less:"View less",view_less_text:"View less",view_more:"View more",view_more_on_tt:"View more on TikTok ",view_more_text:"View more",view_num:"views",views:"Views",we_love_to_hear_from_you:"We'd love to hear from you"},dislike:"Dislike",dislike_text:"Dislike",enter_text:"Enter",expand_all:"Expand All",explore_ai_toolset:"Experience the power of",feedback:"Give feedback",feedback_message:"Thanks for your feedback!",feedback_question:"Are you happy with Symphony Assistant?",gameplay_commentation:"Gameplay commentation",general:"General",generating:"Generating...",generation_stopped:"Generation Stopped",guide_info:"Experience and experiment TikTok\u2019s latest advances in generative AI.",hide_text:"Hide",hint_short_text_longer:"Make it longer.",hint_short_text_professional:"Make it more professional.",hint_short_text_shorter:"Make it shorter.",hint_short_text_tiktoky:"Make it more native to TikTok.",image_to_video:"Image-to-Video",image_to_video_desc:"Automatically transform images into TikTok-style videos",join_our_community:"Join our community",label_logout:"Exit",leave_page_info:"The script you are working on will not be saved. Are you sure you want to leave the page?",like:"Like",like_text:"Like",liked_text:"Liked",loading_text:"Loading...",localstorage_limit_dialog_confirm_btn:"Clear now",localstorage_limit_dialog_content:"Storage limit has been reached. Clear the cache to ensure smooth usage.",localstorage_limit_dialog_title:"Storage limit reached",log_in_hint:"Log In",login_btn:"Log in",login_to_continue_text:"Login to continue",logout:"Log Out",menu:"Menu",more_feedback:"Enter feedback",most_used_music:"Most used music",multi_scenario_product_showcase:"Multi-scenario product showcase",new_chat:"New chat",new_chat_question:"Do you want to start a new chat? You will lose your chat history.",no_authorization_info_text:"Generative AI is only accessible to a specific set of users at this time; please stay tuned for future updates!",no_authorization_text:"No authorization",note_text:"Note",open_browser:"Open in browser?",post_num:"posts",posts:"Posts",product_showcase:"Product showcase",product_testing:"Product testing",product_unboxing:"Product unboxing",recent_chats:"History",regenerate_text:"Regenerate",related_video:"Related videos",required_text:"Required",resp_hint_ask_product:"Got it. In order for me to show you relevant ideas, please tell me the name of your product and its selling point.",resp_hint_top:"OK. Here's a snapshot of the latest trends tailored for you.",scenario_based_product_showcase:"Scenario-based product showcase",seo_keywords_ai_script:"ai script, creative script, tiktok script, tiktok style, script production, creative ai, ai, ai tool, aigc, product industry, creative center, tiktok creative, tiktok",seo_keywords_creative_ai:"creative ai, ai script, creative script, tiktok script, tiktok style, video hook, video scene, video ads, ai playground, ai, ai tool, aigc, creative center, tiktok creative, tiktok",show_less:"show less",show_more_text:"Show more",sign_up_action_label:"Sign Up Now",sign_up_hint:"Sign up",sign_up_prefix_label:"Don't have an account yet?",smart_script:"Script generator",smart_script_info:"Generate TikTok-style scripts automatically",source_text:"Mentioned source links",stop_generating:"Stop",stop_text:"Stop",submit:"Submit",submit_text:"Submit",summary_brief_generation_fail:"Generation failed: not enough top ads matched your search to generate a summary, expand your filter and try again.",summary_brief_title_w_keyword:"Creative patterns for",summary_brief_title_wo_keyword:"Frequently used creative patterns",summary_copy_title_brief:"Creative patterns from search results",summary_copy_title_detail:"Creative elements from search results",summary_copy_topads_title_w_keyword:"Search result: top ads about",summary_copy_topads_title_wo_keyword:"Search result: top ads based on filters",summary_detail_generation_fail:"Failed to generate creative elements",summary_detail_title_w_keyword:"Creative elements for",summary_detail_title_wo_keyword:"Frequently used creative elements",summary_disclaimer:"Note: the following content is generated by Symphony Assistant",summary_feedback_dislike_select_1:"The summary is not related to the topads",summary_feedback_dislike_select_2:"The summary contains offensive content",summary_feedback_dislike_select_3:"The answer is not useful",summary_feedback_dislike_select_4:"Other",summary_feedback_dislike_title:"Why did you dislike the summary\uff1f",summary_feedback_success_msg:"Received successfully! Thank you for your feedback.",summary_feedback_thankyou:"Thank you for your feedback",summary_loading_detail_w_keyword:"Generating creative elements for",summary_loading_detail_wo_keyword:"Generating creative elements:",summary_loading_msg_1:"Ready to generate a summary for",summary_loading_msg_2:"Generating a summary for",summary_magic_analysis:"Video analysis",summary_magic_brief_title:"Script analysis",summary_magic_copy_brief_title:"Script analysis",summary_magic_copy_detail_title:"Key creative elements",summary_magic_copy_fomula_title:"Script golden formula",summary_magic_detail_title:"Key creative elements",summary_magic_generation_fail:"Generation failed",summary_magic_loading_title:"Video analysis",summary_topads_title:"Summary of top ads",text_to_voice_over:"Text-to-Speech",text_to_voice_over_desc:"Convert text to video voice-overs",tiktok_partner_privacy_policy:"TikTok Partner Privacy Policy",tool_item_ai_script_name:"Script Generator",top_hashtags:"Top Hashtags",trend_idea_hint:"Give me creative ideas based on what\u2019s trending",ttba_copilot_info:"Your collaborator for TikTok creatives",untitled_chat:"Untitled Chat",video_to_music:"Music Generator",video_to_music_desc:"Generate novel soundtracks customized & synced to your video",video_with_green_screen_background:"Video with green-screen background",view_all_hashtags:"View all hashtags",view_in_browser:"The ad will open in your browser",view_less:"View less",view_less_text:"View less",view_more:"View more",view_more_on_tt:"View more on TikTok ",view_more_text:"View more",view_num:"views",views:"Views",we_love_to_hear_from_you:"We'd love to hear from you"}}}},null===(Fe=$e.intl)||void 0===Fe?void 0:Fe.intlOptions)})),(Ye=(0,i.Z)((0,i.Z)({},{serverBase:["/business/copilot"],routesConfig:{routes:be,globalApp:!1}}),null==$e?void 0:$e.router),(0,a._)((0,o._)({},Ge(Ye||{})),{name:"@edenx/plugin-router"})),Ue((0,i.Z)((0,i.Z)({},{app_id:465933,channel:"sg",useOverseaTea:!0,Collector:et.P}),null==$e?void 0:$e.tea))]},He=Ke.plugins,We=void 0===He?[]:He,Je=Ke.extra,Xe=void 0===Je?{}:Je,Ze=Ke.props,me({props:Ze,plugins:(0,s._)(We).concat([{name:"@edenx/plugin-ssr-compat",pre:["@edenx/plugin-ssr"],setup:function(){return{init:function(e,t){var n,i,r=e.context;return r.context=(0,o._)({getInitData:function(){return Object.freeze(r.initialData)},isBrowser:r.isBrowser},r.isBrowser?{request:(null===(n=r.ssrContext)||void 0===n?void 0:n.request)||{},response:(null===(i=r.ssrContext)||void 0===i?void 0:i.response)||{}}:r.ssrContext||{}),t({context:r})},pickContext:function(e,t){var n=e.context,i=e.pickedContext;return delete i.request,delete i.response,t({context:n,pickedContext:(0,a._)((0,o._)({},i),{context:n.context})})}}}},{name:"@edenx/plugin-context-compat",setup:function(){return{init:function(e,t){var n=e.context;return n.extra=(0,o._)({},(null==n?void 0:n.extra)||{},Xe),n.utils=n.utils||{},Object.defineProperty(n,"_context",{get:function(){return n.context}}),Object.defineProperty(n,"_utils",{get:function(){return n.utils}}),delete n.isBrowser,t({context:n})},pickContext:function(e,t){var n=e.context,i=e.pickedContext;return t({context:n,pickedContext:(0,a._)((0,o._)({},i),{utils:n.utils,context:n.context,extra:n.extra,Plugins:(0,o._)({},n.Plugins||{}),get _context(){return n.context},get _utils(){return n.utils}})})}}}}])}))()).init||"undefined"==typeof appInit||(nt.init=appInit),tt&&ve(nt,"root",null,r)},18011:function(e,t,n){"use strict";n.d(t,{J:function(){return r}});var i=n(51810),r=(0,i.createContext)({});(0,i.createContext)({})},83137:function(e,t){"use strict";var n=function(){return n=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};function i(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(C){r={error:C}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function r(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var o=10,a=1e3,s=function(e){return JSON.stringify({ev_type:"batch",list:e})};var c=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],u=function(){return{}};function l(e){return e}function p(e){return"object"==typeof e&&null!==e}var f=Object.prototype;function d(e){if(p(e)){if("function"==typeof Object.getPrototypeOf){var t=Object.getPrototypeOf(e);return t===f||null===t}return"[object Object]"===f.toString.call(e)}return!1}function h(e){return"[object Array]"===f.toString.call(e)}function g(e){return"function"==typeof e}function _(e){return"number"==typeof e}function m(e){return"string"==typeof e}function v(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){var i=n({},e);for(var r in t)v(t,r)&&void 0!==t[r]&&(p(t[r])&&d(t[r])?i[r]=y(p(e[r])?e[r]:{},t[r]):h(t[r])&&h(e[r])?i[r]=b(e[r],t[r]):i[r]=t[r]);return i}function b(e,t){var n=h(e)?e:[],i=h(t)?t:[];return Array.prototype.concat.call(n,i).map((function(e){return e instanceof RegExp?e:p(e)&&d(e)?y({},e):h(e)?b([],e):e}))}function w(e,t){if(!h(e))return!1;if(0===e.length)return!1;for(var n=0;n<e.length;){if(e[n]===t)return!0;n++}return!1}var E=function(e,t){if(!h(e))return e;var n=e.indexOf(t);if(n>=0){var i=e.slice();return i.splice(n,1),i}return e},S=function(e,t,n){for(var r,o=i(t.split(".")),a=o[0],s=o.slice(1);e&&s.length>0;)e=e[a],a=(r=i(s))[0],s=r.slice(1);if(e)return n(e,a)},k=function(e){return e.replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"-"+n.toLowerCase()}))};function T(e){return h(e)&&e.length?function(e){for(var t=[],n=e.length,i=0;i<n;i++){var r=e[i];m(r)?t.push(r.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):r&&r.source&&t.push(r.source)}return new RegExp(t.join("|"),"i")}(e):null}function x(e){try{return m(e)?e:JSON.stringify(e)}catch(t){return"[FAILED_TO_STRINGIFY]:"+String(t)}}var A=function(e,t,n,o){return void 0===o&&(o=!0),function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(!e)return u;var c=e[t],l=n.apply(void 0,r([c],i(a),!1)),p=l;return g(p)&&o&&(p=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return l.apply(this,e)}catch(Zn){return g(c)&&c.apply(this,e)}}),e[t]=p,function(n){n||(p===e[t]?e[t]=c:l=c)}}},O=function(e,t,n){return function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];if(!e)return u;var s=e[t],c=n.apply(void 0,r([s],i(o),!1)),l=c;return g(l)&&(l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c.apply(this,e)}),e[t]=l,function(){l===e[t]?e[t]=s:c=s}}},R="".padStart?function(e,t){return void 0===t&&(t=8),e.padStart(t," ")}:function(e){return e},I=0,C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,r(["[SDK]",Date.now(),R(""+I++)],i(e),!1))},D=0,P=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.warn.apply(console,r(["[SDK]",Date.now(),R(""+D++)],i(e),!1))},N=function(e){return Math.random()<Number(e)},L=function(e,t){return e<Number(t)},M=function(e){return function(t){for(var n=t,i=0;i<e.length&&n;i++)try{n=e[i](n)}catch(r){C(r)}return n}};function G(){var e=function(){for(var e=new Array(16),t=0,n=0;n<16;n++)0==(3&n)&&(t=4294967296*Math.random()),e[n]=t>>>((3&n)<<3)&255;return e}();return e[6]=15&e[6]|64,e[8]=63&e[8]|128,function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);var i=0,r=t;return[r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],"-",r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]],r[e[i++]]].join("")}(e)}var z=function(e,t){var n=[];try{n=t.reduce((function(t,n){try{var i=n(e);"function"==typeof i&&t.push(i)}catch(Zn){}return t}),[])}catch(Zn){}return function(e){return z(e,n)}},j=function(e){void 0===e&&(e=3e5);var t,n=[],i=[],r=!1,o=function(e,t,n){var i=0;return-1===n?u:function(){if(e())return i&&clearTimeout(i),void(i=0);0===i&&(i=setTimeout(t,n))}}((function(){return!!n.length}),(function(){r=!0,t&&t[0](),i.forEach((function(e){return e()})),i.length=0,t=void 0}),e),a=function(e){n=E(n,e),!r&&o()};return{next:function(e){return z(e,n)},complete:function(e){i.push(e)},attach:function(e,n){t=[e,n]},subscribe:function(e){if(r)throw new Error("Observer is closed");return n.push(e),t&&t[1]&&t[1](e),o(),function(){return a(e)}},unsubscribe:a}},U=function(e,t,n){var i=j(n);try{e(i.next,i.attach),t&&i.complete(t)}catch(Zn){}return[i.subscribe,i.unsubscribe]},B=function(e,t){var n=i(e,1)[0];return function(e,i){var r=n((function(n){var i;return(i=t,function(e){for(var t=!0,n=0;n<i.length&&t;n++)try{t=i[n](e)}catch(r){C(r)}return t})(n)?e(n):u}));i((function(){r()}))}};var V=function(e,t,n,i){return e.destroyAgent.set(t,n,i)};function q(e){var t,n,o=e.builder,a=e.createSender,s=e.createDefaultConfig,u=e.createConfigManager,l=e.userConfigNormalizer,f=e.initConfigNormalizer,d=e.validateInitConfig,h={};c.forEach((function(e){return h[e]=[]}));var g=!1,_=!1,m=!1,v=[],y=[],b=function(){var e=!1,t={},n=function(e){e.length&&e.forEach((function(e){try{e()}catch(Zn){}})),e.length=0},i=function(e){t[e]&&t[e].forEach((function(e){n(e[1])})),t[e]=void 0};return{set:function(i,r,o){t[i]?t[i].push([r,o]):t[i]=[[r,o]],e&&n(o)},has:function(e){return!!t[e]},remove:i,removeByEvType:function(e){Object.keys(t).forEach((function(i){t[i]&&t[i].forEach((function(t){t[0]===e&&n(t[1])}))}))},clear:function(){e=!0,Object.keys(t).forEach((function(e){i(e)}))}}}(),S={getBuilder:function(){return o},getSender:function(){return t},getPreStartQueue:function(){return v},init:function(e){if(g)P("already inited");else{if(!(e&&p(e)&&d(e)))throw new Error("invalid InitConfig, init failed");var i=s(e);if(!i)throw new Error("defaultConfig missing");var r=f(e);if((n=u(i)).setConfig(r),n.onChange((function(){k("config")})),!(t=a(n.getConfig())))throw new Error("sender missing");g=!0,k("init",!0)}},set:function(e){g&&e&&p(e)&&(k("beforeConfig",!1,e),null==n||n.setConfig(e))},config:function(e){if(g)return e&&p(e)&&(k("beforeConfig",!1,e),null==n||n.setConfig(l(e))),null==n?void 0:n.getConfig()},provide:function(e,t){w(y,e)?P("cannot provide "+e+", reserved"):(S[e]=t,k("provide",!1,e))},start:function(){var e=this;g&&(_||null==n||n.onReady((function(){_=!0,k("start",!0),v.forEach((function(t){return e.build(t)})),v.length=0})))},report:function(e){if(e){var t=M(h.beforeReport)(e);if(t){var n=M(h.report)(t);n&&(_?this.build(n):v.push(n))}}},build:function(e){if(_){var t=M(h.beforeBuild)(e);if(t){var n=o.build(t);if(n){var i=M(h.build)(n);i&&this.send(i)}}}},send:function(e){if(_){var n=M(h.beforeSend)(e);n&&(t.send(n),k("send",!1,n))}},destroy:function(){b.clear(),m=!0,v.length=0,k("beforeDestroy",!0)},on:function(e,t){if("init"===e&&g||"start"===e&&_||"beforeDestroy"===e&&m)try{t()}catch(n){}else h[e]&&h[e].push(t)},off:function(e,t){h[e]&&(h[e]=E(h[e],t))},destroyAgent:b};return y=Object.keys(S),S;function k(e,t){void 0===t&&(t=!1);for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];h[e].forEach((function(e){try{e.apply(void 0,r([],i(n),!1))}catch(t){}})),t&&(h[e].length=0)}}var F=function(e){var t=function(){var e={},t={},i={set:function(n,r){return e[n]=r,t[n]=x(r),i},merge:function(r){return e=n(n({},e),r),Object.keys(r).forEach((function(e){t[e]=x(r[e])})),i},delete:function(n){return delete e[n],delete t[n],i},clear:function(){return e={},t={},i},get:function(e){return t[e]},toString:function(){return n({},t)}};return i}();e.provide("context",t),e.on("report",(function(e){return e.extra||(e.extra={}),e.extra.context=t.toString(),e}))},K=function(e,t,n){var o={},a=function(){for(var n,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var u=s[0];if(u){var l=u.split(".")[0];if(!(l in a)){var p=o[l]||[],f=null!==(n=null==t?void 0:t(e))&&void 0!==n?n:{};return p.push(r([f],i(s),!1)),void(o[l]=p)}return function(e,t,n){return S(e,t,(function(e,t){if(e&&t in e&&g(e[t]))try{return e[t].apply(e,n)}catch(i){return}}))}(a,u,[].slice.call(s,1))}};for(var s in A(e,"provide",(function(t){return function(n,i){a[n]=i,t.call(e,n,i)}}))(),e)Object.prototype.hasOwnProperty.call(e,s)&&(a[s]=e[s]);return e.on("provide",(function(t){o[t]&&(o[t].forEach((function(t){var r=i(t),o=r[0],a=r.slice(1);null==n||n(e,o,a)})),o[t]=null)})),a};function H(e,t){return e.initSubject(t)}function W(e,t,n){var r=i(t,2),o=r[0],a=r[1],s=e.privateSubject||{};return s[o]||(s[o]=U(a,(function(){s[o]=void 0}),n)),s[o]}var J=function(){return Date.now()};function X(){if("object"==typeof window&&p(window))return window}function Z(){if("object"==typeof document&&p(document))return document}function Y(){if(X()&&p(window.performance))return window.performance}function $(){if("function"==typeof XMLHttpRequest&&g(XMLHttpRequest))return XMLHttpRequest}function Q(){if(X()&&g(window.MutationObserver))return window.MutationObserver}function ee(){if(X()&&g(window.PerformanceObserver))return window.PerformanceObserver}function te(){var e=function(){if(X()&&"navigator"in window)return window.navigator}();if(e)return e.connection||e.mozConnection||e.webkitConnection}function ne(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(u){var e=0,t=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(u.stack),n=t&&t[2]||!1,i=t&&t[3]||0,r=document.location.href.replace(document.location.hash,""),o="",a=document.getElementsByTagName("script");if(n===r){var s=document.documentElement.outerHTML,c=new RegExp("(?:[^\\n]+?\\n){0,"+(i-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");o=s.replace(c,"$1").trim()}for(;e<a.length;e++){if("interactive"===a[e].readyState)return a[e];if(a[e].src===n)return a[e];if(n===r&&a[e].innerHTML&&a[e].innerHTML.trim()===o)return a[e]}return null}}function ie(e){var t=Z();if(!t||!e)return"";var n=t.createElement("a");return n.href=e,n.href}function re(e){var t=Z();if(!t||!e)return{url:e,protocol:"",domain:"",query:"",path:"",hash:""};var n=t.createElement("a");n.href=e;var i=n.pathname||"/";return"/"!==i[0]&&(i="/"+i),{url:n.href,protocol:n.protocol.slice(0,-1),domain:n.hostname,query:n.search.substring(1),path:i,hash:n.hash}}function oe(){var e=X()&&X()&&window.location;return null==e?void 0:e.href}var ae=function(e){return{pid:e.pid,view_id:e.viewId,url:oe()}},se=function(e){var t=e.config(),n=ae(t);return n.context=e.context?e.context.toString():{},n},ce=function(e,t){void 0===t&&(t=!1);var i=se(e);return t&&(i.timestamp=J()),function(t){e.report(n(n({},t),{overrides:i}))}},ue="view_0",le=function(e){return function(t,i){var r=se(e),o=function(i){var o;i.viewId&&i.viewId!==(null===(o=e.config())||void 0===o?void 0:o.viewId)&&(t(r),r=n(n({},se(e)),ae(i)))};e.on("beforeConfig",o),i((function(){e.off("beforeConfig",o)}))}},pe=function(e){return function(t,n){var i=se(e);n(u,(function(e){i&&e(i)}))}},fe=function(e){if(e)return e.__SLARDAR_REGISTRY__||(e.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),e.__SLARDAR_REGISTRY__.Slardar},de=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=fe(X());n&&(n.errors||(n.errors=[]),n.errors.push(e))},he=function(e,t){var n=e&&new e(t);return[function(e,t){n&&e&&n.observe(e,t)},function(){return n&&n.disconnect()}]},ge=function(e){var t=e&&e.timing||void 0;return[t,function(){return e&&e.now?e.now():(Date.now?Date.now():+new Date)-(t&&t.navigationStart||0)},function(t){var n=(e||{}).getEntriesByType;return g(n)&&n.call(e,t)||[]},function(){var t=(e||{}).clearResourceTimings;g(t)&&t.call(e)},function(t){var n=(e||{}).getEntriesByName;return g(n)&&n.call(e,t)||[]}]},_e=function(e){var t={url:oe(),timestamp:J()},n=e.config();return(null==n?void 0:n.pid)&&(t.pid=n.pid),(null==e?void 0:e.context)&&(t.context=e.context.toString()),t},me=function(e,t){return function(n){var i=function(e){return e.overrides=t,e};e.on("report",i),n(),e.off("report",i)}};var ve=function(e){var t=!1;return[function(n){t||(t=!0,e&&e(n))}]},ye=function(e,t){var n,i=Z();if(i){var r=i.createElement("script");r.src=e,r.crossOrigin="anonymous",r.onload=t,null===(n=i.head)||void 0===n||n.appendChild(r)}},be=function(e,t){return p(e)?n(n({},t),e):!!e&&t},we=function(){return!!btoa&&!!atob};var Ee=function(e){try{var t=localStorage.getItem(e),n=t;t&&"string"==typeof t&&(n=JSON.parse((a=t,we()?decodeURI(atob(a)):a)));var i=n,r=i.expires,o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(i,["expires"]);return r>=J()?o:void 0}catch(s){return}var a},Se=function(e,t,i){var r;if(!(i<=0))try{localStorage.setItem(e,(r=JSON.stringify(n(n({},t),{expires:J()+i})),we()?btoa(encodeURI(r)):r))}catch(o){}},ke=function(e){return!1===e?0:!0!==e&&void 0!==e&&_(e)?e:7776e6},Te="xhr_0",xe=function(e){return function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t=i(n,2),this._method=t[0],this._url=t[1],e.apply(this,n)}},Ae=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._reqHeaders=this._reqHeaders||{};var r=i(t,2),o=r[0],a=r[1];return this._reqHeaders[o]=a,e&&e.apply(this,t)}},Oe=function(e,t){var n,i=(n=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i"),function(e){return n.test(e)});return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];(this._start=J(),this._data=null==n?void 0:n[0],i(this._url))||function(e,t){return O(e,"onreadystatechange",(function(n){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return 4===this.readyState&&t(e),n&&n.apply(this,i)}}))}(this,t([this._method,this._url,this._start,this]))();return e.apply(this,n)}},Re=function(e){return function(t,n){if(e){var i=[];i.push(O(e,"open",xe)()),i.push(O(e,"setRequestHeader",Ae)()),i.push(O(e,"send",Oe)(t)),n((function(){i.forEach((function(e){return e()}))}))}}},Ie=function(e,t){return function(n,i){void 0===i&&(i={});var r=t([n,i]),o=e(n,i);return o.then((function(e){r(e)}),(function(){r(void 0)})),o}},Ce=["fetch_0",function(e,t){var n=X();if(n&&fetch){var i=[];i.push(O(n,"fetch",Ie)(e)),t((function(){i.forEach((function(e){return e()}))}))}}],De=["resource"],Pe=["longtask"],Ne=function(e,t,n){var r=i(function(e,t,n){var i=e&&new e((function(e,i){e.getEntries?e.getEntries().forEach((function(e,n,r){return t(e,n,r,i)})):n&&n()}));return[function(t){if(!e||!i)return n&&n();try{i.observe({entryTypes:t})}catch(r){return n&&n()}},function(t){if(!e||!i)return n&&n();try{i.observe({type:t,buffered:!0})}catch(r){return n&&n()}i.observe({type:t,buffered:!1})},function(){return i&&i.disconnect()}]}(e,t),3),o=r[0],a=r[2];return o(n),a},Le=["longtask_0",function(e,t){var n=ee();n&&t(Ne(n,e,Pe))}],Me=["resource_0",function(e,t){var n=ee();n&&t(Ne(n,e,De))}],Ge="pageview",ze="session",je="js_error",Ue="http",Be="custom",Ve="performance",qe="action",Fe={sampleRate:1,origins:[]},Ke=function(){var e=window&&(window.crypto||window.msCrypto);if(void 0!==e&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t);var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,(function(){return(16*Math.random()|0).toString(16)}))},He=function(e){var t=be(e,Fe);if(t&&N(t.sampleRate))return function(e,n){var i=t.origins;i.length&&Boolean(e.match(new RegExp(i.join("|"))))&&n("traceparent","03-"+Ke()+"-"+Ke().substring(16)+"-01")}},We=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),Je=new RegExp("(bearer|session)","i"),Xe=function(e,t){var n=T(e||[]);return!!n&&n.test(t)},Ze=function(e,t){return!e||!t||(We.test(e)||Je.test(t))},Ye=function(e,t){try{if(t){var i=e.request.url;e.request.url=t(i),e.extra=n(n({},e.extra),{original_url:i})}}catch(r){}},$e=function(e,t,n){var r=i(t,2),o=r[0],a=r[1],s=n.setTraceHeader,c=n.ignoreUrls,l=n.setContextAtReq,p=n.extractUrl;e.push(o[0]((function(e){var t=i(e,4);t[0];var r=t[1];t[2];var o=t[3];if(!r||Xe(c,r))return u;s&&s(r,(function(e,t){return o.setRequestHeader(e,t)}));var f=l(),d=ie(r),h=void 0,g=a()[0]((function(e){d===e.name&&!h&&(h=e)}));return function(e){var t=Qe(e,n);setTimeout((function(){h&&(t.response.timing=h),Ye(t,p),f&&f({ev_type:Ue,payload:t}),g()}),100)}})))};var Qe=function(e,t){var n,r=e._method,o=e._reqHeaders,a=e._url,s=e._start,c=e._data,u={api:"xhr",request:{url:ie(a),method:(r||"").toLowerCase(),headers:o&&(n=o,Object.keys(n).reduce((function(e,t){return!Ze(t,n[t])&&(e[t.toLowerCase()]=n[t]),e}),{})),timestamp:s},response:{status:e.status||0,is_custom_error:!1,timestamp:J()},duration:J()-s};"function"==typeof e.getAllResponseHeaders&&(u.response.headers=function(e){return m(e)&&e?e.split("\r\n").reduce((function(e,t){if(m(t)){var n=i(t.split(": "),2),r=n[0],o=n[1];!Ze(r,o)&&(e[r.toLowerCase()]=o)}return e}),{}):{}}(e.getAllResponseHeaders()));var l=u.response.status,p=t.collectBodyOnError,f=t.extraExtractor;try{var d=null==f?void 0:f(e.response,u,c);d&&(u.extra=d),d&&(u.response.is_custom_error=!0),p&&(d||l>=400)&&(u.request.body=c?""+c:void 0,u.response.body=e.response?""+e.response:void 0)}catch(h){}return u};function et(e,t,n){var i,r=null===(i=e.config())||void 0===i?void 0:i.plugins[t];return be(r,n)}var tt="ajax",nt={autoWrap:!0,setContextAtReq:function(){return l},ignoreUrls:[],collectBodyOnError:!1};var it=function(e,t,n){var r=i(t,2),o=r[0],a=r[1],s=n.setTraceHeader,c=n.ignoreUrls,l=n.setContextAtReq,p=n.extractUrl,f=window.Headers,d=window.Request;d&&f&&e.push(o[0]((function(e){var t=i(e,2),r=t[0],o=t[1],h=ie(r instanceof d?r.url:r);if(!rt(h)||Xe(c,h))return u;s&&s(h,(function(e,t){return at(e,t,r,o,d,f)}));var g=l(),_=J(),m=void 0,v=a()[0]((function(e){h===e.name&&!m&&(m=e)}));return function(e){var t,i,a=lt(r,o,e,d,f,n,_),s=(t=function(e){m&&(e.response.timing=m),Ye(e,p),g&&g({ev_type:Ue,payload:e}),v()},i=!1,function(e){i||(i=!0,t(e))});setTimeout((function(){s(a)}),1e3)}})))},rt=function(e){if(!m(e))return!1;var t=i(e.split(":"),2),n=t[0];return!t[1]||"http"===n||"https"===n},ot=function(e,t){return e instanceof t},at=function(e,t,i,r,o,a){var s;ot(i,o)?i.headers.set(e,t):r.headers instanceof a?r.headers.set(e,t):r.headers=n(n({},r.headers),((s={})[e]=t,s))},st=function(e,t,n){var i=t&&t.method||"get";return ot(e,n)&&(i=e.method||i),i.toLowerCase()},ct=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];try{return t.reduce((function(t,n){return new e(n||{}).forEach((function(e,n){return!Ze(n,e)&&(t[n]=e)})),t}),{})}catch(Zn){return{}}},ut=function(e,t,n){return ot(e,n)?e.body:null==t?void 0:t.body},lt=function(e,t,n,i,r,o,a){var s={api:"fetch",request:{method:st(e,t,i),timestamp:a,url:ie(e instanceof i?e.url:e),headers:ct(r,e.headers,t.headers)},response:{status:n&&n.status||0,is_custom_error:!1,timestamp:J()},duration:J()-a},c=o.collectBodyOnError,l=o.extraExtractor,p=function(){var n;c&&(s.request.body=null===(n=ut(e,t,i))||void 0===n?void 0:n.toString())};if(n)try{s.response.headers=ct(r,n.headers);try{l&&n.clone().json().then((function(n){var r,o=l(n,s,null===(r=ut(e,t,i))||void 0===r?void 0:r.toString());o&&(s.extra=o,s.response.is_custom_error=!0,p())})).catch(u)}catch(f){}n.status>=400&&p()}catch(Zn){}else p();return s},pt="fetch",ft={autoWrap:!0,setContextAtReq:function(){return l},ignoreUrls:[],collectBodyOnError:!1};var dt=["name","message","stack","filename","lineno","colno"],ht=function(e){var t,n,i,r;return!function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return!0;default:return e instanceof Error}}(e)?(d(e)||(r=e,"undefined"!=typeof Event&&function(e,t){try{return e instanceof t}catch(n){return!1}}(r,Event))||m(e))&&(t={message:x(e)}):(i=dt,t=(n=e)&&p(n)?i.reduce((function(e,t){return e[t]=n[t],e}),{}):n),t},gt=function(e){return t=e,"[object ErrorEvent]"===Object.prototype.toString.call(t)?ht(e.error):function(e){return"[object PromiseRejectionEvent]"===Object.prototype.toString.call(e)}(e)?function(e){var t;try{var i=void 0;if("reason"in e?i=e.reason:"detail"in e&&"reason"in e.detail&&(i=e.detail.reason),i){var r=ht(i);return n(n({},r),{name:null!==(t=r&&r.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(o){}}(e):ht(e);var t},_t="jsError",mt=function(e){return"hidden"===e.visibilityState},vt=["hidden_2",function(e,t){var n=X(),i=Z();if(n&&i){var r=function(){e(mt(i))};addEventListener("visibilitychange",r,!0),t((function(){removeEventListener("visibilitychange",r,!0)}),(function(e){e(mt(i))}))}}],yt=function(e){return"complete"===e.readyState},bt=["load_1",function(e,t){var n=X(),i=Z();if(n&&i){var r=!1,o=function(){setTimeout((function(){e(),r=!0}),0)};yt(i)?o():n.addEventListener("load",o,!1),t((function(){n.removeEventListener("load",o,!1)}),(function(e){r&&e()}))}}],wt=["unload_0",function(e,t){var n=X();if(n){var r=i(ve(e),1)[0],o=["unload","beforeunload","pagehide"],a=function(){r()};o.forEach((function(e){n.addEventListener(e,a)})),t((function(){o.forEach((function(e){n.removeEventListener(e,a)}))}))}}],Et=["hash_0",function(e,t){var n=X();if(n){var i=function(){return e(location.href)};n.addEventListener("hashchange",i,!0),t((function(){return n.removeEventListener("hashchange",i,!0)}))}}],St=["history_0",function(e,t){var n=X()&&window.history;if(n){var i=[],r=function(){return e(location.href)},o=function(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];try{e.apply(n,t)}finally{r()}}};i.push(A(n,"pushState",o)(),A(n,"replaceState",o)()),window.addEventListener("popstate",r,!0),i.push((function(){return window.removeEventListener("popstate",r,!0)})),t((function(){i.forEach((function(e){return e()}))}))}}],kt=function(e){return Tt(e,J())},Tt=function(e,t){return e+"_"+t},xt=function(e){return function(t,n){e(function(e,t){return{ev_type:Ge,payload:{pid:t,source:e}}}(t,n))}},At=function(e){return"manual"===e},Ot="error_weight",Rt="duration_apdex",It="perf_apdex",Ct=function(e,t){var n=e[0]+e[1]+e[2],i=e[0]/n;return e[2]/n>t.frustrating_threshold?2:i>t.satisfying_threshold||0===n?0:1},Dt=function(e,t){return function(n,i){var r=n.payload;switch(n.ev_type){case Ve:var o=r.name;r.isSupport&&e(i[It],o,r.value);break;case qe:e(i[It],"action",r.duration||0);break;case je:t(i[Ot],0);break;case Ue:if(r.response.is_custom_error||r.response.status>=400)t(i[Ot],1);else{var a=r.response.timing;a&&e(i[Rt],0,a.duration)}break;case"resource_error":t(i[Ot],2);break;case"blank_screen":t(i[Ot],3);break;case"resource":e(i[Rt],1,r.duration);break;case"performance_longtask":r.longtasks.forEach((function(t){e(i[Rt],2,t.duration)}))}}},Pt=function(){var e,t,n=function(){e=[0,0,0],t=function(){var e;return(e={error_count:[0,0,0,0],duration_count:[0,0,0]})[It]={},e}()};n();return[function(n,i,r){var o=n&&n[i];if(o&&!(r<=0)){var a=r<(o[0].threshold||0)?0:r>(o[1].threshold||0)?2:1;if(e[a]+=o[a].weight,"string"==typeof i){var s=Tt(i,a),c=t[It][s];t[It][s]=(c||0)+1}else 2===a&&(t.duration_count[i]+=1)}},function(n,i){n&&(e[2]+=n[i],t.error_count[i]+=1)},function(){return[e,t]},n]},Nt=function(e,t,n,r){var o,a,s=r.sendInit,c=r.initPid,u=r.routeMode,l=r.extractPid,p=r.onPidUpdate,f=At(u)?function(){return""}:function(e){return function(t){var n;return"hash"===e?(null===(n=re(t).hash)||void 0===n?void 0:n.replace(/^#/,""))||"/":re(t).path}}(u),d=l||function(){},h=i(function(e,t,n,i){var r=n,o=t;return i&&i(t),[function(t,n,a){"user_set"!==t&&n!==r?(r=n,o=null!=a?a:r,i&&i(o),e(t,o)):"user_set"===t&&n!==o&&(o=n,i&&i(o),e(t,o))},function(){t&&e("init",t)}]}(xt(e),c||function(e){var t;return null!==(t=d(e))&&void 0!==t?t:f(e)}(location.href),f(location.href),p),2),g=h[0],_=h[1];if(!At(u)){var m=i((o=function(e,t){return g(e,f(t),d(t))},a="",[function(e,t){t!==a&&o(e,a=t)}]),1)[0];n.length&&n.forEach((function(e){return t.push(e[0]((function(e){return m(u,e)})))}))}return s&&_(),[g.bind(null,"user_set")]},Lt=function(e,t,n,r){var o,a,s,c=i(n,2),u=c[0],l=c[1],p=2===r.apdex,f=void 0,d=void 0,h=void 0,g=!1,_=i(Pt(),4),m=_[0],v=_[1],y=_[2],b=_[3],w=i(Pt(),4),E=w[0],S=w[1],k=w[2],T=w[3],x=i((o={start:J(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(e,t){var n=i(e,3),r=n[0],a=n[1],s=n[2];o.end=J(),o.time_spent+=t&&t.time_spent||0,o.last_page=t,o.p_count+=1,o.rank=r,o.apdex=a,o.apdex_detail=s;var c=Z();c&&(o.is_bounced=!yt(c))},function(e,t){o.time_spent+=e.time_spent,o.p_count+=1,o.exit=t},function(){o.a_count+=1},function(e){o.entry=e,o.exit=e},function(){return o}]),5),A=x[0],O=x[1],R=x[2],I=x[3],C=x[4],D=i((a=0,s=void 0,[function(e){if(e){if(!s)return;a+=J()-s,s=void 0}else s=J()},function(){s&&(a+=J()-s);var e=a;return a=0,s=J(),e}]),2),P=D[0],N=D[1];t.push(u[0](P)),!p&&t.push(l[0]((function(){if(g){var t=i(k(),2),n=t[0],r=t[1],o=Ct(n,h);A([o,n,r],G()),e({ev_type:ze,payload:C()}),T()}})));var L=Dt(m,v),M=Dt(E,S),G=function(){var e=i(y(),2),t=e[0],n=e[1];return{start:f[0],pid:f[1],view_id:f[2],end:J(),time_spent:N(),apdex:t,rank:Ct(t,h),detail:n}};return t.push((function(){g=!1})),[function(e,t){if(!f)return f=[J(),e,t],I(e),void(g=!(!h||!f));g&&(d=G(),O(d,e)),f=[J(),e,t],b()},function(e){g&&(L(e,h),p||(M(e,h),e.ev_type===qe&&R()))},function(t){g&&(t.payload.last=d),e(t)},function(e){if(!e)return t.forEach((function(e){return e()})),void(t.length=0);g=!(!(h=e)||!f)}]},Mt="pageview",Gt={sendInit:!0,routeMode:"history",apdex:2};var zt={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},jt=function(e,t){return n({name:e,value:t},zt)},Ut=function(e,t,n){var i=!1;return function(r){n.length&&n.forEach((function(e){e()})),n.length=0,i||(i=!0,t&&t(e(r)))}},Bt=function(e,t){return{ev_type:Ve,payload:e,overrides:t}},Vt=5e3,qt=function(e){var t=e||{},n=t.domContentLoadedEventEnd,i=t.navigationStart;return n?n-(void 0===i?0:i):null},Ft=function(e,t){var n=e.startTime,i=e.duration;e.start=n,e.end=n+i,t.push(e)},Kt=function(e,t,n){var r=i(t,5),o=r[0],a=r[1],s=r[2],c=r[3],l=r[4];return function(t,r){var p,f=[],d=[],h=i([p={},function(e,t){return p[e]=t},function(e){return delete p[e]}],3),g=h[0],_=h[1],m=h[2];n.forEach((function(e){e.entryType===Pe[0]&&Ft(e,f)}));var v=0;e.push(o[0]((function(e){if("get"!==(i(e,1)[0]||"").toLowerCase())return u;var t=v+=1;return _(t,J()),function(){m(t)}}))),e.push(a[0]((function(e){var t=i(e,2),n=t[0],r=t[1];if(!window.Request||"get"!==st(n,r,window.Request))return u;var o=v+=1;return _(o,J()),function(){m(o)}})));var y=i(l&&function(e,t){var n=["img","script","iframe","link","audio","video","source"];function r(e,t){for(var n=0;n<e.length;n++)if(w(t,e[n].nodeName.toLowerCase())||e[n].children&&r(e[n].children,t))return!0;return!1}var o=i(he(e,(function(e){for(var i=0;i<e.length;i++)("childList"===e[i].type&&r(e[i].addedNodes,n)||"attributes"===e[i].type&&w(n,e[i].target.nodeName.toLowerCase()))&&t(e[i])})),2),a=o[0];return[function(){return a(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},o[1]]}(l,(function(){return t(r()+Vt)}))||[],2),b=y[0],E=y[1];b&&b();var S=function(){return function(e,t,n){if(e.length>2)return n();for(var r=[],o=0;o<t.length;o++)r.push([t[o].start,0],[t[o].end,1]);for(o=0;o<e.length;o++)r.push([e[o],0]);r.sort((function(e,t){return e[0]-t[0]}));var a=e.length;for(o=r.length-1;o>=0;o--){var s=i(r[o],2),c=s[0];switch(s[1]){case 0:a--;break;case 1:if(++a>2)return c}}return 0}(function(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;i++){var r=e[t[i]];"number"==typeof r&&n.push(r)}return n}(g),d,r)};return E&&e.push(E),e.push(s[0]((function(e){Ft(e,f);var n=e.startTime,i=e.duration;t(n+i+Vt)}))),e.push(c[0]((function(e){var n=e.fetchStart,i=e.responseEnd;d.push({start:n,end:i}),t(S()+Vt)}))),e.push((function(){f.length=0,d.length=0})),[f,S]}},Ht=function(e,t,n,r){var o=i(n,5),a=o[0],s=o[1],c=o[2],u=o[3],l=o[4],p=jt("tti",0),f=Ut(Bt,e,t),d=Y(),h=ee(),g=r||{},_=g.entries,m=void 0===_?[]:_,v=g.observer;if(t.push((function(){v&&v.disconnect(),m.length=0})),!window||!XMLHttpRequest||!d||!h||h.supportedEntryTypes&&!w(h.supportedEntryTypes||[],Pe[0]))return p.isSupport=!1,void f(p);var y=i(ge(d),5),b=y[0],E=y[1],S=y[4],k=i(function(e){var t,n=-1/0,i=void 0,r=function(){return window.clearTimeout(i)},o=function(o){n>o||!t||(r(),i=window.setTimeout(t,o-e()),n=o)};return[function(e,n){t=e,o(n)},function(){r(),t=void 0},o]}(E),3),T=k[0],x=k[1],A=k[2],O=i(Kt(t,[a,s,c,u,Q()],m)(A,E),2),R=O[0],I=O[1];t.push(x);var C=function(e){var t=S("first-contentful-paint")[0],n=function(e,t,n,i,r){if(i-n<Vt)return null;var o=0===r.length?e:r[r.length-1].end;return i-o<Vt?null:Math.max(o,t)}((t?t.startTime:qt(b))||0,qt(b)||0,I(),E(),R);if(!n)return A(E()+1e3);e(n)},D=function(e){p.value=e,f(p)},P=R[R.length-1];T((function(){return C(D)}),Math.max(I()+Vt,P?P.end:0)),t.push(l[0]((function(){p.isSupport=!1,f(p)})))},Wt="tti";var Jt=["SCRIPT","STYLE","META","HEAD"],Xt=function(e,t,n,i){if(!e||i.indexOf(e.tagName)>-1)return 0;var r=e.children,o=void 0===r?[]:r,a=[].slice.call(o).reduceRight((function(e,n){return e+Xt(n,t+1,e>0,i)}),0);if(a<=0&&!n){if(!g(e.getBoundingClientRect))return 0;var s=e.getBoundingClientRect()||{},c=s.top,u=s.height;if(c>window.innerHeight||u<=0)return 0}return a+1+.5*t},Zt=function(e,t,n){var r=i(n,2),o=r[0],a=r[1],s=Z(),c=Q(),l=Y(),p=l&&l.timing&&l.timing.navigationStart||void 0,f=jt("fmp",0),d=Ut(Bt,e,t);if(!s||!c||!p)return f.isSupport=!1,void d(f);var h=J(),_=[],m=function(){return _.push({time:J()-h,score:Xt(s&&s.body,1,!1,Jt)})},v=function(){if(X()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}(),y=function(){if(X()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}(),b=i(function(e,t,n,i){var r,o=!g(t)||i&&e&&e.hidden?function(e){return e(0),0}:t,a=g(n)?n:u;return[function(e){r&&a(r),r=o(e)},o,a]}(s,v,y,!0),1),w=b[0],E=i(he(c,(function(){return w(m)})),2),S=E[0],k=E[1],T=function(e){void 0===e&&(e=0);var t=function(e){var t=i(void 0===e?[]:e),n=t[0],r=t.slice(1);return r&&r.reduce((function(e,t){var n=i(e,2),r=n[0],o=n[1],a=t.score-r.score;return[t,t.time>=r.time&&o.rate<a?{time:t.time,rate:a}:o]}),[n,{time:null==n?void 0:n.time,rate:0}])[1].time||0}(_);f.value=t?t+e:0,d(f),_.length=0},x=h-(p||0);S(s,{subtree:!0,childList:!0}),t.push(k),t.push(a[0]((function(){f.isSupport=!1,d(f)}))),t.push(o[0]((function(){var e,n;e=window.setTimeout((function(){T(x)}),200),n=t,e&&n.push((function(){return clearTimeout(e)}))})))},Yt="fmp",$t={renderType:"CSR"};var Qt=function(e){e.provide("sendEvent",(function(t){var n=function(e){if(e&&p(e)&&e.name&&m(e.name)){var t={name:e.name,type:"event"};if("metrics"in e&&p(e.metrics)){var n=e.metrics,i={};for(var r in n)_(n[r])&&(i[r]=n[r]);t.metrics=i}if("categories"in e&&p(e.categories)){var o=e.categories,a={};for(var r in o)a[r]=x(o[r]);t.categories=a}return t}}(t);n&&e.report({ev_type:Be,payload:n,extra:{timestamp:J()}})})),e.provide("sendLog",(function(t){var n=function(e){if(e&&p(e)&&e.content&&m(e.content)){var t={content:x(e.content),type:"log",level:"info"};if("level"in e&&(t.level=e.level),"extra"in e&&p(e.extra)){var n=e.extra,i={},r={};for(var o in n)_(n[o])?i[o]=n[o]:r[o]=x(n[o]);t.metrics=i,t.categories=r}return t}}(t);n&&e.report({ev_type:Be,payload:n,extra:{timestamp:J()}})}))};function en(e){return(null==e?void 0:e.effectiveType)||(null==e?void 0:e.type)||""}var tn=function(e,t){var n=e.common||{};return n.sample_rate=t,e.common=n,e},nn=function(e,t,n,i,r){return e?(o=r(i,t),function(){return o}):function(){return n(t)};var o},rn=function(e,t,n,i){var r=S(e,t,(function(e,t){return e[t]}));return void 0!==r&&function(e,t,n){switch(n){case"eq":return w(t,e);case"neq":return!w(t,e);case"gt":return e>t[0];case"gte":return e>=t[0];case"lt":return e<t[0];case"lte":return e<=t[0];case"regex":return Boolean(e.match(new RegExp(t.join("|"))));case"not_regex":return!e.match(new RegExp(t.join("|")));default:return!1}}(r,function(e,t){return e.map((function(e){switch(t){case"number":return Number(e);case"boolean":return"1"===e;default:return String(e)}}))}(i,"boolean"==typeof r?"bool":_(r)?"number":"string"),n)},on=function(e,t){try{return"rule"===t.type?rn(e,t.field,t.op,t.values):"and"===t.type?t.children.every((function(t){return on(e,t)})):t.children.some((function(t){return on(e,t)}))}catch(n){return de(n),!1}},an=function(e,t,n,i,r){if(!t)return l;var o=t.sample_rate,a=t.include_users,s=t.sample_granularity,c=t.rules,u=t.r,p=void 0===u?Math.random():u;if(w(a,e))return function(e){return tn(e,1)};var f="session"===s,d=nn(f,o,n,p,i),h=function(e,t,n,i,r,o){var a={};return Object.keys(e).forEach((function(s){var c=e[s],u=c.enable,l=c.sample_rate,p=c.conditional_sample_rules;u?(a[s]={enable:u,sample_rate:l,effectiveSampleRate:l*n,hit:nn(t,l,i,r,o)},p&&(a[s].conditional_hit_rules=p.map((function(e){var a=e.sample_rate,s=e.filter;return{sample_rate:a,hit:nn(t,a,i,r,o),effectiveSampleRate:a*n,filter:s}})))):a[s]={enable:u,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}})),a}(c,f,o,n,p,i);return function(e){var t;if(!d())return f&&r[0](),!1;if(!(e.ev_type in h))return tn(e,o);if(!h[e.ev_type].enable)return f&&r[1](e.ev_type),!1;if(null===(t=e.common)||void 0===t?void 0:t.sample_rate)return e;var n=h[e.ev_type],i=n.conditional_hit_rules;if(i)for(var a=0;a<i.length;a++)if(on(e,i[a].filter))return!!i[a].hit()&&tn(e,i[a].effectiveSampleRate);return n.hit()?tn(e,n.effectiveSampleRate):((!i||!i.length)&&f&&r[1](e.ev_type),!1)}},sn=function(e,t,n){var i=t.url,r=t.data,o=t.success,a=void 0===o?u:o,s=t.fail,c=void 0===s?u:s,l=t.getResponseText,p=void 0===l?u:l,f=t.withCredentials,d=void 0!==f&&f,h=new n;h.withCredentials=d,h.open(e,i,!0),h.setRequestHeader("Content-Type","application/json"),h.onload=function(){null==p||p(this.responseText);try{if(this.responseText){var e=JSON.parse(this.responseText);a(e)}else a({})}catch(t){c(t)}},h.onerror=function(){c(new Error("Network request failed"))},h.onabort=function(){c(new Error("Network request aborted"))},h.send(r)},cn=function(){var e=$();return e?{get:function(t){sn("GET",t,e)},post:function(t){sn("POST",t,e)}}:{get:u,post:u}};function un(e){var t=function(e){var t,n=e.transport,i=e.endpoint,r=e.size,c=void 0===r?o:r,u=e.wait,l=void 0===u?a:u,p=[],f=0;function d(){if(p.length){var e=this.getBatchData();n.post({url:i,data:e,fail:function(n){t&&t(n,e)}}),p=[]}}return{getSize:function(){return c},getWait:function(){return l},setSize:function(e){c=e},setWait:function(e){l=e},getEndpoint:function(){return i},setEndpoint:function(e){i=e},send:function(e){p.push(e),p.length>=c&&d.call(this),clearTimeout(f),f=setTimeout(d.bind(this),l)},flush:function(){clearTimeout(f),d.call(this)},getBatchData:function(){return p.length?s(p):""},clear:function(){clearTimeout(f),p=[]},fail:function(e){t=e}}}(e),n=function(){var e=X();return e&&e.navigator.sendBeacon?{get:function(){},post:function(t,n){e.navigator.sendBeacon(t,n)}}:{get:u,post:u}}(),r=function(e){n.post(t.getEndpoint(),s([e]))};return function(e){var t=X();if(t){var n=i(ve(e),1)[0];["unload","beforeunload","pagehide"].forEach((function(e){t.addEventListener(e,n)}))}}((function(){var e=t.getBatchData();e&&(n.post(t.getEndpoint(),e),t.clear()),t.send=r})),t}var ln="mon-va.byteoversea.com",pn=ln,fn="https://sf16-short-sg.bytedapm.com/slardar/fe/sdk-web/plugins",dn="1.12.0",hn="SDK_SLARDAR_WEB",gn="/monitor_web/settings/browser-settings",_n="/monitor_browser/collect/batch/",mn="SLARDAR",vn=["/log/sentry/",_n,gn],yn="session",bn=["blankScreen","action"],wn={sample_rate:1,include_users:[],sample_granularity:yn,rules:{}},En="";function Sn(e,t,n){void 0===n&&(n=An),function(e){var t=X(),n=Z();t&&n&&("complete"!==n.readyState?t.addEventListener("load",(function(){setTimeout((function(){e()}),0)}),!1):e())}((function(){e.on("init",(function(){n(e,t)}))}))}var kn=function(e,t,n,i){void 0===i&&(i=On);var r=t.config(),o=r.plugins,a=r.pluginBundle,s=e.filter((function(e){return o[e]&&!t.destroyAgent.has(e)})),c=function(){return s.forEach((function(e){return Rn(t,e,n)}))};s.every((function(e){return Cn(e,n)}))?c():i(t,{name:a.name},c)},Tn=function(e,t,n,i){void 0===i&&(i=On);var r=t.config().plugins;e.filter((function(e){return r[e]&&!t.destroyAgent.has(e)})).forEach((function(e){Cn(e,n)?Rn(t,e,n):i(t,{name:e,config:r[e]},(function(){return Rn(t,e,n)}))}))},xn=function(e){return function(t,i){var r,o=e.config().pluginBundle;e.destroyAgent.has(t)&&e.destroyAgent.remove(t),void 0!==i&&e.set({plugins:n(n({},e.config().plugins),(r={},r[t]=i,r))}),o&&~o.plugins.indexOf(t)?kn([t],e):Tn([t],e)}};function An(e,t,n){void 0===n&&(n=On);var i=e.config().pluginBundle,r=i?i.plugins:[];kn(r,e,t,n),Tn(bn,e,t,n),e.provide("reloadPlugin",xn(e))}function On(e,t,n,i){var r=t.name,o=t.config;void 0===i&&(i=ye);var a=function(e,t,n){var i;return null!==(i=null==n?void 0:n.path)&&void 0!==i?i:e.config().pluginPathPrefix+"/"+k(t)+"."+dn+"."+En+"js"}(e,r,o);i(a,(function(){n()}))}function Rn(e,t,n){if(void 0===n&&(n=fe(X())),n){var i=In(n,t);if(i)try{if(e.destroyAgent.has(t))return;i.apply(e)}catch(r){de(r),P("[loader].applyPlugin failed",t,r)}else P("[loader].applyPlugin not found",t)}}function In(e,t){return e.plugins.filter((function(e){return e.name===t&&e.version===dn}))[0]}function Cn(e,t){return void 0===t&&(t=fe(X())),!(!t||!t.plugins)&&!!In(t,e)}function Dn(e,t,n){void 0===n&&(n=fe(X())),n&&n.plugins&&(In(n,e)||n.plugins.push({name:e,version:dn,apply:t}))}function Pn(e){var t=e.plugins||{};for(var i in t)t[i]&&!p(t[i])&&(t[i]={});return n(n({},e),{plugins:t})}function Nn(e){return p(e)&&"bid"in e}function Ln(e){return n({},e)}function Mn(e){var t;if(!e)return{};var n=e.sample,i=e.plugins,r=e.timestamp,o=e.quota_rate,a=void 0===o?1:o,s=e.apdex;if(!n)return{};var c=n.sample_rate,u=n.sample_granularity,l=void 0===u?yn:u,p=n.include_users,f=n.rules;return{sample:{include_users:p,sample_rate:c*a,sample_granularity:l,rules:(void 0===f?[]:f).reduce((function(e,t){var n=t.name,i=t.enable,r=t.sample_rate,o=t.conditional_sample_rules;return e[n]={enable:i,sample_rate:r,conditional_sample_rules:o},e}),{})},plugins:{heatmap:null!==(t=null==i?void 0:i.heatmap)&&void 0!==t&&t},apdex:s,serverTimestamp:r}}var Gn=function(e,t){return void 0===t&&(t=_n),(e&&e.indexOf("//")>=0?"":"https://")+e+t},zn=function(e,t){return void 0===t&&(t=gn),(e&&e.indexOf("//")>=0?"":"https://")+e+t},jn=function(){return G()},Un=function(e){var t=[];return e.observe=function(e){t.push(e)},e.push=function(){for(var n,o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return o.forEach((function(e){t.forEach((function(t){return t(e)}))})),(n=[].push).call.apply(n,r([e],i(o),!1))},e},Bn=function(){var e,t,n,i=X(),r=Z();if(i&&r)return(null===(n=null===(t=null===(e=ne())||void 0===e?void 0:e.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===n?void 0:n[1])||"Slardar"},Vn=function(e){return mn+e},qn=function(e,t){var n=localStorage.getItem(e);if(n&&we()&&"{"===n[0])try{Se(e,JSON.parse(n),t)}catch(C){}},Fn=function(e,t){void 0===e&&(e="");var n={userId:G(),deviceId:G()};if(t<=0)return n;var i=Vn(e);return qn(i,t),Ee(i)||n},Kn=function(e){var t=e.bid,n=e.userId,i=e.deviceId,r=e.storageExpires,o=Vn(t);Se(o,{userId:n,deviceId:i},ke(r))},Hn={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},Wn=function(e){var t,i,r=e,o={},a=Hn.get(),s=u,c=u;return{getConfig:function(){return r},setConfig:function(e){return o=n(n({},o),e||{}),l(),t||(t=e,r.useLocalConfig||!r.bid?(i={},s()):a?p():Jn(r.transport,r.domain,r.bid,(function(e){a=e,p()}))),r},onChange:function(e){c=e},onReady:function(e){s=function(){Kn(r),e()},i&&s()}};function l(){var t=n(n(n({},e),i||{}),o);t.plugins=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0;i<e.length;)n=y(n,e[i++]);return n}(e.plugins,(null==i?void 0:i.plugins)||{},o.plugins||{}),t.sample=Xn(Xn(e.sample,null==i?void 0:i.sample),o.sample),r=t,c()}function p(){i=Mn(a),l(),s()}};function Jn(e,t,n,i){e.get({withCredentials:!0,url:zn(t)+"?bid="+n+"&store=1",success:function(e){i(e.data||{})},fail:function(){i({sample:{sample_rate:.001}})}})}function Xn(e,t){if(!e||!t)return e||t;var o=n(n({},e),t);return o.include_users=r(r([],i(e.include_users||[]),!1),i(t.include_users||[]),!1),o.rules=r(r([],i(Object.keys(e.rules||{})),!1),i(Object.keys(t.rules||{})),!1).reduce((function(o,a){var s,c;return a in o||(a in(e.rules||{})&&a in(t.rules||{})?(o[a]=n(n({},e.rules[a]),t.rules[a]),o[a].conditional_sample_rules=r(r([],i(e.rules[a].conditional_sample_rules||[]),!1),i(t.rules[a].conditional_sample_rules||[]),!1)):o[a]=(null===(s=e.rules)||void 0===s?void 0:s[a])||(null===(c=t.rules)||void 0===c?void 0:c[a])),o}),{}),o}var Zn,Yn={build:function(e){return{ev_type:e.ev_type,payload:e.payload,common:n(n({},e.extra||{}),e.overrides||{})}}},$n=function(e){var t={url:oe(),timestamp:J(),sdk_version:dn,sdk_name:hn};return n(n({},e),{extra:n(n({},t),e.extra||{})})},Qn=function(e){e.on("report",(function(e){return $n(e)}))},ei={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},ti=function(e){return Object.keys(e).reduce((function(e,t){return e[t]=[],e}),{})},ni=function(e){return Object.keys(e).reduce((function(t,n){return t[e[n]]?t[e[n]].push(n):t[e[n]]=[n],t}),{})},ii=function(e,t,i){return function(r,o,a,s){var c;void 0===a&&(a=J()),void 0===s&&(s=location.href);var u=n(n({},_e(e)),{url:s,timestamp:a});t[r]&&(e[i[r]]?me(e,u)((function(){e[i[r]](o)})):null===(c=t[r])||void 0===c||c.push([o,u]))}},ri=function(e,t,n){return function(r){r in n&&n[r].forEach((function(n){var o;null===(o=t[n])||void 0===o||o.forEach((function(t){var n=i(t,2),o=n[0],a=n[1];me(e,a)((function(){e[r](o)}))})),t[n]=null}))}},oi=function(e,t){return"err"===t?!1!==S(e,"plugins."+_t+".onerror",(function(e,t){return e[t]})):"reject"!==t||!1!==S(e,"plugins."+_t+".onunhandledrejection",(function(e,t){return e[t]}))},ai=function(e,t){var n;void 0===t&&(t=ei);var r=ti(t),o=ni(t),a=ii(e,r,t);(null===(n=e.p)||void 0===n?void 0:n.a)&&"observe"in e.p.a&&e.p.a.observe((function(t){var n=i(t,5);n[0];var r=n[1],o=n[2],s=n[3],c=n[4],u=e.config();oi(u,r)&&a(r,o,s,c)})),e.on("init",(function(){var t,n=e.config();null===(t=e.p)||void 0===t||t.a.forEach((function(e){var t=i(e,5);t[0];var r=t[1],o=t[2],s=t[3],c=t[4];oi(n,r)&&a(r,o,s,c)})),e.p&&e.p.a&&(e.p.a.length=0),e.provide("precollect",(function(e,t,i,r){void 0===i&&(i=J()),void 0===r&&(r=location.href),oi(n,e)&&a(e,t,i,r)}))})),e.on("provide",ri(e,r,o))},si=function(e){var t=i(e,2),n=t[0],r=t[1];return{ev_type:je,payload:{error:gt(n),breadcrumbs:[],extra:r||{}},extra:{bid:"slardar_sdk"}}},ci=function(e,t){void 0===t&&(t=.001);var n=fe(X());n&&(n.errors||(n.errors=[]),"observe"in n.errors||N(t)&&(n.errors=Un(n.errors),n.errors.forEach((function(t){e.report(si(t))})),n.errors.observe((function(t){e.report(si(t))}))))},ui=function(e){var t,i=!1;e.on("init",(function(){t=(new Date).getTime(),e.on("config",(function(){var r,o=null===(r=e.config())||void 0===r?void 0:r.serverTimestamp;if(!(isNaN(o)||Number(o)<=0||i)){i=!0;var a=(new Date).getTime();if(a-t<700&&o){var s=o-(a+t)/2;!isNaN(s)&&(s>0||s<-6e5)&&e.on("beforeBuild",(function(e){var t;return n(n({},e),{extra:n(n({},null!==(t=e.extra)&&void 0!==t?t:{}),{sdk_offset:null!=s?s:0})})}))}}}))}))},li=function(e,t){var i={};return i.bid=t.bid,i.pid=t.pid,i.view_id=t.viewId,i.user_id=t.userId,i.device_id=t.deviceId,i.session_id=t.sessionId,i.release=t.release,i.env=t.env,n(n({},e),{extra:n(n({},i),e.extra||{})})},pi=function(e){e.on("beforeBuild",(function(t){return li(t,e.config())}))},fi=function(e){e.on("start",(function(){var t=e.config().bid,n=e.getSender();n.setEndpoint(n.getEndpoint()+"?biz_id="+t)}))},di=function(e){var t=ke(e.storageExpires),n=Fn(e.bid,t);return{bid:"",pid:"",viewId:kt("_"),userId:n.userId,deviceId:n.deviceId,storageExpires:t,sessionId:jn(),domain:ln,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:fn,plugins:{ajax:{ignoreUrls:vn},fetch:{ignoreUrls:vn},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:wn,transport:cn()}},hi=function(e){var t=void 0===e?{}:e,o=t.createSender,a=void 0===o?function(e){return un({size:20,endpoint:Gn(e.domain),transport:e.transport})}:o,s=t.builder,c=void 0===s?Yn:s,u=t.createDefaultConfig,l=q({validateInitConfig:Nn,initConfigNormalizer:Pn,userConfigNormalizer:Ln,createSender:a,builder:c,createDefaultConfig:void 0===u?di:u,createConfigManager:Wn});ci(l),F(l);var p=fe(X());!function(e,t){var n=t||{},r={};e.provide("setFilter",(function(e,t){r[e]||(r[e]=[]),r[e].push(t)})),e.provide("initSubject",(function(t){var o=i(t,2),a=o[0],s=o[1],c=function(e){return e.split("_")[0]}(a),u=!!c&&r[c];return n[a]||(n[a]=U(s,(function(){n[a]=void 0}))),u?W(e,[a,B(n[a],u)]):n[a]})),e.provide("getSubject",(function(e){return n[e]})),e.provide("privateSubject",{})}(l,p&&p.subject),ui(l),pi(l),Qn(l),function(e){var t=te(),i=en(t);t&&(t.onchange=function(){i=en(t)}),e.on("report",(function(e){return n(n({},e),{extra:n(n({},e.extra||{}),{network_type:i})})}))}(l),fi(l);var f=K(l,_e,(function(e,t,n){return me(e,t)((function(){var e=i(n),t=e[0],o=e.slice(1);l[t].apply(l,r([],i(o),!1))}))}));return function(e,t){e.on("init",(function(){var n=[],i=function(i){i.forEach((function(i){var r=i.name;w(n,r)||(n.push(r),i.setup(e),t&&t(r,i.setup),e.destroyAgent.set(r,r,[function(){n=E(n,r),i.tearDown&&i.tearDown()}]))}))};e.provide("applyIntegrations",i);var r=e.config();r&&r.integrations&&i(r.integrations)}))}(f,Dn),f},gi=((Zn={})[Mt]=function(e){e.on("init",(function(){var t,r=et(e,Mt,Gt);if(r&&location){var o=r.routeMode,a=r.apdex,s=e.report.bind(e),c=u;if(a){var l=[],p=i(Lt(e.report.bind(e),l,[H(e,vt),H(e,wt)],r),4),f=p[0],d=p[1],h=p[2],g=p[3];s=h,c=f,e.on("send",d),l.push((function(){return e.off("send",d)})),e.on("start",(function(){g(e.config().apdex)})),V(e,Mt,ze,l)}var _=[],m=i(Nt(s,_,At(o)?[]:[e.initSubject(Et),e.initSubject(St)],n(n({},r),{initPid:null===(t=e.config())||void 0===t?void 0:t.pid,onPidUpdate:function(t){var n=kt(t);c(t,n),e.set({pid:t,viewId:n,actionId:void 0})}})),1)[0];W(e,["f_view_0",pe(e)],-1);var v=function(){m(e.config().pid)};e.on("config",v),_.push((function(){return e.off("config",v)})),V(e,Mt,Ge,_),e.provide("sendPageview",m)}}))},Zn[tt]=function(e){e.on("init",(function(){var t=et(e,tt,nt);if(t){var i=[],r=n(n({},t),{setContextAtReq:function(){return ce(e,!0)},setTraceHeader:He(t.trace)}),o=function(){return H(e,Me)};r.autoWrap&&$e(i,[H(e,[Te,Re(XMLHttpRequest&&XMLHttpRequest.prototype)]),o],r),V(e,tt,Ue,i),e.provide("wrapXhr",(function(e){function t(){var t=new e;return $e(i,[U(Re(t)),o],r),t}return t.prototype=new e,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach((function(n){t[n]=e[n]})),t}))}}))},Zn[pt]=function(e){e.on("init",(function(){var t=et(e,pt,ft);if(t){var i=[],r=n(n({},t),{setContextAtReq:function(){return ce(e,!0)},setTraceHeader:He(t.trace)}),o=function(){return H(e,Me)};r.autoWrap&&it(i,[H(e,Ce),o],r),V(e,pt,Ue,i),e.provide("wrapFetch",(function(e){var t=void 0;return it(i,[U((function(n){t=Ie(e,n)})),o],r),t}))}}))},Zn[Wt]=function(e){e.on("init",(function(){if(et(e,Wt,{})){var t=[];Ht(ce(e),t,[H(e,[Te,Re(XMLHttpRequest&&XMLHttpRequest.prototype)]),H(e,Ce),H(e,Le),H(e,Me),W(e,[ue,le(e)])],e.pp),V(e,Wt,Ve,t)}}))},Zn[Yt]=function(e){e.on("init",(function(){var t=et(e,Yt,$t);if(t){var n=[],r=H(e,bt);"SSR"===t.renderType?function(e,t,n,r,o){var a=i(o,2),s=a[0],c=a[1],u=ee(),l=Y(),p=jt(t,0),f=Ut(Bt,n,r);if(!l||!u)return p.isSupport=!1,void f(p);var d=function(e){var t=e.startTime;p.value=t,f(p)},h=(0,i(ge(l),5)[4])(e)[0];if(h)d(h);else{r.push(Ne(u,(function(t){t.name===e&&d(t)}),["paint"])),r.push(c[0]((function(){p.isBounced=!0,f(p)})));var g=function(e){e&&(p.isSupport=!1,f(p))};r.push((function(){return s[1](g)})),s[0](g)}}("first-paint",Yt,ce(e),n,[H(e,vt),H(e,wt)]):Zt(ce(e),n,[r,W(e,[ue,le(e)])]),V(e,Yt,Ve,n)}}))},Zn),_i=function(e){void 0===e&&(e={});var t=hi(e);return function(e){e.on("start",(function(){var t=e.config(),n=t.userId,i=t.sample,r=an(n,i,N,L,[function(){e.destroy()},function(t){e.destroyAgent.removeByEvType(t)}]);e.on("build",r)}))}(t),ai(t),Qt(t),Object.keys(gi).forEach((function(e){Dn(e,gi[e]),gi[e](t)})),Sn(t),t.provide("create",_i),t},mi="precollect",vi=3e5;var yi=_i(),bi=X();bi&&function(e,t){"addEventListener"in e&&(t.pcErr=function(n){var i=(n=n||e.event).target||n.srcElement||{};i instanceof Element||i instanceof HTMLElement?t(mi,"st",{tagName:i.tagName,url:i.getAttribute("href")||i.getAttribute("src")}):t(mi,"err",n.error)},t.pcRej=function(n){n=n||e.event,t(mi,"reject",n.reason||n.detail&&n.detail.reason)},e.addEventListener("error",t.pcErr,!0),e.addEventListener("unhandledrejection",t.pcRej,!0),setTimeout((function(){e.removeEventListener("error",t.pcErr,!0),e.removeEventListener("unhandledrejection",t.pcRej,!0)}),vi)),"PerformanceObserver"in e&&"PerformanceLongTaskTiming"in e&&(t.pp={entries:[]},t.pp.observer=new PerformanceObserver((function(e){t.pp.entries=t.pp.entries.concat(e.getEntries())})),t.pp.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}),setTimeout((function(){t.pp.observer.disconnect()}),vi))}(bi,yi),t.AY=_i},50511:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,i,o,a){if("function"!=typeof i)throw new TypeError("The listener must be a function");var s=new r(i,o||e,a),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],s]:e._events[c].push(s):(e._events[c]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function s(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,a=new Array(o);r<o;r++)a[r]=i[r].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},s.prototype.emit=function(e,t,i,r,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var c,u,l=this._events[s],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,i),!0;case 4:return l.fn.call(l.context,t,i,r),!0;case 5:return l.fn.call(l.context,t,i,r,o),!0;case 6:return l.fn.call(l.context,t,i,r,o,a),!0}for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var f,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),p){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,i);break;case 4:l[u].fn.call(l[u].context,t,i,r);break;default:if(!c)for(f=1,c=new Array(p-1);f<p;f++)c[f-1]=arguments[f];l[u].fn.apply(l[u].context,c)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,i,r){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||i&&s.context!==i||a(this,o);else{for(var c=0,u=[],l=s.length;c<l;c++)(s[c].fn!==t||r&&!s[c].once||i&&s[c].context!==i)&&u.push(s[c]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},32020:function(e,t,n){"use strict";var i=n(36190),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,l=Object.getOwnPropertyNames,p=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(h){var r=d(n);r&&r!==h&&e(t,r,i)}var a=l(n);p&&(a=a.concat(p(n)));for(var s=c(t),g=c(n),_=0;_<a.length;++_){var m=a[_];if(!(o[m]||i&&i[m]||g&&g[m]||s&&s[m])){var v=f(n,m);try{u(t,m,v)}catch(y){}}}}return t}},80494:function(e){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},41147:function(e,t,n){e.exports=function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){var n=t[a][1][e];return r(n||e)}),u,u.exports,e,t,n,i)}return n[a].exports}for(var o=void 0,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,i){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}function p(e){1!==u.push(e)||i||n()}t.exports=p}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var i=e(1);function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&d(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function p(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}function a(){t(r,i)}var s=h(a);"error"===s.status&&i(s.value)}function h(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}function g(e){return e instanceof this?e:o.resolve(new this(r),e)}function _(e){var t=new this(r);return o.reject(t,e)}function m(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(r);++c<n;)l(e[c],c);return u;function l(e,r){function c(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(u,a))}t.resolve(e).then(c,(function(e){i||(i=!0,o.reject(u,e))}))}}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(r);++a<n;)c(e[a]);return s;function c(e){t.resolve(e).then((function(e){i||(i=!0,o.resolve(s,e))}),(function(e){i||(i=!0,o.reject(s,e))}))}}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==c?p(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){p(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){p(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=h(f,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)d(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=g,u.reject=_,u.all=m,u.race=v},{1:1}],3:[function(e,t,i){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}var a=o();function s(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}function c(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var u=Promise;function l(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function p(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function f(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",g=void 0,_={},m=Object.prototype.toString,v="readonly",y="readwrite";function b(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function w(e){return new u((function(t){var n=e.transaction(h,y),i=c([""]);n.objectStore(h).put(i,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}function E(e){return"boolean"==typeof g?u.resolve(g):w(e).then((function(e){return g=e}))}function S(e){var t=_[e.name],n={};n.promise=new u((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function k(e){var t=_[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function T(e,t){var n=_[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function x(e,t){return new u((function(n,i){if(_[e.name]=_[e.name]||M(),e.db){if(!t)return n(e.db);S(e),e.db.close()}var r=[e.name];t&&r.push(e.version);var o=a.open.apply(a,r);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),o.onerror=function(e){e.preventDefault(),i(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),k(e)}}))}function A(e){return x(e,!1)}function O(e){return x(e,!0)}function R(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),i=e.version<e.db.version,r=e.version>e.db.version;if(i&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),r||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function I(e){return new u((function(t,n){var i=new FileReader;i.onerror=n,i.onloadend=function(n){var i=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:i,type:e.type})},i.readAsBinaryString(e)}))}function C(e){return c([b(atob(e.data))],{type:e.type})}function D(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then((function(){var e=_[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return p(n,e,e),n}function N(e){S(e);for(var t=_[e.name],n=t.forages,i=0;i<n.length;i++){var r=n[i];r._dbInfo.db&&(r._dbInfo.db.close(),r._dbInfo.db=null)}return e.db=null,A(e).then((function(t){return e.db=t,R(e)?O(e):t})).then((function(i){e.db=t.db=i;for(var r=0;r<n.length;r++)n[r]._dbInfo.db=i})).catch((function(t){throw T(e,t),t}))}function L(e,t,n,i){void 0===i&&(i=1);try{var r=e.db.transaction(e.storeName,t);n(null,r)}catch(o){if(i>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return u.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),O(e)})).then((function(){return N(e).then((function(){L(e,t,n,i-1)}))})).catch(n);n(o)}}function M(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function G(e){var t=this,n={db:null};if(e)for(var i in e)n[i]=e[i];var r=_[n.name];r||(r=M(),_[n.name]=r),r.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var o=[];function a(){return u.resolve()}for(var s=0;s<r.forages.length;s++){var c=r.forages[s];c!==t&&o.push(c._initReady().catch(a))}var l=r.forages.slice(0);return u.all(o).then((function(){return n.db=r.db,A(n)})).then((function(e){return n.db=e,R(n,t._defaultConfig.version)?O(n):e})).then((function(e){n.db=r.db=e,t._dbInfo=n;for(var i=0;i<l.length;i++){var o=l[i];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}}))}function z(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){L(n._dbInfo,v,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),D(e)&&(e=C(e)),t(e)},a.onerror=function(){i(a.error)}}catch(s){i(s)}}))})).catch(i)}));return l(i,t),i}function j(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){L(n._dbInfo,v,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var i=n.value;D(i)&&(i=C(i));var r=e(i,n.key,s++);void 0!==r?t(r):n.continue()}else t()},a.onerror=function(){i(a.error)}}catch(c){i(c)}}))})).catch(i)}));return l(i,t),i}function U(e,t,n){var i=this;e=f(e);var r=new u((function(n,r){var o;i.ready().then((function(){return o=i._dbInfo,"[object Blob]"===m.call(t)?E(o.db).then((function(e){return e?t:I(t)})):t})).then((function(t){L(i._dbInfo,y,(function(o,a){if(o)return r(o);try{var s=a.objectStore(i._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=c.error?c.error:c.transaction.error;r(e)}}catch(u){r(u)}}))})).catch(r)}));return l(r,n),r}function B(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){L(n._dbInfo,y,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){i(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;i(e)}}catch(s){i(s)}}))})).catch(i)}));return l(i,t),i}function V(e){var t=this,n=new u((function(e,n){t.ready().then((function(){L(t._dbInfo,y,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).clear();r.oncomplete=function(){e()},r.onabort=r.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(a){n(a)}}))})).catch(n)}));return l(n,e),n}function q(e){var t=this,n=new u((function(e,n){t.ready().then((function(){L(t._dbInfo,v,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}}))})).catch(n)}));return l(n,e),n}function F(e,t){var n=this,i=new u((function(t,i){e<0?t(null):n.ready().then((function(){L(n._dbInfo,v,(function(r,o){if(r)return i(r);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,c=a.openKeyCursor();c.onsuccess=function(){var n=c.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},c.onerror=function(){i(c.error)}}catch(u){i(u)}}))})).catch(i)}));return l(i,t),i}function K(e){var t=this,n=new u((function(e,n){t.ready().then((function(){L(t._dbInfo,v,(function(i,r){if(i)return n(i);try{var o=r.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}}))})).catch(n)}));return l(n,e),n}function H(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;if(e.name){var o=e.name===n.name&&r._dbInfo.db?u.resolve(r._dbInfo.db):A(e).then((function(t){var n=_[e.name],i=n.forages;n.db=t;for(var r=0;r<i.length;r++)i[r]._dbInfo.db=t;return t}));i=e.storeName?o.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;S(e);var i=_[e.name],r=i.forages;t.close();for(var o=0;o<r.length;o++){var s=r[o];s._dbInfo.db=null,s._dbInfo.version=n}var c=new u((function(t,i){var r=a.open(e.name,n);r.onerror=function(e){r.result.close(),i(e)},r.onupgradeneeded=function(){r.result.deleteObjectStore(e.storeName)},r.onsuccess=function(){var e=r.result;e.close(),t(e)}}));return c.then((function(e){i.db=e;for(var t=0;t<r.length;t++){var n=r[t];n._dbInfo.db=e,k(n._dbInfo)}})).catch((function(t){throw(T(e,t)||u.resolve()).catch((function(){})),t}))}})):o.then((function(t){S(e);var n=_[e.name],i=n.forages;t.close();for(var r=0;r<i.length;r++)i[r]._dbInfo.db=null;var o=new u((function(t,n){var i=a.deleteDatabase(e.name);i.onerror=function(){var e=i.result;e&&e.close(),n(i.error)},i.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},i.onsuccess=function(){var e=i.result;e&&e.close(),t(e)}}));return o.then((function(e){n.db=e;for(var t=0;t<i.length;t++)k(i[t]._dbInfo)})).catch((function(t){throw(T(e,t)||u.resolve()).catch((function(){})),t}))}))}else i=u.reject("Invalid arguments");return l(i,t),i}var W={_driver:"asyncStorage",_initStorage:G,_support:s(),iterate:j,getItem:z,setItem:U,removeItem:B,clear:V,length:q,key:F,keys:K,dropInstance:H};function J(){return"function"==typeof openDatabase}var X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Z="~~local_forage_type~",Y=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",Q=$.length,ee="arbf",te="blob",ne="si08",ie="ui08",re="uic8",oe="si16",ae="si32",se="ur16",ce="ui32",ue="fl32",le="fl64",pe=Q+ee.length,fe=Object.prototype.toString;function de(e){var t,n,i,r,o,a=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),l=new Uint8Array(u);for(t=0;t<s;t+=4)n=X.indexOf(e[t]),i=X.indexOf(e[t+1]),r=X.indexOf(e[t+2]),o=X.indexOf(e[t+3]),l[c++]=n<<2|i>>4,l[c++]=(15&i)<<4|r>>2,l[c++]=(3&r)<<6|63&o;return u}function he(e){var t,n=new Uint8Array(e),i="";for(t=0;t<n.length;t+=3)i+=X[n[t]>>2],i+=X[(3&n[t])<<4|n[t+1]>>4],i+=X[(15&n[t+1])<<2|n[t+2]>>6],i+=X[63&n[t+2]];return n.length%3==2?i=i.substring(0,i.length-1)+"=":n.length%3==1&&(i=i.substring(0,i.length-2)+"=="),i}function ge(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var i,r=$;e instanceof ArrayBuffer?(i=e,r+=ee):(i=e.buffer,"[object Int8Array]"===n?r+=ne:"[object Uint8Array]"===n?r+=ie:"[object Uint8ClampedArray]"===n?r+=re:"[object Int16Array]"===n?r+=oe:"[object Uint16Array]"===n?r+=se:"[object Int32Array]"===n?r+=ae:"[object Uint32Array]"===n?r+=ce:"[object Float32Array]"===n?r+=ue:"[object Float64Array]"===n?r+=le:t(new Error("Failed to get type for BinaryArray"))),t(r+he(i))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=Z+e.type+"~"+he(this.result);t($+te+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(a){console.error("Couldn't convert value into a JSON string: ",e),t(null,a)}}function _e(e){if(e.substring(0,Q)!==$)return JSON.parse(e);var t,n=e.substring(pe),i=e.substring(Q,pe);if(i===te&&Y.test(n)){var r=n.match(Y);t=r[1],n=n.substring(r[0].length)}var o=de(n);switch(i){case ee:return o;case te:return c([o],{type:t});case ne:return new Int8Array(o);case ie:return new Uint8Array(o);case re:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case se:return new Uint16Array(o);case ae:return new Int32Array(o);case ce:return new Uint32Array(o);case ue:return new Float32Array(o);case le:return new Float64Array(o);default:throw new Error("Unkown type: "+i)}}var me={serialize:ge,deserialize:_e,stringToBuffer:de,bufferToString:he};function ve(e,t,n,i){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,i)}function ye(e){var t=this,n={db:null};if(e)for(var i in e)n[i]="string"!=typeof e[i]?e[i].toString():e[i];var r=new u((function(e,i){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(r){return i(r)}n.db.transaction((function(r){ve(r,n,(function(){t._dbInfo=n,e()}),(function(e,t){i(t)}))}),i)}));return n.serializer=me,r}function be(e,t,n,i,r,o){e.executeSql(n,i,r,(function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?o(e,a):ve(e,t,(function(){e.executeSql(n,i,r,o)}),o)}),o):o(e,a)}),o)}function we(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){be(n,r,"SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return l(i,t),i}function Ee(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){be(n,r,"SELECT * FROM "+r.storeName,[],(function(n,i){for(var o=i.rows,a=o.length,s=0;s<a;s++){var c=o.item(s),u=c.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){i(t)}))}))})).catch(i)}));return l(i,t),i}function Se(e,t,n,i){var r=this;e=f(e);var o=new u((function(o,a){r.ready().then((function(){void 0===t&&(t=null);var s=t,c=r._dbInfo;c.serializer.serialize(t,(function(t,u){u?a(u):c.db.transaction((function(n){be(n,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){o(s)}),(function(e,t){a(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(i>0)return void o(Se.apply(r,[e,s,n,i-1]));a(t)}}))}))})).catch(a)}));return l(o,n),o}function ke(e,t,n){return Se.apply(this,[e,t,n,1])}function Te(e,t){var n=this;e=f(e);var i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){be(n,r,"DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){i(t)}))}))})).catch(i)}));return l(i,t),i}function xe(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){be(t,i,"DELETE FROM "+i.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Ae(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){be(t,i,"SELECT COUNT(key) as c FROM "+i.storeName,[],(function(t,n){var i=n.rows.item(0).c;e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Oe(e,t){var n=this,i=new u((function(t,i){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){be(n,r,"SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var i=n.rows.length?n.rows.item(0).key:null;t(i)}),(function(e,t){i(t)}))}))})).catch(i)}));return l(i,t),i}function Re(e){var t=this,n=new u((function(e,n){t.ready().then((function(){var i=t._dbInfo;i.db.transaction((function(t){be(t,i,"SELECT key FROM "+i.storeName,[],(function(t,n){for(var i=[],r=0;r<n.rows.length;r++)i.push(n.rows.item(r).key);e(i)}),(function(e,t){n(t)}))}))})).catch(n)}));return l(n,e),n}function Ie(e){return new u((function(t,n){e.transaction((function(i){i.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,i){for(var r=[],o=0;o<i.rows.length;o++)r.push(i.rows.item(o).name);t({db:e,storeNames:r})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}function Ce(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var i,r=this;return l(i=e.name?new u((function(t){var i;i=e.name===n.name?r._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:i,storeNames:[e.storeName]}):t(Ie(i))})).then((function(e){return new u((function(t,n){e.db.transaction((function(i){function r(e){return new u((function(t,n){i.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(r(e.storeNames[a]));u.all(o).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):u.reject("Invalid arguments"),t),i}var De={_driver:"webSQLStorage",_initStorage:ye,_support:J(),iterate:Ee,getItem:we,setItem:ke,removeItem:Te,clear:xe,length:Ae,key:Oe,keys:Re,dropInstance:Ce};function Pe(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}function Ne(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Le(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(t){return!0}}function Me(){return!Le()||localStorage.length>0}function Ge(e){var t=this,n={};if(e)for(var i in e)n[i]=e[i];return n.keyPrefix=Ne(e,t._defaultConfig),Me()?(t._dbInfo=n,n.serializer=me,u.resolve()):u.reject()}function ze(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var i=localStorage.key(n);0===i.indexOf(e)&&localStorage.removeItem(i)}}));return l(n,e),n}function je(e,t){var n=this;e=f(e);var i=n.ready().then((function(){var t=n._dbInfo,i=localStorage.getItem(t.keyPrefix+e);return i&&(i=t.serializer.deserialize(i)),i}));return l(i,t),i}function Ue(e,t){var n=this,i=n.ready().then((function(){for(var t=n._dbInfo,i=t.keyPrefix,r=i.length,o=localStorage.length,a=1,s=0;s<o;s++){var c=localStorage.key(s);if(0===c.indexOf(i)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(r),a++)))return u}}}));return l(i,t),i}function Be(e,t){var n=this,i=n.ready().then((function(){var t,i=n._dbInfo;try{t=localStorage.key(e)}catch(r){t=null}return t&&(t=t.substring(i.keyPrefix.length)),t}));return l(i,t),i}function Ve(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,i=[],r=0;r<n;r++){var o=localStorage.key(r);0===o.indexOf(e.keyPrefix)&&i.push(o.substring(e.keyPrefix.length))}return i}));return l(n,e),n}function qe(e){var t=this.keys().then((function(e){return e.length}));return l(t,e),t}function Fe(e,t){var n=this;e=f(e);var i=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return l(i,t),i}function Ke(e,t,n){var i=this;e=f(e);var r=i.ready().then((function(){void 0===t&&(t=null);var n=t;return new u((function(r,o){var a=i._dbInfo;a.serializer.serialize(t,(function(t,i){if(i)o(i);else try{localStorage.setItem(a.keyPrefix+e,t),r(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}}))}))}));return l(r,n),r}function He(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var i,r=this;return i=e.name?new u((function(t){e.storeName?t(Ne(e,r._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):u.reject("Invalid arguments"),l(i,t),i}var We={_driver:"localStorageWrapper",_initStorage:Ge,_support:Pe(),iterate:Ue,getItem:je,setItem:Ke,removeItem:Fe,clear:ze,length:qe,key:Be,keys:Ve,dropInstance:He},Je=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Xe=function(e,t){for(var n=e.length,i=0;i<n;){if(Je(e[i],t))return!0;i++}return!1},Ze=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ye={},$e={},Qe={INDEXEDDB:W,WEBSQL:De,LOCALSTORAGE:We},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),it={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function rt(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(Ze(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=function(){function e(t){for(var n in r(this,e),Qe)if(Qe.hasOwnProperty(n)){var i=Qe[n],o=i._driver;this[n]=o,Ye[o]||this.defineDriver(i)}this._defaultConfig=ot({},it),this._config=ot({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":i(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var i=new u((function(t,n){try{var i=e._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(r);for(var o=nt.concat("_initStorage"),a=0,s=o.length;a<s;a++){var c=o[a];if((!Xe(tt,c)||e[c])&&"function"!=typeof e[c])return void n(r)}var p=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=u.reject(t);return l(n,arguments[arguments.length-1]),n}},n=0,i=tt.length;n<i;n++){var r=tt[n];e[r]||(e[r]=t(r))}};p();var f=function(n){Ye[i]&&console.info("Redefining LocalForage driver: "+i),Ye[i]=e,$e[i]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(d){n(d)}}));return p(i,t,n),i},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var i=Ye[e]?u.resolve(Ye[e]):u.reject(new Error("Driver not found."));return p(i,t,n),i},e.prototype.getSerializer=function(e){var t=u.resolve(me);return p(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return p(n,e,e),n},e.prototype.setDriver=function(e,t,n){var i=this;Ze(e)||(e=[e]);var r=this._getSupportedDrivers(e);function o(){i._config.driver=i.driver()}function a(e){return i._extend(e),o(),i._ready=i._initStorage(i._config),i._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var r=e[t];return t++,i._dbInfo=null,i._ready=null,i.getDriver(r).then(a).catch(n)}o();var s=new Error("No available storage method found.");return i._driverSet=u.reject(s),i._driverSet}return n()}}var c=null!==this._driverSet?this._driverSet.catch((function(){return u.resolve()})):u.resolve();return this._driverSet=c.then((function(){var e=r[0];return i._dbInfo=null,i._ready=null,i.getDriver(e).then((function(e){i._driver=e._driver,o(),i._wrapLibraryMethodsWithReady(),i._initDriver=s(r)}))})).catch((function(){o();var e=new Error("No available storage method found.");return i._driverSet=u.reject(e),i._driverSet})),p(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!$e[e]},e.prototype._extend=function(e){ot(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var r=e[n];this.supports(r)&&t.push(r)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)rt(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new at;t.exports=st},{3:3}]},{},[4])(4)},28007:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,r){for(var o,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in o=Object(arguments[c]))n.call(o,u)&&(s[u]=o[u]);if(t){a=t(o);for(var l=0;l<a.length;l++)i.call(o,a[l])&&(s[a[l]]=o[a[l]])}}return s}},99845:function(e){var t,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(e){t=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,c=[],u=!1,l=-1;function p(){u&&s&&(u=!1,s.length?c=s.concat(c):l=-1,c.length&&f())}function f(){if(!u){var e=a(p);u=!0;for(var t=c.length;t;){for(s=c,c=[];++l<t;)s&&s[l].run();l=-1,t=c.length}s=null,u=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||u||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},78868:function(e,t,n){"use strict";n.d(t,{OO:function(){return p},zv:function(){return d},JP:function(){return f},nI:function(){return h}});var i=n(7270),r=n(21727),o=(n(44470),n(51810)),a=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,s={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},c=function(e){return s[e]};var u,l={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(a,c)}},p=(0,o.createContext)();function f(){return l}var d=function(){function e(){(0,i.Z)(this,e),this.usedNamespaces={}}return(0,r.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function h(){return u}},95788:function(e,t,n){"use strict";n.d(t,{$:function(){return p}});var i=n(30822),r=n(44470),o=n(51810),a=n(78868),s=n(41584);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e,t){var n=(0,o.useRef)();return(0,o.useEffect)((function(){n.current=t?n.current:e}),[e,t]),n.current};function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,o.useContext)(a.OO)||{},c=r.i18n,p=r.defaultNS,f=n||c||(0,a.nI)();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new a.zv),!f){(0,s.O4)("You will need to pass in an i18next instance by using initReactI18next");var d=function(e){return Array.isArray(e)?e[e.length-1]:e},h=[d,{},!1];return h.t=d,h.i18n={},h.ready=!1,h}f.options.react&&void 0!==f.options.react.wait&&(0,s.O4)("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var g=u(u(u({},(0,a.JP)()),f.options.react),t),_=g.useSuspense,m=g.keyPrefix,v=e||p||f.options&&f.options.defaultNS;v="string"==typeof v?[v]:v||["translation"],f.reportNamespaces.addUsedNamespaces&&f.reportNamespaces.addUsedNamespaces(v);var y=(f.isInitialized||f.initializedStoreOnce)&&v.every((function(e){return(0,s.F0)(e,f,g)}));function b(){return f.getFixedT(null,"fallback"===g.nsMode?v:v[0],m)}var w=(0,o.useState)(b),E=(0,i.Z)(w,2),S=E[0],k=E[1],T=v.join(),x=l(T),A=(0,o.useRef)(!0);(0,o.useEffect)((function(){var e=g.bindI18n,t=g.bindI18nStore;function n(){A.current&&k(b)}return A.current=!0,y||_||(0,s.DC)(f,v,(function(){A.current&&k(b)})),y&&x&&x!==T&&A.current&&k(b),e&&f&&f.on(e,n),t&&f&&f.store.on(t,n),function(){A.current=!1,e&&f&&e.split(" ").forEach((function(e){return f.off(e,n)})),t&&f&&t.split(" ").forEach((function(e){return f.store.off(e,n)}))}}),[f,T]);var O=(0,o.useRef)(!0);(0,o.useEffect)((function(){A.current&&!O.current&&k(b),O.current=!1}),[f,m]);var R=[S,f,y];if(R.t=S,R.i18n=f,R.ready=y,y)return R;if(!y&&!_)return R;throw new Promise((function(e){(0,s.DC)(f,v,(function(){e()}))}))}},41584:function(e,t,n){"use strict";function i(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,{DC:function(){return a},F0:function(){return s},Gf:function(){return c},O4:function(){return o}});var r={};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),i.apply(void 0,t))}function a(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?void 0!==t.options.ignoreJSONStructure?t.hasLoadedNamespace(e,{precheck:function(t,i){if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e)||!t.hasResourceBundle(i,e)&&t.services.backendConnector.backend&&(!t.options.resources||t.options.partialBundledLanguages)&&(!a(i,e)||r&&!a(o,e)))}(e,t,n):(o("i18n.languages were undefined or empty",t.languages),!0)}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},66209:function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,_=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case l:case p:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case u:case f:case _:case g:case c:return e;default:return t}}case r:return t}}}function E(e){return w(e)===p}t.AsyncMode=l,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=f,t.Fragment=o,t.Lazy=_,t.Memo=g,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return w(e)===f},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===_},t.isMemo=function(e){return w(e)===g},t.isPortal=function(e){return w(e)===r},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===s||e===a||e===d||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},36190:function(e,t,n){"use strict";e.exports=n(66209)},40820:function(e,t){"use strict";var n,i,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,l=null,p=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(n){throw setTimeout(p,0),n}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(p,0))},i=function(e,t){l=setTimeout(e,t)},r=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var h=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,_=null,m=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==_){var e=t.unstable_now();y=e+v;try{_(!0,e)?w.postMessage(null):(g=!1,_=null)}catch(n){throw w.postMessage(null),n}}else g=!1},n=function(e){_=e,g||(g=!0,w.postMessage(null))},i=function(e,n){m=f((function(){e(t.unstable_now())}),n)},r=function(){d(m),m=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<T(r,t)))break e;e[i]=t,e[n]=r,n=i}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>T(a,n))void 0!==c&&0>T(c,a)?(e[i]=c,e[s]=n,i=s):(e[i]=a,e[o]=n,i=o);else{if(!(void 0!==c&&0>T(c,n)))break e;e[i]=c,e[s]=n,i=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var x=[],A=[],O=1,R=null,I=3,C=!1,D=!1,P=!1;function N(e){for(var t=S(A);null!==t;){if(null===t.callback)k(A);else{if(!(t.startTime<=e))break;k(A),t.sortIndex=t.expirationTime,E(x,t)}t=S(A)}}function L(e){if(P=!1,N(e),!D)if(null!==S(x))D=!0,n(M);else{var t=S(A);null!==t&&i(L,t.startTime-e)}}function M(e,n){D=!1,P&&(P=!1,r()),C=!0;var o=I;try{for(N(n),R=S(x);null!==R&&(!(R.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=R.callback;if("function"==typeof a){R.callback=null,I=R.priorityLevel;var s=a(R.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?R.callback=s:R===S(x)&&k(x),N(n)}else k(x);R=S(x)}if(null!==R)var c=!0;else{var u=S(A);null!==u&&i(L,u.startTime-n),c=!1}return c}finally{R=null,I=o,C=!1}}var G=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){D||C||(D=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return S(x)},t.unstable_next=function(e){switch(I){case 1:case 2:case 3:var t=3;break;default:t=I}var n=I;I=t;try{return e()}finally{I=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=G,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=I;I=e;try{return t()}finally{I=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var c=-1;break;case 2:c=250;break;case 5:c=1073741823;break;case 4:c=1e4;break;default:c=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:a,expirationTime:c=a+c,sortIndex:-1},a>s?(e.sortIndex=a,E(A,e),null===S(x)&&e===S(A)&&(P?r():P=!0,i(L,a-s))):(e.sortIndex=c,E(x,e),D||C||(D=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=I;return function(){var n=I;I=t;try{return e.apply(this,arguments)}finally{I=n}}}},50795:function(e,t,n){"use strict";e.exports=n(40820)},58856:function(e,t,n){"use strict";n.d(t,{CR:function(){return u},Jh:function(){return s},XA:function(){return c},ZT:function(){return r},ev:function(){return l},mG:function(){return a},pi:function(){return o}});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function a(e,t,n,i){return new(n||(n=Promise))((function(r,o){function a(e){try{c(i.next(e))}catch(t){o(t)}}function s(e){try{c(i.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((i=i.apply(e,t||[])).next())}))}function s(e,t){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,i=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(6===s[0]&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(c){s=[6,c],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}Object.create;function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,r,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function l(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}Object.create;"function"==typeof SuppressedError&&SuppressedError}}]);